/*
 * This combined file was created by the DataTables downloader builder:
 *   https://datatables.net/download
 *
 * To rebuild or modify this file with the latest versions of the included
 * software please visit:
 *   https://datatables.net/download/#bs4/af-2.4.0/b-2.2.3/b-colvis-2.2.3/date-1.1.2/sb-1.3.4/sp-2.0.2/sl-1.4.0/sr-1.1.1
 *
 * Included libraries:
 *   AutoFill 2.4.0, Buttons 2.2.3, Column visibility 2.2.3, DateTime 1.1.2, SearchBuilder 1.3.4, SearchPanes 2.0.2, Select 1.4.0, StateRestore 1.1.1
 */

/*!
   SpryMedia Ltd.

 This source file is free software, available under the following license:
   MIT license - http://datatables.net/license/mit

 This source file is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.

 For details please refer to: http://www.datatables.net
 AutoFill 2.4.0
 Â©2008-2022 SpryMedia Ltd - datatables.net/license
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var f=0;return function(){return f<b.length?{done:!1,value:b[f++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,f,g){if(b==Array.prototype||b==Object.prototype)return b;b[f]=g.value;return b};$jscomp.getGlobal=function(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var f=0;f<b.length;++f){var g=b[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(b,f){var g=$jscomp.propertyToPolyfillSymbol[f];if(null==g)return b[f];g=b[g];return void 0!==g?g:b[f]};
$jscomp.polyfill=function(b,f,g,k){f&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(b,f,g,k):$jscomp.polyfillUnisolated(b,f,g,k))};$jscomp.polyfillUnisolated=function(b,f,g,k){g=$jscomp.global;b=b.split(".");for(k=0;k<b.length-1;k++){var m=b[k];if(!(m in g))return;g=g[m]}b=b[b.length-1];k=g[b];f=f(k);f!=k&&null!=f&&$jscomp.defineProperty(g,b,{configurable:!0,writable:!0,value:f})};
$jscomp.polyfillIsolated=function(b,f,g,k){var m=b.split(".");b=1===m.length;k=m[0];k=!b&&k in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var v=0;v<m.length-1;v++){var p=m[v];if(!(p in k))return;k=k[p]}m=m[m.length-1];g=$jscomp.IS_SYMBOL_NATIVE&&"es6"===g?k[m]:null;f=f(g);null!=f&&(b?$jscomp.defineProperty($jscomp.polyfills,m,{configurable:!0,writable:!0,value:f}):f!==g&&($jscomp.propertyToPolyfillSymbol[m]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(m):$jscomp.POLYFILL_PREFIX+m,m=
$jscomp.propertyToPolyfillSymbol[m],$jscomp.defineProperty(k,m,{configurable:!0,writable:!0,value:f})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(b){if(b)return b;var f=function(m,v){this.$jscomp$symbol$id_=m;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:v})};f.prototype.toString=function(){return this.$jscomp$symbol$id_};var g=0,k=function(m){if(this instanceof k)throw new TypeError("Symbol is not a constructor");return new f("jscomp_symbol_"+(m||"")+"_"+g++,m)};return k},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(b){if(b)return b;b=Symbol("Symbol.iterator");for(var f="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),g=0;g<f.length;g++){var k=$jscomp.global[f[g]];"function"===typeof k&&"function"!=typeof k.prototype[b]&&$jscomp.defineProperty(k.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return b},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(b){b={next:b};b[Symbol.iterator]=function(){return this};return b};$jscomp.iteratorFromArray=function(b,f){b instanceof String&&(b+="");var g=0,k={next:function(){if(g<b.length){var m=g++;return{value:f(m,b[m]),done:!1}}k.next=function(){return{done:!0,value:void 0}};return k.next()}};k[Symbol.iterator]=function(){return k};return k};
$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(f){return f})}},"es6","es3");$jscomp.polyfill("Object.is",function(b){return b?b:function(f,g){return f===g?0!==f||1/f===1/g:f!==f&&g!==g}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(f,g){var k=this;k instanceof String&&(k=String(k));var m=k.length;g=g||0;for(0>g&&(g=Math.max(g+m,0));g<m;g++){var v=k[g];if(v===f||Object.is(v,f))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(b,f,g){if(null==b)throw new TypeError("The 'this' value for String.prototype."+g+" must not be null or undefined");if(f instanceof RegExp)throw new TypeError("First argument to String.prototype."+g+" must not be a regular expression");return b+""};$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(f,g){return-1!==$jscomp.checkStringArgs(this,f,"includes").indexOf(f,g||0)}},"es6","es3");
(function(b){"function"===typeof define&&define.amd?define(["jquery","datatables.net"],function(f){return b(f,window,document)}):"object"===typeof exports?module.exports=function(f,g){f||(f=window);g&&g.fn.dataTable||(g=require("datatables.net")(f,g).$);return b(g,f,f.document)}:b(jQuery,window,document)})(function(b,f,g,k){var m=b.fn.dataTable,v=0,p=function(a,d){if(!m.versionCheck||!m.versionCheck("1.10.8"))throw"Warning: AutoFill requires DataTables 1.10.8 or greater";this.c=b.extend(!0,{},m.defaults.autoFill,
p.defaults,d);this.s={dt:new m.Api(a),namespace:".autoFill"+v++,scroll:{},scrollInterval:null,handle:{height:0,width:0},enabled:!1};this.dom={closeButton:b('<div class="dtaf-popover-close">x</div>'),handle:b('<div class="dt-autofill-handle"/>'),select:{top:b('<div class="dt-autofill-select top"/>'),right:b('<div class="dt-autofill-select right"/>'),bottom:b('<div class="dt-autofill-select bottom"/>'),left:b('<div class="dt-autofill-select left"/>')},background:b('<div class="dt-autofill-background"/>'),
list:b('<div class="dt-autofill-list">'+this.s.dt.i18n("autoFill.info","")+"<ul/></div>"),dtScroll:null,offsetParent:null};this._constructor()};b.extend(p.prototype,{enabled:function(){return this.s.enabled},enable:function(a){var d=this;if(!1===a)return this.disable();this.s.enabled=!0;this._focusListener();this.dom.handle.on("mousedown touchstart",function(e){d._mousedown(e);return!1});b(f).on("resize",function(){0<b("div.dt-autofill-handle").length&&d.dom.attachedTo!==k&&d._attach(d.dom.attachedTo)});
var c=function(){d.s.handle={height:!1,width:!1};b(d.dom.handle).css({height:"",width:""});d.dom.attachedTo!==k&&d._attach(d.dom.attachedTo)};b(f).on("orientationchange",function(){setTimeout(function(){c();setTimeout(c,150)},50)});return this},disable:function(){this.s.enabled=!1;this._focusListenerRemove();return this},_constructor:function(){var a=this,d=this.s.dt,c=b("div.dataTables_scrollBody",this.s.dt.table().container());d.settings()[0].autoFill=this;c.length&&(this.dom.dtScroll=c,"static"===
c.css("position")&&c.css("position","relative"));!1!==this.c.enable&&this.enable();d.on("destroy.autoFill",function(){a._focusListenerRemove()})},_attach:function(a){var d=this.s.dt,c=d.cell(a).index(),e=this.dom.handle,h=this.s.handle;c&&-1!==d.columns(this.c.columns).indexes().indexOf(c.column)?(this.dom.offsetParent||(this.dom.offsetParent=b(d.table().node()).offsetParent()),h.height&&h.width||(e.appendTo("body"),h.height=e.outerHeight(),h.width=e.outerWidth()),d=this._getPosition(a,this.dom.offsetParent),
this.dom.attachedTo=a,e.css({top:d.top+a.offsetHeight-h.height,left:d.left+a.offsetWidth-h.width}).appendTo(this.dom.offsetParent)):this._detach()},_actionSelector:function(a){var d=this,c=this,e=this.s.dt,h=p.actions,l=[];b.each(h,function(r,t){t.available(e,a)&&l.push(r)});if(1===l.length&&!1===this.c.alwaysAsk){var n=h[l[0]].execute(e,a);this._update(n,a)}else if(1<l.length){var q=this.dom.list.children("ul").empty();l.push("cancel");b.each(l,function(r,t){q.append(b("<li/>").append('<div class="dt-autofill-question">'+
h[t].option(e,a)+"<div>").append(b('<div class="dt-autofill-button">').append(b('<button class="'+p.classes.btn+'">'+e.i18n("autoFill.button","&gt;")+"</button>"))).on("click",function(){var x=h[t].execute(e,a,b(this).closest("li"));c._update(x,a);c.dom.background.remove();c.dom.list.remove()}))});this.dom.background.appendTo("body");this.dom.background.one("click",function(){d.dom.background.remove();d.dom.list.remove()});this.dom.list.appendTo("body");this.c.closeButton&&(this.dom.list.prepend(this.dom.closeButton).addClass(p.classes.closeable),
this.dom.closeButton.on("click",function(){return d.dom.background.click()}));this.dom.list.css("margin-top",this.dom.list.outerHeight()/2*-1)}},_detach:function(){this.dom.attachedTo=null;this.dom.handle.detach()},_drawSelection:function(a,d){var c=this.s.dt;d=this.s.start;var e=b(this.dom.start),h={row:this.c.vertical?c.rows({page:"current"}).nodes().indexOf(a.parentNode):d.row,column:this.c.horizontal?b(a).index():d.column};a=c.column.index("toData",h.column);var l=c.row(":eq("+h.row+")",{page:"current"});
l=b(c.cell(l.index(),a).node());if(c.cell(l).any()&&-1!==c.columns(this.c.columns).indexes().indexOf(a)&&-1!==h.row){this.s.end=h;c=d.row<h.row?e:l;var n=d.row<h.row?l:e;a=d.column<h.column?e:l;e=d.column<h.column?l:e;c=this._getPosition(c.get(0)).top;a=this._getPosition(a.get(0)).left;d=this._getPosition(n.get(0)).top+n.outerHeight()-c;e=this._getPosition(e.get(0)).left+e.outerWidth()-a;h=this.dom.select;h.top.css({top:c,left:a,width:e});h.left.css({top:c,left:a,height:d});h.bottom.css({top:c+d,
left:a,width:e});h.right.css({top:c,left:a+e,height:d})}},_editor:function(a){var d=this.s.dt,c=this.c.editor;if(c){for(var e={},h=[],l=c.fields(),n=0,q=a.length;n<q;n++)for(var r=0,t=a[n].length;r<t;r++){var x=a[n][r],w=d.settings()[0].aoColumns[x.index.column],u=w.editField;if(u===k){w=w.mData;for(var y=0,z=l.length;y<z;y++){var A=c.field(l[y]);if(A.dataSrc()===w){u=A.name();break}}}if(!u)throw"Could not automatically determine field data. Please see https://datatables.net/tn/11";e[u]||(e[u]={});
w=d.row(x.index.row).id();e[u][w]=x.set;h.push(x.index)}c.bubble(h,!1).multiSet(e).submit()}},_emitEvent:function(a,d){this.s.dt.iterator("table",function(c,e){b(c.nTable).triggerHandler(a+".dt",d)})},_focusListener:function(){var a=this,d=this.s.dt,c=this.s.namespace,e=null!==this.c.focus?this.c.focus:d.init().keys||d.settings()[0].keytable?"focus":"hover";if("focus"===e)d.on("key-focus.autoFill",function(h,l,n){a._attach(n.node())}).on("key-blur.autoFill",function(h,l,n){a._detach()});else if("click"===
e)b(d.table().body()).on("click"+c,"td, th",function(h){a._attach(this)}),b(g.body).on("click"+c,function(h){b(h.target).parents().filter(d.table().body()).length||a._detach()});else b(d.table().body()).on("mouseenter"+c+" touchstart"+c,"td, th",function(h){a._attach(this)}).on("mouseleave"+c+"touchend"+c,function(h){b(h.relatedTarget).hasClass("dt-autofill-handle")||a._detach()})},_focusListenerRemove:function(){var a=this.s.dt;a.off(".autoFill");b(a.table().body()).off(this.s.namespace);b(g.body).off(this.s.namespace)},
_getPosition:function(a,d){var c=0,e=0;d||(d=b(b(this.s.dt.table().node())[0].offsetParent));do{var h=a.offsetTop,l=a.offsetLeft;var n=b(a.offsetParent);c+=h+1*parseInt(n.css("border-top-width")||0);e+=l+1*parseInt(n.css("border-left-width")||0);if("body"===a.nodeName.toLowerCase())break;a=n.get(0)}while(n.get(0)!==d.get(0));return{top:c,left:e}},_mousedown:function(a){var d=this,c=this.s.dt;this.dom.start=this.dom.attachedTo;this.s.start={row:c.rows({page:"current"}).nodes().indexOf(b(this.dom.start).parent()[0]),
column:b(this.dom.start).index()};b(g.body).on("mousemove.autoFill touchmove.autoFill",function(h){d._mousemove(h);if("touchmove"===h.type)b(g.body).one("touchend.autoFill",function(){d._detach()})}).on("mouseup.autoFill touchend.autoFill",function(h){d._mouseup(h)});var e=this.dom.select;c=b(c.table().node()).offsetParent();e.top.appendTo(c);e.left.appendTo(c);e.right.appendTo(c);e.bottom.appendTo(c);this._drawSelection(this.dom.start,a);this.dom.handle.css("display","none");a=this.dom.dtScroll;
this.s.scroll={windowHeight:b(f).height(),windowWidth:b(f).width(),dtTop:a?a.offset().top:null,dtLeft:a?a.offset().left:null,dtHeight:a?a.outerHeight():null,dtWidth:a?a.outerWidth():null}},_mousemove:function(a){var d=a.type.includes("touch")?g.elementFromPoint(a.touches[0].clientX,a.touches[0].clientY):a.target,c=d.nodeName.toLowerCase();if("td"===c||"th"===c)this._drawSelection(d,a),this._shiftScroll(a)},_mouseup:function(a){b(g.body).off(".autoFill");var d=this,c=this.s.dt,e=this.dom.select;e.top.remove();
e.left.remove();e.right.remove();e.bottom.remove();this.dom.handle.css("display","block");e=this.s.start;var h=this.s.end;if(e.row!==h.row||e.column!==h.column){var l=c.cell(":eq("+e.row+")",e.column+":visible",{page:"current"});if(b("div.DTE",l.node()).length){var n=c.editor();n.on("submitSuccess.dtaf close.dtaf",function(){n.off(".dtaf");setTimeout(function(){d._mouseup(a)},100)}).on("submitComplete.dtaf preSubmitCancelled.dtaf close.dtaf",function(){n.off(".dtaf")});n.submit()}else{var q=this._range(e.row,
h.row);e=this._range(e.column,h.column);h=[];for(var r=c.settings()[0],t=r.aoColumns,x=c.columns(this.c.columns).indexes(),w=0;w<q.length;w++)h.push(b.map(e,function(u){var y=c.row(":eq("+q[w]+")",{page:"current"});u=c.cell(y.index(),u+":visible");y=u.data();var z=u.index(),A=t[z.column].editField;A!==k&&(y=r.oApi._fnGetObjectDataFn(A)(c.row(z.row).data()));if(-1!==x.indexOf(z.column))return{cell:u,data:y,label:u.data(),index:z}}));this._actionSelector(h);clearInterval(this.s.scrollInterval);this.s.scrollInterval=
null}}},_range:function(a,d){var c=[];if(a<=d)for(;a<=d;a++)c.push(a);else for(;a>=d;a--)c.push(a);return c},_shiftScroll:function(a){var d=this,c=this.s.scroll,e=!1,h=a.type.includes("touch")?a.touches[0].clientX:a.pageX-f.scrollX;a=a.type.includes("touch")?a.touches[0].clientY:a.pageY-f.scrollY;var l,n,q,r;65>a?l=-5:a>c.windowHeight-65&&(l=5);65>h?n=-5:h>c.windowWidth-65&&(n=5);null!==c.dtTop&&a<c.dtTop+65?q=-5:null!==c.dtTop&&a>c.dtTop+c.dtHeight-65&&(q=5);null!==c.dtLeft&&h<c.dtLeft+65?r=-5:null!==
c.dtLeft&&h>c.dtLeft+c.dtWidth-65&&(r=5);l||n||q||r?(c.windowVert=l,c.windowHoriz=n,c.dtVert=q,c.dtHoriz=r,e=!0):this.s.scrollInterval&&(clearInterval(this.s.scrollInterval),this.s.scrollInterval=null);!this.s.scrollInterval&&e&&(this.s.scrollInterval=setInterval(function(){f.scrollTo(f.scrollX+(c.windowHoriz?c.windowHoriz:0),f.scrollY+(c.windowVert?c.windowVert:0));if(c.dtVert||c.dtHoriz){var t=d.dom.dtScroll[0];c.dtVert&&(t.scrollTop+=c.dtVert);c.dtHoriz&&(t.scrollLeft+=c.dtHoriz)}},20))},_update:function(a,
d){if(!1!==a){a=this.s.dt;var c=a.columns(this.c.columns).indexes();this._emitEvent("preAutoFill",[a,d]);this._editor(d);if(null!==this.c.update?this.c.update:!this.c.editor){for(var e=0,h=d.length;e<h;e++)for(var l=0,n=d[e].length;l<n;l++){var q=d[e][l];-1!==c.indexOf(q.index.column)&&q.cell.data(q.set)}a.draw(!1)}this._emitEvent("autoFill",[a,d])}}});p.actions={increment:{available:function(a,d){a=d[0][0].label;return!isNaN(a-parseFloat(a))},option:function(a,d){return a.i18n("autoFill.increment",
'Increment / decrement each cell by: <input type="number" value="1">')},execute:function(a,d,c){a=1*d[0][0].data;c=1*b("input",c).val();for(var e=0,h=d.length;e<h;e++)for(var l=0,n=d[e].length;l<n;l++)d[e][l].set=a,a+=c}},fill:{available:function(a,d){return!0},option:function(a,d){return a.i18n("autoFill.fill","Fill all cells with <i>%d</i>",d[0][0].label)},execute:function(a,d,c){a=d[0][0].data;c=0;for(var e=d.length;c<e;c++)for(var h=0,l=d[c].length;h<l;h++)d[c][h].set=a}},fillHorizontal:{available:function(a,
d){return 1<d.length&&1<d[0].length},option:function(a,d){return a.i18n("autoFill.fillHorizontal","Fill cells horizontally")},execute:function(a,d,c){a=0;for(c=d.length;a<c;a++)for(var e=0,h=d[a].length;e<h;e++)d[a][e].set=d[a][0].data}},fillVertical:{available:function(a,d){return 1<d.length},option:function(a,d){return a.i18n("autoFill.fillVertical","Fill cells vertically")},execute:function(a,d,c){a=0;for(c=d.length;a<c;a++)for(var e=0,h=d[a].length;e<h;e++)d[a][e].set=d[0][e].data}},cancel:{available:function(){return!1},
option:function(a){return a.i18n("autoFill.cancel","Cancel")},execute:function(){return!1}}};p.version="2.4.0";p.defaults={alwaysAsk:!1,closeButton:!0,focus:null,columns:"",enable:!0,update:null,editor:null,vertical:!0,horizontal:!0};p.classes={btn:"btn",closeable:"dtaf-popover-closeable"};var B=b.fn.dataTable.Api;B.register("autoFill()",function(){return this});B.register("autoFill().enabled()",function(){var a=this.context[0];return a.autoFill?a.autoFill.enabled():!1});B.register("autoFill().enable()",
function(a){return this.iterator("table",function(d){d.autoFill&&d.autoFill.enable(a)})});B.register("autoFill().disable()",function(){return this.iterator("table",function(a){a.autoFill&&a.autoFill.disable()})});b(g).on("preInit.dt.autofill",function(a,d,c){"dt"===a.namespace&&(a=d.oInit.autoFill,c=m.defaults.autoFill,a||c)&&(c=b.extend({},a,c),!1!==a&&new p(d,c))});m.AutoFill=p;return m.AutoFill=p});


/*!
 Bootstrap integration for DataTables' AutoFill
 Â©2015 SpryMedia Ltd - datatables.net/license
*/
(function(b){"function"===typeof define&&define.amd?define(["jquery","datatables.net-bs4","datatables.net-autofill"],function(a){return b(a,window,document)}):"object"===typeof exports?module.exports=function(a,c){a||(a=window);c&&c.fn.dataTable||(c=require("datatables.net-bs4")(a,c).$);c.fn.dataTable.AutoFill||require("datatables.net-autofill")(a,c);return b(c,a,a.document)}:b(jQuery,window,document)})(function(b,a,c,d){b=b.fn.dataTable;b.AutoFill.classes.btn="btn btn-primary";return b});


/*!
 Buttons for DataTables 2.2.3
 Â©2016-2022 SpryMedia Ltd - datatables.net/license
*/
(function(d){"function"===typeof define&&define.amd?define(["jquery","datatables.net"],function(A){return d(A,window,document)}):"object"===typeof exports?module.exports=function(A,C){A||(A=window);C&&C.fn.dataTable||(C=require("datatables.net")(A,C).$);return d(C,A,A.document)}:d(jQuery,window,document)})(function(d,A,C,p){function I(a,b,c){d.fn.animate?a.stop().fadeIn(b,c):(a.css("display","block"),c&&c.call(a))}function J(a,b,c){d.fn.animate?a.stop().fadeOut(b,c):(a.css("display","none"),c&&c.call(a))}
function L(a,b){a=new u.Api(a);b=b?b:a.init().buttons||u.defaults.buttons;return(new x(a,b)).container()}var u=d.fn.dataTable,O=0,P=0,D=u.ext.buttons,x=function(a,b){if(!(this instanceof x))return function(c){return(new x(c,a)).container()};"undefined"===typeof b&&(b={});!0===b&&(b={});Array.isArray(b)&&(b={buttons:b});this.c=d.extend(!0,{},x.defaults,b);b.buttons&&(this.c.buttons=b.buttons);this.s={dt:new u.Api(a),buttons:[],listenKeys:"",namespace:"dtb"+O++};this.dom={container:d("<"+this.c.dom.container.tag+
"/>").addClass(this.c.dom.container.className)};this._constructor()};d.extend(x.prototype,{action:function(a,b){a=this._nodeToButton(a);if(b===p)return a.conf.action;a.conf.action=b;return this},active:function(a,b){var c=this._nodeToButton(a);a=this.c.dom.button.active;c=d(c.node);if(b===p)return c.hasClass(a);c.toggleClass(a,b===p?!0:b);return this},add:function(a,b,c){var e=this.s.buttons;if("string"===typeof b){b=b.split("-");var h=this.s;e=0;for(var f=b.length-1;e<f;e++)h=h.buttons[1*b[e]];e=
h.buttons;b=1*b[b.length-1]}this._expandButton(e,a,a!==p?a.split:p,(a===p||a.split===p||0===a.split.length)&&h!==p,!1,b);c!==p&&!0!==c||this._draw();return this},collectionRebuild:function(a,b){a=this._nodeToButton(a);if(b!==p){var c;for(c=a.buttons.length-1;0<=c;c--)this.remove(a.buttons[c].node);for(c=0;c<b.length;c++){var e=b[c];this._expandButton(a.buttons,e,e!==p&&e.config!==p&&e.config.split!==p,!0,e.parentConf!==p&&e.parentConf.split!==p,c,e.parentConf)}}this._draw(a.collection,a.buttons)},
container:function(){return this.dom.container},disable:function(a){a=this._nodeToButton(a);d(a.node).addClass(this.c.dom.button.disabled).attr("disabled",!0);return this},destroy:function(){d("body").off("keyup."+this.s.namespace);var a=this.s.buttons.slice(),b;var c=0;for(b=a.length;c<b;c++)this.remove(a[c].node);this.dom.container.remove();a=this.s.dt.settings()[0];c=0;for(b=a.length;c<b;c++)if(a.inst===this){a.splice(c,1);break}return this},enable:function(a,b){if(!1===b)return this.disable(a);
a=this._nodeToButton(a);d(a.node).removeClass(this.c.dom.button.disabled).removeAttr("disabled");return this},index:function(a,b,c){b||(b="",c=this.s.buttons);for(var e=0,h=c.length;e<h;e++){var f=c[e].buttons;if(c[e].node===a)return b+e;if(f&&f.length&&(f=this.index(a,e+"-",f),null!==f))return f}return null},name:function(){return this.c.name},node:function(a){if(!a)return this.dom.container;a=this._nodeToButton(a);return d(a.node)},processing:function(a,b){var c=this.s.dt,e=this._nodeToButton(a);
if(b===p)return d(e.node).hasClass("processing");d(e.node).toggleClass("processing",b);d(c.table().node()).triggerHandler("buttons-processing.dt",[b,c.button(a),c,d(a),e.conf]);return this},remove:function(a){var b=this._nodeToButton(a),c=this._nodeToHost(a),e=this.s.dt;if(b.buttons.length)for(var h=b.buttons.length-1;0<=h;h--)this.remove(b.buttons[h].node);b.conf.destroying=!0;b.conf.destroy&&b.conf.destroy.call(e.button(a),e,d(a),b.conf);this._removeKey(b.conf);d(b.node).remove();a=d.inArray(b,
c);c.splice(a,1);return this},text:function(a,b){var c=this._nodeToButton(a);a=this.c.dom.collection.buttonLiner;a=c.inCollection&&a&&a.tag?a.tag:this.c.dom.buttonLiner.tag;var e=this.s.dt,h=d(c.node),f=function(g){return"function"===typeof g?g(e,h,c.conf):g};if(b===p)return f(c.conf.text);c.conf.text=b;a?h.children(a).eq(0).filter(":not(.dt-down-arrow)").html(f(b)):h.html(f(b));return this},_constructor:function(){var a=this,b=this.s.dt,c=b.settings()[0],e=this.c.buttons;c._buttons||(c._buttons=
[]);c._buttons.push({inst:this,name:this.c.name});for(var h=0,f=e.length;h<f;h++)this.add(e[h]);b.on("destroy",function(g,l){l===c&&a.destroy()});d("body").on("keyup."+this.s.namespace,function(g){if(!C.activeElement||C.activeElement===C.body){var l=String.fromCharCode(g.keyCode).toLowerCase();-1!==a.s.listenKeys.toLowerCase().indexOf(l)&&a._keypress(l,g)}})},_addKey:function(a){a.key&&(this.s.listenKeys+=d.isPlainObject(a.key)?a.key.key:a.key)},_draw:function(a,b){a||(a=this.dom.container,b=this.s.buttons);
a.children().detach();for(var c=0,e=b.length;c<e;c++)a.append(b[c].inserter),a.append(" "),b[c].buttons&&b[c].buttons.length&&this._draw(b[c].collection,b[c].buttons)},_expandButton:function(a,b,c,e,h,f,g){var l=this.s.dt,m=0,r=Array.isArray(b)?b:[b];b===p&&(r=Array.isArray(c)?c:[c]);c=0;for(var q=r.length;c<q;c++){var n=this._resolveExtends(r[c]);if(n)if(b=n.config!==p&&n.config.split?!0:!1,Array.isArray(n))this._expandButton(a,n,k!==p&&k.conf!==p?k.conf.split:p,e,g!==p&&g.split!==p,f,g);else{var k=
this._buildButton(n,e,n.split!==p||n.config!==p&&n.config.split!==p,h);if(k){f!==p&&null!==f?(a.splice(f,0,k),f++):a.push(k);if(k.conf.buttons||k.conf.split){k.collection=d("<"+(b?this.c.dom.splitCollection.tag:this.c.dom.collection.tag)+"/>");k.conf._collection=k.collection;if(k.conf.split)for(var t=0;t<k.conf.split.length;t++)"object"===typeof k.conf.split[t]&&(k.conf.split[t].parent=g,k.conf.split[t].collectionLayout===p&&(k.conf.split[t].collectionLayout=k.conf.collectionLayout),k.conf.split[t].dropup===
p&&(k.conf.split[t].dropup=k.conf.dropup),k.conf.split[t].fade===p&&(k.conf.split[t].fade=k.conf.fade));else d(k.node).append(d('<span class="dt-down-arrow">'+this.c.dom.splitDropdown.text+"</span>"));this._expandButton(k.buttons,k.conf.buttons,k.conf.split,!b,b,f,k.conf)}k.conf.parent=g;n.init&&n.init.call(l.button(k.node),l,d(k.node),n);m++}}}},_buildButton:function(a,b,c,e){var h=this.c.dom.button,f=this.c.dom.buttonLiner,g=this.c.dom.collection,l=this.c.dom.splitCollection,m=this.c.dom.splitDropdownButton,
r=this.s.dt,q=function(v){return"function"===typeof v?v(r,k,a):v};if(a.spacer){var n=d("<span></span>").addClass("dt-button-spacer "+a.style+" "+h.spacerClass).html(q(a.text));return{conf:a,node:n,inserter:n,buttons:[],inCollection:b,isSplit:c,inSplit:e,collection:null}}!c&&e&&l?h=m:!c&&b&&g.button&&(h=g.button);!c&&e&&l.buttonLiner?f=l.buttonLiner:!c&&b&&g.buttonLiner&&(f=g.buttonLiner);if(a.available&&!a.available(r,a)&&!a.hasOwnProperty("html"))return!1;if(a.hasOwnProperty("html"))var k=d(a.html);
else{var t=function(v,E,F,G){G.action.call(E.button(F),v,E,F,G);d(E.table().node()).triggerHandler("buttons-action.dt",[E.button(F),E,F,G])};g=a.tag||h.tag;var y=a.clickBlurs===p?!0:a.clickBlurs;k=d("<"+g+"/>").addClass(h.className).addClass(e?this.c.dom.splitDropdownButton.className:"").attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(v){v.preventDefault();!k.hasClass(h.disabled)&&a.action&&t(v,r,k,a);y&&k.trigger("blur")}).on("keypress.dtb",
function(v){13===v.keyCode&&(v.preventDefault(),!k.hasClass(h.disabled)&&a.action&&t(v,r,k,a))});"a"===g.toLowerCase()&&k.attr("href","#");"button"===g.toLowerCase()&&k.attr("type","button");f.tag?(g=d("<"+f.tag+"/>").html(q(a.text)).addClass(f.className),"a"===f.tag.toLowerCase()&&g.attr("href","#"),k.append(g)):k.html(q(a.text));!1===a.enabled&&k.addClass(h.disabled);a.className&&k.addClass(a.className);a.titleAttr&&k.attr("title",q(a.titleAttr));a.attr&&k.attr(a.attr);a.namespace||(a.namespace=
".dt-button-"+P++);a.config!==p&&a.config.split&&(a.split=a.config.split)}f=(f=this.c.dom.buttonContainer)&&f.tag?d("<"+f.tag+"/>").addClass(f.className).append(k):k;this._addKey(a);this.c.buttonCreated&&(f=this.c.buttonCreated(a,f));if(c){n=d("<div/>").addClass(this.c.dom.splitWrapper.className);n.append(k);var w=d.extend(a,{text:this.c.dom.splitDropdown.text,className:this.c.dom.splitDropdown.className,closeButton:!1,attr:{"aria-haspopup":"dialog","aria-expanded":!1},align:this.c.dom.splitDropdown.align,
splitAlignClass:this.c.dom.splitDropdown.splitAlignClass});this._addKey(w);var B=function(v,E,F,G){D.split.action.call(E.button(d("div.dt-btn-split-wrapper")[0]),v,E,F,G);d(E.table().node()).triggerHandler("buttons-action.dt",[E.button(F),E,F,G]);F.attr("aria-expanded",!0)},z=d('<button class="'+this.c.dom.splitDropdown.className+' dt-button"><span class="dt-btn-split-drop-arrow">'+this.c.dom.splitDropdown.text+"</span></button>").on("click.dtb",function(v){v.preventDefault();v.stopPropagation();
z.hasClass(h.disabled)||B(v,r,z,w);y&&z.trigger("blur")}).on("keypress.dtb",function(v){13===v.keyCode&&(v.preventDefault(),z.hasClass(h.disabled)||B(v,r,z,w))});0===a.split.length&&z.addClass("dtb-hide-drop");n.append(z).attr(w.attr)}return{conf:a,node:c?n.get(0):k.get(0),inserter:c?n:f,buttons:[],inCollection:b,isSplit:c,inSplit:e,collection:null}},_nodeToButton:function(a,b){b||(b=this.s.buttons);for(var c=0,e=b.length;c<e;c++){if(b[c].node===a)return b[c];if(b[c].buttons.length){var h=this._nodeToButton(a,
b[c].buttons);if(h)return h}}},_nodeToHost:function(a,b){b||(b=this.s.buttons);for(var c=0,e=b.length;c<e;c++){if(b[c].node===a)return b;if(b[c].buttons.length){var h=this._nodeToHost(a,b[c].buttons);if(h)return h}}},_keypress:function(a,b){if(!b._buttonsHandled){var c=function(e){for(var h=0,f=e.length;h<f;h++){var g=e[h].conf,l=e[h].node;g.key&&(g.key===a?(b._buttonsHandled=!0,d(l).click()):!d.isPlainObject(g.key)||g.key.key!==a||g.key.shiftKey&&!b.shiftKey||g.key.altKey&&!b.altKey||g.key.ctrlKey&&
!b.ctrlKey||g.key.metaKey&&!b.metaKey||(b._buttonsHandled=!0,d(l).click()));e[h].buttons.length&&c(e[h].buttons)}};c(this.s.buttons)}},_removeKey:function(a){if(a.key){var b=d.isPlainObject(a.key)?a.key.key:a.key;a=this.s.listenKeys.split("");b=d.inArray(b,a);a.splice(b,1);this.s.listenKeys=a.join("")}},_resolveExtends:function(a){var b=this,c=this.s.dt,e,h=function(m){for(var r=0;!d.isPlainObject(m)&&!Array.isArray(m);){if(m===p)return;if("function"===typeof m){if(m=m.call(b,c,a),!m)return!1}else if("string"===
typeof m){if(!D[m])return{html:m};m=D[m]}r++;if(30<r)throw"Buttons: Too many iterations";}return Array.isArray(m)?m:d.extend({},m)};for(a=h(a);a&&a.extend;){if(!D[a.extend])throw"Cannot extend unknown button type: "+a.extend;var f=h(D[a.extend]);if(Array.isArray(f))return f;if(!f)return!1;var g=f.className;a.config!==p&&f.config!==p&&(a.config=d.extend({},f.config,a.config));a=d.extend({},f,a);g&&a.className!==g&&(a.className=g+" "+a.className);var l=a.postfixButtons;if(l){a.buttons||(a.buttons=[]);
g=0;for(e=l.length;g<e;g++)a.buttons.push(l[g]);a.postfixButtons=null}if(l=a.prefixButtons){a.buttons||(a.buttons=[]);g=0;for(e=l.length;g<e;g++)a.buttons.splice(g,0,l[g]);a.prefixButtons=null}a.extend=f.extend}return a},_popover:function(a,b,c,e){e=this.c;var h=!1,f=d.extend({align:"button-left",autoClose:!1,background:!0,backgroundClassName:"dt-button-background",closeButton:!0,contentClassName:e.dom.collection.className,collectionLayout:"",collectionTitle:"",dropup:!1,fade:400,popoverTitle:"",
rightAlignClassName:"dt-button-right",tag:e.dom.collection.tag},c),g=b.node(),l=function(){h=!0;J(d(".dt-button-collection"),f.fade,function(){d(this).detach()});d(b.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes()).attr("aria-expanded","false");d("div.dt-button-background").off("click.dtb-collection");x.background(!1,f.backgroundClassName,f.fade,g);d(A).off("resize.resize.dtb-collection");d("body").off(".dtb-collection");b.off("buttons-action.b-internal");b.off("destroy")};if(!1===
a)l();else{c=d(b.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes());c.length&&(g.closest("div.dt-button-collection").length&&(g=c.eq(0)),l());c=d(".dt-button",a).length;e="";3===c?e="dtb-b3":2===c?e="dtb-b2":1===c&&(e="dtb-b1");var m=d("<div/>").addClass("dt-button-collection").addClass(f.collectionLayout).addClass(f.splitAlignClass).addClass(e).css("display","none").attr({"aria-modal":!0,role:"dialog"});a=d(a).addClass(f.contentClassName).attr("role","menu").appendTo(m);g.attr("aria-expanded",
"true");g.parents("body")[0]!==C.body&&(g=C.body.lastChild);f.popoverTitle?m.prepend('<div class="dt-button-collection-title">'+f.popoverTitle+"</div>"):f.collectionTitle&&m.prepend('<div class="dt-button-collection-title">'+f.collectionTitle+"</div>");f.closeButton&&m.prepend('<div class="dtb-popover-close">x</div>').addClass("dtb-collection-closeable");I(m.insertAfter(g),f.fade);c=d(b.table().container());var r=m.css("position");if("container"===f.span||"dt-container"===f.align)g=g.parent(),m.css("width",
c.width());if("absolute"===r){var q=d(g[0].offsetParent);c=g.position();e=g.offset();var n=q.offset(),k=q.position(),t=A.getComputedStyle(q[0]);n.height=q.outerHeight();n.width=q.width()+parseFloat(t.paddingLeft);n.right=n.left+n.width;n.bottom=n.top+n.height;q=c.top+g.outerHeight();var y=c.left;m.css({top:q,left:y});t=A.getComputedStyle(m[0]);var w=m.offset();w.height=m.outerHeight();w.width=m.outerWidth();w.right=w.left+w.width;w.bottom=w.top+w.height;w.marginTop=parseFloat(t.marginTop);w.marginBottom=
parseFloat(t.marginBottom);f.dropup&&(q=c.top-w.height-w.marginTop-w.marginBottom);if("button-right"===f.align||m.hasClass(f.rightAlignClassName))y=c.left-w.width+g.outerWidth();if("dt-container"===f.align||"container"===f.align)y<c.left&&(y=-c.left),y+w.width>n.width&&(y=n.width-w.width);k.left+y+w.width>d(A).width()&&(y=d(A).width()-w.width-k.left);0>e.left+y&&(y=-e.left);k.top+q+w.height>d(A).height()+d(A).scrollTop()&&(q=c.top-w.height-w.marginTop-w.marginBottom);k.top+q<d(A).scrollTop()&&(q=
c.top+g.outerHeight());m.css({top:q,left:y})}else r=function(){var B=d(A).height()/2,z=m.height()/2;z>B&&(z=B);m.css("marginTop",-1*z)},r(),d(A).on("resize.dtb-collection",function(){r()});f.background&&x.background(!0,f.backgroundClassName,f.fade,f.backgroundHost||g);d("div.dt-button-background").on("click.dtb-collection",function(){});f.autoClose&&setTimeout(function(){b.on("buttons-action.b-internal",function(B,z,v,E){E[0]!==g[0]&&l()})},0);d(m).trigger("buttons-popover.dt");b.on("destroy",l);
setTimeout(function(){h=!1;d("body").on("click.dtb-collection",function(B){if(!h){var z=d.fn.addBack?"addBack":"andSelf",v=d(B.target).parent()[0];(!d(B.target).parents()[z]().filter(a).length&&!d(v).hasClass("dt-buttons")||d(B.target).hasClass("dt-button-background"))&&l()}}).on("keyup.dtb-collection",function(B){27===B.keyCode&&l()}).on("keydown.dtb-collection",function(B){var z=d("a, button",a),v=C.activeElement;9===B.keyCode&&(-1===z.index(v)?(z.first().focus(),B.preventDefault()):B.shiftKey?
v===z[0]&&(z.last().focus(),B.preventDefault()):v===z.last()[0]&&(z.first().focus(),B.preventDefault()))})},0)}}});x.background=function(a,b,c,e){c===p&&(c=400);e||(e=C.body);a?I(d("<div/>").addClass(b).css("display","none").insertAfter(e),c):J(d("div."+b),c,function(){d(this).removeClass(b).remove()})};x.instanceSelector=function(a,b){if(a===p||null===a)return d.map(b,function(f){return f.inst});var c=[],e=d.map(b,function(f){return f.name}),h=function(f){if(Array.isArray(f))for(var g=0,l=f.length;g<
l;g++)h(f[g]);else"string"===typeof f?-1!==f.indexOf(",")?h(f.split(",")):(f=d.inArray(f.trim(),e),-1!==f&&c.push(b[f].inst)):"number"===typeof f?c.push(b[f].inst):"object"===typeof f&&c.push(f)};h(a);return c};x.buttonSelector=function(a,b){for(var c=[],e=function(l,m,r){for(var q,n,k=0,t=m.length;k<t;k++)if(q=m[k])n=r!==p?r+k:k+"",l.push({node:q.node,name:q.conf.name,idx:n}),q.buttons&&e(l,q.buttons,n+"-")},h=function(l,m){var r,q=[];e(q,m.s.buttons);var n=d.map(q,function(k){return k.node});if(Array.isArray(l)||
l instanceof d)for(n=0,r=l.length;n<r;n++)h(l[n],m);else if(null===l||l===p||"*"===l)for(n=0,r=q.length;n<r;n++)c.push({inst:m,node:q[n].node});else if("number"===typeof l)m.s.buttons[l]&&c.push({inst:m,node:m.s.buttons[l].node});else if("string"===typeof l)if(-1!==l.indexOf(","))for(q=l.split(","),n=0,r=q.length;n<r;n++)h(q[n].trim(),m);else if(l.match(/^\d+(\-\d+)*$/))n=d.map(q,function(k){return k.idx}),c.push({inst:m,node:q[d.inArray(l,n)].node});else if(-1!==l.indexOf(":name"))for(l=l.replace(":name",
""),n=0,r=q.length;n<r;n++)q[n].name===l&&c.push({inst:m,node:q[n].node});else d(n).filter(l).each(function(){c.push({inst:m,node:this})});else"object"===typeof l&&l.nodeName&&(q=d.inArray(l,n),-1!==q&&c.push({inst:m,node:n[q]}))},f=0,g=a.length;f<g;f++)h(b,a[f]);return c};x.stripData=function(a,b){if("string"!==typeof a)return a;a=a.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");a=a.replace(/<!\-\-.*?\-\->/g,"");if(!b||b.stripHtml)a=a.replace(/<[^>]*>/g,"");if(!b||b.trim)a=a.replace(/^\s+|\s+$/g,
"");if(!b||b.stripNewlines)a=a.replace(/\n/g," ");if(!b||b.decodeEntities)M.innerHTML=a,a=M.value;return a};x.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:""},button:{tag:"button",className:"dt-button",active:"active",disabled:"disabled",spacerClass:""},buttonLiner:{tag:"span",className:""},split:{tag:"div",className:"dt-button-split"},splitWrapper:{tag:"div",className:"dt-btn-split-wrapper"},
splitDropdown:{tag:"button",text:"&#x25BC;",className:"dt-btn-split-drop",align:"split-right",splitAlignClass:"dt-button-split-left"},splitDropdownButton:{tag:"button",className:"dt-btn-split-drop-button dt-button"},splitCollection:{tag:"div",className:"dt-button-split-collection"}}};x.version="2.2.3";d.extend(D,{collection:{text:function(a){return a.i18n("buttons.collection","Collection")},className:"buttons-collection",closeButton:!1,init:function(a,b,c){b.attr("aria-expanded",!1)},action:function(a,
b,c,e){e._collection.parents("body").length?this.popover(!1,e):this.popover(e._collection,e);"keypress"===a.type&&d("a, button",e._collection).eq(0).focus()},attr:{"aria-haspopup":"dialog"}},split:{text:function(a){return a.i18n("buttons.split","Split")},className:"buttons-split",closeButton:!1,init:function(a,b,c){return b.attr("aria-expanded",!1)},action:function(a,b,c,e){this.popover(e._collection,e)},attr:{"aria-haspopup":"dialog"}},copy:function(a,b){if(D.copyHtml5)return"copyHtml5"},csv:function(a,
b){if(D.csvHtml5&&D.csvHtml5.available(a,b))return"csvHtml5"},excel:function(a,b){if(D.excelHtml5&&D.excelHtml5.available(a,b))return"excelHtml5"},pdf:function(a,b){if(D.pdfHtml5&&D.pdfHtml5.available(a,b))return"pdfHtml5"},pageLength:function(a){a=a.settings()[0].aLengthMenu;var b=[],c=[];if(Array.isArray(a[0]))b=a[0],c=a[1];else for(var e=0;e<a.length;e++){var h=a[e];d.isPlainObject(h)?(b.push(h.value),c.push(h.label)):(b.push(h),c.push(h))}return{extend:"collection",text:function(f){return f.i18n("buttons.pageLength",
{"-1":"Show all rows",_:"Show %d rows"},f.page.len())},className:"buttons-page-length",autoClose:!0,buttons:d.map(b,function(f,g){return{text:c[g],className:"button-page-length",action:function(l,m){m.page.len(f).draw()},init:function(l,m,r){var q=this;m=function(){q.active(l.page.len()===f)};l.on("length.dt"+r.namespace,m);m()},destroy:function(l,m,r){l.off("length.dt"+r.namespace)}}}),init:function(f,g,l){var m=this;f.on("length.dt"+l.namespace,function(){m.text(l.text)})},destroy:function(f,g,
l){f.off("length.dt"+l.namespace)}}},spacer:{style:"empty",spacer:!0,text:function(a){return a.i18n("buttons.spacer","")}}});u.Api.register("buttons()",function(a,b){b===p&&(b=a,a=p);this.selector.buttonGroup=a;var c=this.iterator(!0,"table",function(e){if(e._buttons)return x.buttonSelector(x.instanceSelector(a,e._buttons),b)},!0);c._groupSelector=a;return c});u.Api.register("button()",function(a,b){a=this.buttons(a,b);1<a.length&&a.splice(1,a.length);return a});u.Api.registerPlural("buttons().active()",
"button().active()",function(a){return a===p?this.map(function(b){return b.inst.active(b.node)}):this.each(function(b){b.inst.active(b.node,a)})});u.Api.registerPlural("buttons().action()","button().action()",function(a){return a===p?this.map(function(b){return b.inst.action(b.node)}):this.each(function(b){b.inst.action(b.node,a)})});u.Api.registerPlural("buttons().collectionRebuild()","button().collectionRebuild()",function(a){return this.each(function(b){for(var c=0;c<a.length;c++)"object"===typeof a[c]&&
(a[c].parentConf=b);b.inst.collectionRebuild(b.node,a)})});u.Api.register(["buttons().enable()","button().enable()"],function(a){return this.each(function(b){b.inst.enable(b.node,a)})});u.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(a){a.inst.disable(a.node)})});u.Api.register("button().index()",function(){var a=null;this.each(function(b){b=b.inst.index(b.node);null!==b&&(a=b)});return a});u.Api.registerPlural("buttons().nodes()","button().node()",
function(){var a=d();d(this.each(function(b){a=a.add(b.inst.node(b.node))}));return a});u.Api.registerPlural("buttons().processing()","button().processing()",function(a){return a===p?this.map(function(b){return b.inst.processing(b.node)}):this.each(function(b){b.inst.processing(b.node,a)})});u.Api.registerPlural("buttons().text()","button().text()",function(a){return a===p?this.map(function(b){return b.inst.text(b.node)}):this.each(function(b){b.inst.text(b.node,a)})});u.Api.registerPlural("buttons().trigger()",
"button().trigger()",function(){return this.each(function(a){a.inst.node(a.node).trigger("click")})});u.Api.register("button().popover()",function(a,b){return this.map(function(c){return c.inst._popover(a,this.button(this[0].node),b)})});u.Api.register("buttons().containers()",function(){var a=d(),b=this._groupSelector;this.iterator(!0,"table",function(c){if(c._buttons){c=x.instanceSelector(b,c._buttons);for(var e=0,h=c.length;e<h;e++)a=a.add(c[e].container())}});return a});u.Api.register("buttons().container()",
function(){return this.containers().eq(0)});u.Api.register("button().add()",function(a,b,c){var e=this.context;e.length&&(e=x.instanceSelector(this._groupSelector,e[0]._buttons),e.length&&e[0].add(b,a,c));return this.button(this._groupSelector,a)});u.Api.register("buttons().destroy()",function(){this.pluck("inst").unique().each(function(a){a.destroy()});return this});u.Api.registerPlural("buttons().remove()","buttons().remove()",function(){this.each(function(a){a.inst.remove(a.node)});return this});
var H;u.Api.register("buttons.info()",function(a,b,c){var e=this;if(!1===a)return this.off("destroy.btn-info"),J(d("#datatables_buttons_info"),400,function(){d(this).remove()}),clearTimeout(H),H=null,this;H&&clearTimeout(H);d("#datatables_buttons_info").length&&d("#datatables_buttons_info").remove();a=a?"<h2>"+a+"</h2>":"";I(d('<div id="datatables_buttons_info" class="dt-button-info"/>').html(a).append(d("<div/>")["string"===typeof b?"html":"append"](b)).css("display","none").appendTo("body"));c!==
p&&0!==c&&(H=setTimeout(function(){e.buttons.info(!1)},c));this.on("destroy.btn-info",function(){e.buttons.info(!1)});return this});u.Api.register("buttons.exportData()",function(a){if(this.context.length)return Q(new u.Api(this.context[0]),a)});u.Api.register("buttons.exportInfo()",function(a){a||(a={});var b=a;var c="*"===b.filename&&"*"!==b.title&&b.title!==p&&null!==b.title&&""!==b.title?b.title:b.filename;"function"===typeof c&&(c=c());c===p||null===c?c=null:(-1!==c.indexOf("*")&&(c=c.replace("*",
d("head > title").text()).trim()),c=c.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""),(b=K(b.extension))||(b=""),c+=b);b=K(a.title);b=null===b?null:-1!==b.indexOf("*")?b.replace("*",d("head > title").text()||"Exported data"):b;return{filename:c,title:b,messageTop:N(this,a.message||a.messageTop,"top"),messageBottom:N(this,a.messageBottom,"bottom")}});var K=function(a){return null===a||a===p?null:"function"===typeof a?a():a},N=function(a,b,c){b=K(b);if(null===b)return null;a=d("caption",a.table().container()).eq(0);
return"*"===b?a.css("caption-side")!==c?null:a.length?a.text():"":b},M=d("<textarea/>")[0],Q=function(a,b){var c=d.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(t){return x.stripData(t,c)},footer:function(t){return x.stripData(t,c)},body:function(t){return x.stripData(t,c)}},customizeData:null},b);b=a.columns(c.columns).indexes().map(function(t){var y=a.column(t).header();
return c.format.header(y.innerHTML,t,y)}).toArray();var e=a.table().footer()?a.columns(c.columns).indexes().map(function(t){var y=a.column(t).footer();return c.format.footer(y?y.innerHTML:"",t,y)}).toArray():null,h=d.extend({},c.modifier);a.select&&"function"===typeof a.select.info&&h.selected===p&&a.rows(c.rows,d.extend({selected:!0},h)).any()&&d.extend(h,{selected:!0});h=a.rows(c.rows,h).indexes().toArray();var f=a.cells(h,c.columns);h=f.render(c.orthogonal).toArray();f=f.nodes().toArray();for(var g=
b.length,l=[],m=0,r=0,q=0<g?h.length/g:0;r<q;r++){for(var n=[g],k=0;k<g;k++)n[k]=c.format.body(h[m],r,k,f[m]),m++;l[r]=n}b={header:b,footer:e,body:l};c.customizeData&&c.customizeData(b);return b};d.fn.dataTable.Buttons=x;d.fn.DataTable.Buttons=x;d(C).on("init.dt plugin-init.dt",function(a,b){"dt"===a.namespace&&(a=b.oInit.buttons||u.defaults.buttons)&&!b._buttons&&(new x(b,a)).container()});u.ext.feature.push({fnInit:L,cFeature:"B"});u.ext.features&&u.ext.features.register("buttons",L);return x});


/*!
 Bootstrap integration for DataTables' Buttons
 Â©2016 SpryMedia Ltd - datatables.net/license
*/
(function(c){"function"===typeof define&&define.amd?define(["jquery","datatables.net-bs4","datatables.net-buttons"],function(a){return c(a,window,document)}):"object"===typeof exports?module.exports=function(a,b){a||(a=window);b&&b.fn.dataTable||(b=require("datatables.net-bs4")(a,b).$);b.fn.dataTable.Buttons||require("datatables.net-buttons")(a,b);return c(b,a,a.document)}:c(jQuery,window,document)})(function(c,a,b,f){a=c.fn.dataTable;c.extend(!0,a.Buttons.defaults,{dom:{container:{className:"dt-buttons btn-group flex-wrap"},
button:{className:"btn btn-secondary"},collection:{tag:"div",className:"dropdown-menu",closeButton:!1,button:{tag:"a",className:"dt-button dropdown-item",active:"active",disabled:"disabled"}},splitWrapper:{tag:"div",className:"dt-btn-split-wrapper btn-group",closeButton:!1},splitDropdown:{tag:"button",text:"",className:"btn btn-secondary dt-btn-split-drop dropdown-toggle dropdown-toggle-split",closeButton:!1,align:"split-left",splitAlignClass:"dt-button-split-left"},splitDropdownButton:{tag:"button",
className:"dt-btn-split-drop-button btn btn-secondary",closeButton:!1}},buttonCreated:function(e,d){return e.buttons?c('<div class="btn-group"/>').append(d):d}});a.ext.buttons.collection.className+=" dropdown-toggle";a.ext.buttons.collection.rightAlignClassName="dropdown-menu-right";return a.Buttons});


/*!
 Column visibility buttons for Buttons and DataTables.
 2016 SpryMedia Ltd - datatables.net/license
*/
(function(h){"function"===typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(e){return h(e,window,document)}):"object"===typeof exports?module.exports=function(e,g){e||(e=window);g&&g.fn.dataTable||(g=require("datatables.net")(e,g).$);g.fn.dataTable.Buttons||require("datatables.net-buttons")(e,g);return h(g,e,e.document)}:h(jQuery,window,document)})(function(h,e,g,l){e=h.fn.dataTable;h.extend(e.ext.buttons,{colvis:function(b,a){var c=null,d={extend:"collection",
init:function(f,k){c=k},text:function(f){return f.i18n("buttons.colvis","Column visibility")},className:"buttons-colvis",closeButton:!1,buttons:[{extend:"columnsToggle",columns:a.columns,columnText:a.columnText}]};b.on("column-reorder.dt"+a.namespace,function(f,k,m){b.button(null,b.button(null,c).node()).collectionRebuild([{extend:"columnsToggle",columns:a.columns,columnText:a.columnText}])});return d},columnsToggle:function(b,a){return b.columns(a.columns).indexes().map(function(c){return{extend:"columnToggle",
columns:c,columnText:a.columnText}}).toArray()},columnToggle:function(b,a){return{extend:"columnVisibility",columns:a.columns,columnText:a.columnText}},columnsVisibility:function(b,a){return b.columns(a.columns).indexes().map(function(c){return{extend:"columnVisibility",columns:c,visibility:a.visibility,columnText:a.columnText}}).toArray()},columnVisibility:{columns:l,text:function(b,a,c){return c._columnText(b,c)},className:"buttons-columnVisibility",action:function(b,a,c,d){b=a.columns(d.columns);
a=b.visible();b.visible(d.visibility!==l?d.visibility:!(a.length&&a[0]))},init:function(b,a,c){var d=this;a.attr("data-cv-idx",c.columns);b.on("column-visibility.dt"+c.namespace,function(f,k){k.bDestroying||k.nTable!=b.settings()[0].nTable||d.active(b.column(c.columns).visible())}).on("column-reorder.dt"+c.namespace,function(f,k,m){c.destroying||1!==b.columns(c.columns).count()||(d.text(c._columnText(b,c)),d.active(b.column(c.columns).visible()))});this.active(b.column(c.columns).visible())},destroy:function(b,
a,c){b.off("column-visibility.dt"+c.namespace).off("column-reorder.dt"+c.namespace)},_columnText:function(b,a){var c=b.column(a.columns).index(),d=b.settings()[0].aoColumns[c].sTitle;d||(d=b.column(c).header().innerHTML);d=d.replace(/\n/g," ").replace(/<br\s*\/?>/gi," ").replace(/<select(.*?)<\/select>/g,"").replace(/<!\-\-.*?\-\->/g,"").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,"");return a.columnText?a.columnText(b,c,d):d}},colvisRestore:{className:"buttons-colvisRestore",text:function(b){return b.i18n("buttons.colvisRestore",
"Restore visibility")},init:function(b,a,c){c._visOriginal=b.columns().indexes().map(function(d){return b.column(d).visible()}).toArray()},action:function(b,a,c,d){a.columns().every(function(f){f=a.colReorder&&a.colReorder.transpose?a.colReorder.transpose(f,"toOriginal"):f;this.visible(d._visOriginal[f])})}},colvisGroup:{className:"buttons-colvisGroup",action:function(b,a,c,d){a.columns(d.show).visible(!0,!1);a.columns(d.hide).visible(!1,!1);a.columns.adjust()},show:[],hide:[]}});return e.Buttons});


/*!
 DateTime picker for DataTables.net v1.1.2

 Â© SpryMedia Ltd, all rights reserved.
 License: MIT datatables.net/license/mit
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(d,f,l){d instanceof String&&(d=String(d));for(var m=d.length,g=0;g<m;g++){var q=d[g];if(f.call(l,q,g,d))return{i:g,v:q}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,f,l){if(d==Array.prototype||d==Object.prototype)return d;d[f]=l.value;return d};$jscomp.getGlobal=function(d){d=["object"==typeof globalThis&&globalThis,d,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var f=0;f<d.length;++f){var l=d[f];if(l&&l.Math==Math)return l}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(d,f){var l=$jscomp.propertyToPolyfillSymbol[f];if(null==l)return d[f];l=d[l];return void 0!==l?l:d[f]};
$jscomp.polyfill=function(d,f,l,m){f&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(d,f,l,m):$jscomp.polyfillUnisolated(d,f,l,m))};$jscomp.polyfillUnisolated=function(d,f,l,m){l=$jscomp.global;d=d.split(".");for(m=0;m<d.length-1;m++){var g=d[m];if(!(g in l))return;l=l[g]}d=d[d.length-1];m=l[d];f=f(m);f!=m&&null!=f&&$jscomp.defineProperty(l,d,{configurable:!0,writable:!0,value:f})};
$jscomp.polyfillIsolated=function(d,f,l,m){var g=d.split(".");d=1===g.length;m=g[0];m=!d&&m in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var q=0;q<g.length-1;q++){var a=g[q];if(!(a in m))return;m=m[a]}g=g[g.length-1];l=$jscomp.IS_SYMBOL_NATIVE&&"es6"===l?m[g]:null;f=f(l);null!=f&&(d?$jscomp.defineProperty($jscomp.polyfills,g,{configurable:!0,writable:!0,value:f}):f!==l&&($jscomp.propertyToPolyfillSymbol[g]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(g):$jscomp.POLYFILL_PREFIX+g,g=
$jscomp.propertyToPolyfillSymbol[g],$jscomp.defineProperty(m,g,{configurable:!0,writable:!0,value:f})))};$jscomp.polyfill("Array.prototype.find",function(d){return d?d:function(f,l){return $jscomp.findInternal(this,f,l).v}},"es6","es3");
(function(d){"function"===typeof define&&define.amd?define(["jquery"],function(f){return d(f,window,document)}):"object"===typeof exports?module.exports=function(f,l){f||(f=window);return d(l,f,f.document)}:d(jQuery,window,document)})(function(d,f,l,m){var g,q=function(a,b){"undefined"===typeof g&&(g=f.moment?f.moment:f.dayjs?f.dayjs:f.luxon?f.luxon:null);this.c=d.extend(!0,{},q.defaults,b);b=this.c.classPrefix;var c=this.c.i18n;if(!g&&"YYYY-MM-DD"!==this.c.format)throw"DateTime: Without momentjs, dayjs or luxon only the format 'YYYY-MM-DD' can be used";
"string"===typeof this.c.minDate&&(this.c.minDate=new Date(this.c.minDate));"string"===typeof this.c.maxDate&&(this.c.maxDate=new Date(this.c.maxDate));c=d('<div class="'+b+'"><div class="'+b+'-date"><div class="'+b+'-title"><div class="'+b+'-iconLeft"><button type="button" title="'+c.previous+'">'+c.previous+'</button></div><div class="'+b+'-iconRight"><button type="button" title="'+c.next+'">'+c.next+'</button></div><div class="'+b+'-label"><span></span><select class="'+b+'-month"></select></div><div class="'+
b+'-label"><span></span><select class="'+b+'-year"></select></div></div><div class="'+b+'-buttons"><a class="'+b+'-clear">'+c.clear+'</a><a class="'+b+'-today">'+c.today+'</a></div><div class="'+b+'-calendar"></div></div><div class="'+b+'-time"><div class="'+b+'-hours"></div><div class="'+b+'-minutes"></div><div class="'+b+'-seconds"></div></div><div class="'+b+'-error"></div></div>');this.dom={container:c,date:c.find("."+b+"-date"),title:c.find("."+b+"-title"),calendar:c.find("."+b+"-calendar"),
time:c.find("."+b+"-time"),error:c.find("."+b+"-error"),buttons:c.find("."+b+"-buttons"),clear:c.find("."+b+"-clear"),today:c.find("."+b+"-today"),input:d(a)};this.s={d:null,display:null,minutesRange:null,secondsRange:null,namespace:"dateime-"+q._instance++,parts:{date:null!==this.c.format.match(/[YMD]|L(?!T)|l/),time:null!==this.c.format.match(/[Hhm]|LT|LTS/),seconds:-1!==this.c.format.indexOf("s"),hours12:null!==this.c.format.match(/[haA]/)}};this.dom.container.append(this.dom.date).append(this.dom.time).append(this.dom.error);
this.dom.date.append(this.dom.title).append(this.dom.buttons).append(this.dom.calendar);this._constructor()};d.extend(q.prototype,{destroy:function(){this._hide(!0);this.dom.container.off().empty();this.dom.input.removeAttr("autocomplete").off(".datetime")},errorMsg:function(a){var b=this.dom.error;a?b.html(a):b.empty();return this},hide:function(){this._hide();return this},max:function(a){this.c.maxDate="string"===typeof a?new Date(a):a;this._optionsTitle();this._setCalander();return this},min:function(a){this.c.minDate=
"string"===typeof a?new Date(a):a;this._optionsTitle();this._setCalander();return this},owns:function(a){return 0<d(a).parents().filter(this.dom.container).length},val:function(a,b){if(a===m)return this.s.d;if(a instanceof Date)this.s.d=this._dateToUtc(a);else if(null===a||""===a)this.s.d=null;else if("--now"===a)this.s.d=new Date;else if("string"===typeof a)if(g&&g==f.luxon){var c=g.DateTime.fromFormat(a,this.c.format);this.s.d=c.isValid?c.toJSDate():null}else g?(c=g.utc(a,this.c.format,this.c.locale,
this.c.strict),this.s.d=c.isValid()?c.toDate():null):(c=a.match(/(\d{4})\-(\d{2})\-(\d{2})/),this.s.d=c?new Date(Date.UTC(c[1],c[2]-1,c[3])):null);if(b||b===m)this.s.d?this._writeOutput():this.dom.input.val(a);this.s.display=this.s.d?new Date(this.s.d.toString()):new Date;this.s.display.setUTCDate(1);this._setTitle();this._setCalander();this._setTime();return this},_constructor:function(){var a=this,b=this.c.classPrefix,c=this.dom.input.val(),k=function(){var e=a.dom.input.val();e!==c&&(a.c.onChange.call(a,
e,a.s.d,a.dom.input),c=e)};this.s.parts.date||this.dom.date.css("display","none");this.s.parts.time||this.dom.time.css("display","none");this.s.parts.seconds||(this.dom.time.children("div."+b+"-seconds").remove(),this.dom.time.children("span").eq(1).remove());this.c.buttons.clear||this.dom.clear.css("display","none");this.c.buttons.today||this.dom.today.css("display","none");this._optionsTitle();d(l).on("i18n.dt",function(e,h){h.oLanguage.datetime&&(d.extend(!0,a.c.i18n,h.oLanguage.datetime),a._optionsTitle())});
"hidden"===this.dom.input.attr("type")&&(this.dom.container.addClass("inline"),this.c.attachTo="input",this.val(this.dom.input.val(),!1),this._show());c&&this.val(c,!1);this.dom.input.attr("autocomplete","off").on("focus.datetime click.datetime",function(){a.dom.container.is(":visible")||a.dom.input.is(":disabled")||(a.val(a.dom.input.val(),!1),a._show())}).on("keyup.datetime",function(){a.dom.container.is(":visible")&&a.val(a.dom.input.val(),!1)});this.dom.container.on("change","select",function(){var e=
d(this),h=e.val();e.hasClass(b+"-month")?(a._correctMonth(a.s.display,h),a._setTitle(),a._setCalander()):e.hasClass(b+"-year")?(a.s.display.setUTCFullYear(h),a._setTitle(),a._setCalander()):e.hasClass(b+"-hours")||e.hasClass(b+"-ampm")?(a.s.parts.hours12?(e=1*d(a.dom.container).find("."+b+"-hours").val(),h="pm"===d(a.dom.container).find("."+b+"-ampm").val(),a.s.d.setUTCHours(12!==e||h?h&&12!==e?e+12:e:0)):a.s.d.setUTCHours(h),a._setTime(),a._writeOutput(!0),k()):e.hasClass(b+"-minutes")?(a.s.d.setUTCMinutes(h),
a._setTime(),a._writeOutput(!0),k()):e.hasClass(b+"-seconds")&&(a.s.d.setSeconds(h),a._setTime(),a._writeOutput(!0),k());a.dom.input.focus();a._position()}).on("click",function(e){var h=a.s.d;h=e.target.nodeName.toLowerCase();var r="span"===h?e.target.parentNode:e.target;h=r.nodeName.toLowerCase();if("select"!==h)if(e.stopPropagation(),"a"===h&&(e.preventDefault(),d(r).hasClass(b+"-clear")?(a.s.d=null,a.dom.input.val(""),a._writeOutput(),a._setCalander(),a._setTime(),k()):d(r).hasClass(b+"-today")&&
(a.s.display=new Date,a._setTitle(),a._setCalander())),"button"===h){var p=d(r);e=p.parent();if(e.hasClass("disabled")&&!e.hasClass("range"))p.blur();else if(e.hasClass(b+"-iconLeft"))a.s.display.setUTCMonth(a.s.display.getUTCMonth()-1),a._setTitle(),a._setCalander(),a.dom.input.focus();else if(e.hasClass(b+"-iconRight"))a._correctMonth(a.s.display,a.s.display.getUTCMonth()+1),a._setTitle(),a._setCalander(),a.dom.input.focus();else{if(p.parents("."+b+"-time").length){r=p.data("value");p=p.data("unit");
h=a._needValue();if("minutes"===p){if(e.hasClass("disabled")&&e.hasClass("range")){a.s.minutesRange=r;a._setTime();return}a.s.minutesRange=null}if("seconds"===p){if(e.hasClass("disabled")&&e.hasClass("range")){a.s.secondsRange=r;a._setTime();return}a.s.secondsRange=null}if("am"===r)if(12<=h.getUTCHours())r=h.getUTCHours()-12;else return;else if("pm"===r)if(12>h.getUTCHours())r=h.getUTCHours()+12;else return;h["hours"===p?"setUTCHours":"minutes"===p?"setUTCMinutes":"setSeconds"](r);a._setTime();a._writeOutput(!0)}else h=
a._needValue(),h.setUTCDate(1),h.setUTCFullYear(p.data("year")),h.setUTCMonth(p.data("month")),h.setUTCDate(p.data("day")),a._writeOutput(!0),a.s.parts.time?a._setCalander():setTimeout(function(){a._hide()},10);k()}}else a.dom.input.focus()})},_compareDates:function(a,b){return g&&g==f.luxon?g.DateTime.fromJSDate(a).toISODate()===g.DateTime.fromJSDate(b).toISODate():this._dateToUtcString(a)===this._dateToUtcString(b)},_correctMonth:function(a,b){var c=this._daysInMonth(a.getUTCFullYear(),b),k=a.getUTCDate()>
c;a.setUTCMonth(b);k&&(a.setUTCDate(c),a.setUTCMonth(b))},_daysInMonth:function(a,b){return[31,0!==a%4||0===a%100&&0!==a%400?28:29,31,30,31,30,31,31,30,31,30,31][b]},_dateToUtc:function(a){return new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()))},_dateToUtcString:function(a){return g&&g==f.luxon?g.DateTime.fromJSDate(a).toISODate():a.getUTCFullYear()+"-"+this._pad(a.getUTCMonth()+1)+"-"+this._pad(a.getUTCDate())},_hide:function(a){if(a||"hidden"!==
this.dom.input.attr("type"))a=this.s.namespace,this.dom.container.detach(),d(f).off("."+a),d(l).off("keydown."+a),d("div.dataTables_scrollBody").off("scroll."+a),d("div.DTE_Body_Content").off("scroll."+a),d("body").off("click."+a),d(this.dom.input[0].offsetParent).off("."+a)},_hours24To12:function(a){return 0===a?12:12<a?a-12:a},_htmlDay:function(a){if(a.empty)return'<td class="empty"></td>';var b=["selectable"],c=this.c.classPrefix;a.disabled&&b.push("disabled");a.today&&b.push("now");a.selected&&
b.push("selected");return'<td data-day="'+a.day+'" class="'+b.join(" ")+'"><button class="'+c+"-button "+c+'-day" type="button" data-year="'+a.year+'" data-month="'+a.month+'" data-day="'+a.day+'"><span>'+a.day+"</span></button></td>"},_htmlMonth:function(a,b){var c=this._dateToUtc(new Date),k=this._daysInMonth(a,b),e=(new Date(Date.UTC(a,b,1))).getUTCDay(),h=[],r=[];0<this.c.firstDay&&(e-=this.c.firstDay,0>e&&(e+=7));for(var p=k+e,u=p;7<u;)u-=7;p+=7-u;var w=this.c.minDate;u=this.c.maxDate;w&&(w.setUTCHours(0),
w.setUTCMinutes(0),w.setSeconds(0));u&&(u.setUTCHours(23),u.setUTCMinutes(59),u.setSeconds(59));for(var n=0,t=0;n<p;n++){var x=new Date(Date.UTC(a,b,1+(n-e))),A=this.s.d?this._compareDates(x,this.s.d):!1,v=this._compareDates(x,c),B=n<e||n>=k+e,z=w&&x<w||u&&x>u,y=this.c.disableDays;Array.isArray(y)&&-1!==d.inArray(x.getUTCDay(),y)?z=!0:"function"===typeof y&&!0===y(x)&&(z=!0);r.push(this._htmlDay({day:1+(n-e),month:b,year:a,selected:A,today:v,disabled:z,empty:B}));7===++t&&(this.c.showWeekNumber&&
r.unshift(this._htmlWeekOfYear(n-e,b,a)),h.push("<tr>"+r.join("")+"</tr>"),r=[],t=0)}c=this.c.classPrefix;k=c+"-table";this.c.showWeekNumber&&(k+=" weekNumber");w&&(w=w>=new Date(Date.UTC(a,b,1,0,0,0)),this.dom.title.find("div."+c+"-iconLeft").css("display",w?"none":"block"));u&&(a=u<new Date(Date.UTC(a,b+1,1,0,0,0)),this.dom.title.find("div."+c+"-iconRight").css("display",a?"none":"block"));return'<table class="'+k+'"><thead>'+this._htmlMonthHead()+"</thead><tbody>"+h.join("")+"</tbody></table>"},
_htmlMonthHead:function(){var a=[],b=this.c.firstDay,c=this.c.i18n,k=function(h){for(h+=b;7<=h;)h-=7;return c.weekdays[h]};this.c.showWeekNumber&&a.push("<th></th>");for(var e=0;7>e;e++)a.push("<th>"+k(e)+"</th>");return a.join("")},_htmlWeekOfYear:function(a,b,c){a=new Date(c,b,a,0,0,0,0);a.setDate(a.getDate()+4-(a.getDay()||7));return'<td class="'+this.c.classPrefix+'-week">'+Math.ceil(((a-new Date(c,0,1))/864E5+1)/7)+"</td>"},_needValue:function(){this.s.d||(this.s.d=this._dateToUtc(new Date));
return this.s.d},_options:function(a,b,c){c||(c=b);a=this.dom.container.find("select."+this.c.classPrefix+"-"+a);a.empty();for(var k=0,e=b.length;k<e;k++)a.append('<option value="'+b[k]+'">'+c[k]+"</option>")},_optionSet:function(a,b){var c=this.dom.container.find("select."+this.c.classPrefix+"-"+a);a=c.parent().children("span");c.val(b);b=c.find("option:selected");a.html(0!==b.length?b.text():this.c.i18n.unknown)},_optionsTime:function(a,b,c,k,e){var h=this.c.classPrefix,r=this.dom.container.find("div."+
h+"-"+a),p=12===b?function(v){return v}:this._pad;h=this.c.classPrefix;var u=h+"-table",w=this.c.i18n;if(r.length){var n="";var t=10;var x=function(v,B,z){12===b&&"number"===typeof v&&(12<=c&&(v+=12),12==v?v=0:24==v&&(v=12));var y=c===v||"am"===v&&12>c||"pm"===v&&12<=c?"selected":"";k&&-1===d.inArray(v,k)&&(y+=" disabled");z&&(y+=" "+z);return'<td class="selectable '+y+'"><button class="'+h+"-button "+h+'-day" type="button" data-unit="'+a+'" data-value="'+v+'"><span>'+B+"</span></button></td>"};if(12===
b){n+="<tr>";for(e=1;6>=e;e++)n+=x(e,p(e));n+=x("am",w.amPm[0]);n+="</tr><tr>";for(e=7;12>=e;e++)n+=x(e,p(e));n+=x("pm",w.amPm[1]);n+="</tr>";t=7}else{if(24===b){var A=0;for(t=0;4>t;t++){n+="<tr>";for(e=0;6>e;e++)n+=x(A,p(A)),A++;n+="</tr>"}}else{n+="<tr>";for(t=0;60>t;t+=10)n+=x(t,p(t),"range");e=null!==e?e:10*Math.floor(c/10);n=n+'</tr></tbody></thead><table class="'+(u+" "+u+'-nospace"><tbody><tr>');for(t=e+1;t<e+10;t++)n+=x(t,p(t));n+="</tr>"}t=6}r.empty().append('<table class="'+u+'"><thead><tr><th colspan="'+
t+'">'+w[a]+"</th></tr></thead><tbody>"+n+"</tbody></table>")}},_optionsTitle:function(){var a=this.c.i18n,b=this.c.minDate,c=this.c.maxDate;b=b?b.getFullYear():null;c=c?c.getFullYear():null;b=null!==b?b:(new Date).getFullYear()-this.c.yearRange;c=null!==c?c:(new Date).getFullYear()+this.c.yearRange;this._options("month",this._range(0,11),a.months);this._options("year",this._range(b,c))},_pad:function(a){return 10>a?"0"+a:a},_position:function(){var a="input"===this.c.attachTo?this.dom.input.position():
this.dom.input.offset(),b=this.dom.container,c=this.dom.input.outerHeight();if(b.hasClass("inline"))b.insertAfter(this.dom.input);else{this.s.parts.date&&this.s.parts.time&&550<d(f).width()?b.addClass("horizontal"):b.removeClass("horizontal");"input"===this.c.attachTo?b.css({top:a.top+c,left:a.left}).insertAfter(this.dom.input):b.css({top:a.top+c,left:a.left}).appendTo("body");var k=b.outerHeight(),e=b.outerWidth(),h=d(f).scrollTop();a.top+c+k-h>d(f).height()&&(c=a.top-k,b.css("top",0>c?0:c));e+a.left>
d(f).width()&&(a=d(f).width()-e,"input"===this.c.attachTo&&(a-=d(b).offsetParent().offset().left),b.css("left",0>a?0:a))}},_range:function(a,b,c){var k=[];for(c||(c=1);a<=b;a+=c)k.push(a);return k},_setCalander:function(){this.s.display&&this.dom.calendar.empty().append(this._htmlMonth(this.s.display.getUTCFullYear(),this.s.display.getUTCMonth()))},_setTitle:function(){this._optionSet("month",this.s.display.getUTCMonth());this._optionSet("year",this.s.display.getUTCFullYear())},_setTime:function(){var a=
this,b=this.s.d,c=null;g&&g==f.luxon&&(c=g.DateTime.fromJSDate(b));var k=null!=c?c.hour:b?b.getUTCHours():0,e=function(h){return a.c[h+"Available"]?a.c[h+"Available"]:a._range(0,59,a.c[h+"Increment"])};this._optionsTime("hours",this.s.parts.hours12?12:24,k,this.c.hoursAvailable);this._optionsTime("minutes",60,null!=c?c.minute:b?b.getUTCMinutes():0,e("minutes"),this.s.minutesRange);this._optionsTime("seconds",60,null!=c?c.second:b?b.getSeconds():0,e("seconds"),this.s.secondsRange)},_show:function(){var a=
this,b=this.s.namespace;this._position();d(f).on("scroll."+b+" resize."+b,function(){a._position()});d("div.DTE_Body_Content").on("scroll."+b,function(){a._position()});d("div.dataTables_scrollBody").on("scroll."+b,function(){a._position()});var c=this.dom.input[0].offsetParent;if(c!==l.body)d(c).on("scroll."+b,function(){a._position()});d(l).on("keydown."+b,function(k){9!==k.keyCode&&27!==k.keyCode&&13!==k.keyCode||a._hide()});setTimeout(function(){d("body").on("click."+b,function(k){d(k.target).parents().filter(a.dom.container).length||
k.target===a.dom.input[0]||a._hide()})},10)},_writeOutput:function(a){var b=this.s.d,c="";b&&(c=g&&g==f.luxon?g.DateTime.fromJSDate(this.s.d).toFormat(this.c.format):g?g.utc(b,m,this.c.locale,this.c.strict).format(this.c.format):b.getUTCFullYear()+"-"+this._pad(b.getUTCMonth()+1)+"-"+this._pad(b.getUTCDate()));this.dom.input.val(c).trigger("change",{write:b});"hidden"===this.dom.input.attr("type")&&this.val(c,!1);a&&this.dom.input.focus()}});q.use=function(a){g=a};q._instance=0;q.defaults={attachTo:"body",
buttons:{clear:!1,today:!1},classPrefix:"dt-datetime",disableDays:null,firstDay:1,format:"YYYY-MM-DD",hoursAvailable:null,i18n:{clear:"Clear",previous:"Previous",next:"Next",months:"January February March April May June July August September October November December".split(" "),weekdays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),amPm:["am","pm"],hours:"Hour",minutes:"Minute",seconds:"Second",unknown:"-",today:"Today"},maxDate:null,minDate:null,minutesAvailable:null,minutesIncrement:1,strict:!0,locale:"en",
onChange:function(){},secondsAvailable:null,secondsIncrement:1,showWeekNumber:!1,yearRange:25};q.version="1.1.2";f.DateTime||(f.DateTime=q);d.fn.dtDateTime=function(a){return this.each(function(){new q(this,a)})};d.fn.dataTable&&(d.fn.dataTable.DateTime=q,d.fn.DataTable.DateTime=q,d.fn.dataTable.Editor&&(d.fn.dataTable.Editor.DateTime=q));return q});


/*!
 SearchBuilder 1.3.4
 Â©SpryMedia Ltd - datatables.net/license/mit
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(k,n,m){if(k==Array.prototype||k==Object.prototype)return k;k[n]=m.value;return k};
$jscomp.getGlobal=function(k){k=["object"==typeof globalThis&&globalThis,k,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var n=0;n<k.length;++n){var m=k[n];if(m&&m.Math==Math)return m}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(k,n){var m=$jscomp.propertyToPolyfillSymbol[n];if(null==m)return k[n];m=k[m];return void 0!==m?m:k[n]};$jscomp.polyfill=function(k,n,m,h){n&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(k,n,m,h):$jscomp.polyfillUnisolated(k,n,m,h))};
$jscomp.polyfillUnisolated=function(k,n,m,h){m=$jscomp.global;k=k.split(".");for(h=0;h<k.length-1;h++){var r=k[h];if(!(r in m))return;m=m[r]}k=k[k.length-1];h=m[k];n=n(h);n!=h&&null!=n&&$jscomp.defineProperty(m,k,{configurable:!0,writable:!0,value:n})};
$jscomp.polyfillIsolated=function(k,n,m,h){var r=k.split(".");k=1===r.length;h=r[0];h=!k&&h in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var q=0;q<r.length-1;q++){var v=r[q];if(!(v in h))return;h=h[v]}r=r[r.length-1];m=$jscomp.IS_SYMBOL_NATIVE&&"es6"===m?h[r]:null;n=n(m);null!=n&&(k?$jscomp.defineProperty($jscomp.polyfills,r,{configurable:!0,writable:!0,value:n}):n!==m&&($jscomp.propertyToPolyfillSymbol[r]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(r):$jscomp.POLYFILL_PREFIX+r,r=
$jscomp.propertyToPolyfillSymbol[r],$jscomp.defineProperty(h,r,{configurable:!0,writable:!0,value:n})))};$jscomp.polyfill("Object.is",function(k){return k?k:function(n,m){return n===m?0!==n||1/n===1/m:n!==n&&m!==m}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(k){return k?k:function(n,m){var h=this;h instanceof String&&(h=String(h));var r=h.length;m=m||0;for(0>m&&(m=Math.max(m+r,0));m<r;m++){var q=h[m];if(q===n||Object.is(q,n))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(k,n,m){if(null==k)throw new TypeError("The 'this' value for String.prototype."+m+" must not be null or undefined");if(n instanceof RegExp)throw new TypeError("First argument to String.prototype."+m+" must not be a regular expression");return k+""};$jscomp.polyfill("String.prototype.includes",function(k){return k?k:function(n,m){return-1!==$jscomp.checkStringArgs(this,n,"includes").indexOf(n,m||0)}},"es6","es3");
$jscomp.arrayIteratorImpl=function(k){var n=0;return function(){return n<k.length?{done:!1,value:k[n++]}:{done:!0}}};$jscomp.arrayIterator=function(k){return{next:$jscomp.arrayIteratorImpl(k)}};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(k){if(k)return k;var n=function(r,q){this.$jscomp$symbol$id_=r;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:q})};n.prototype.toString=function(){return this.$jscomp$symbol$id_};var m=0,h=function(r){if(this instanceof h)throw new TypeError("Symbol is not a constructor");return new n("jscomp_symbol_"+(r||"")+"_"+m++,r)};return h},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(k){if(k)return k;k=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),m=0;m<n.length;m++){var h=$jscomp.global[n[m]];"function"===typeof h&&"function"!=typeof h.prototype[k]&&$jscomp.defineProperty(h.prototype,k,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return k},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(k){k={next:k};k[Symbol.iterator]=function(){return this};return k};$jscomp.iteratorFromArray=function(k,n){k instanceof String&&(k+="");var m=0,h={next:function(){if(m<k.length){var r=m++;return{value:n(r,k[r]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};
$jscomp.polyfill("Array.prototype.keys",function(k){return k?k:function(){return $jscomp.iteratorFromArray(this,function(n){return n})}},"es6","es3");$jscomp.polyfill("String.prototype.startsWith",function(k){return k?k:function(n,m){var h=$jscomp.checkStringArgs(this,n,"startsWith");n+="";var r=h.length,q=n.length;m=Math.max(0,Math.min(m|0,h.length));for(var v=0;v<q&&m<r;)if(h[m++]!=n[v++])return!1;return v>=q}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(k){return k?k:function(n,m){var h=$jscomp.checkStringArgs(this,n,"endsWith");n+="";void 0===m&&(m=h.length);m=Math.max(0,Math.min(m|0,h.length));for(var r=n.length;0<r&&0<m;)if(h[--m]!=n[--r])return!1;return 0>=r}},"es6","es3");
(function(){function k(c){h=c;r=c.fn.dataTable}function n(c){v=c;C=c.fn.dataTable}function m(c){w=c;B=c.fn.DataTable}var h,r,q=function(){function c(a,b,d,e,f,g){var l=this;void 0===e&&(e=0);void 0===f&&(f=1);void 0===g&&(g=void 0);if(!r||!r.versionCheck||!r.versionCheck("1.10.0"))throw Error("SearchPane requires DataTables 1.10 or newer");this.classes=h.extend(!0,{},c.classes);this.c=h.extend(!0,{},c.defaults,h.fn.dataTable.ext.searchBuilder,b);b=this.c.i18n;this.s={condition:void 0,conditions:{},
data:void 0,dataIdx:-1,dataPoints:[],dateFormat:!1,depth:f,dt:a,filled:!1,index:e,origData:void 0,preventRedraw:!1,serverData:g,topGroup:d,type:"",value:[]};this.dom={buttons:h("<div/>").addClass(this.classes.buttonContainer),condition:h("<select disabled/>").addClass(this.classes.condition).addClass(this.classes.dropDown).addClass(this.classes.italic).attr("autocomplete","hacking"),conditionTitle:h('<option value="" disabled selected hidden/>').html(this.s.dt.i18n("searchBuilder.condition",b.condition)),
container:h("<div/>").addClass(this.classes.container),data:h("<select/>").addClass(this.classes.data).addClass(this.classes.dropDown).addClass(this.classes.italic),dataTitle:h('<option value="" disabled selected hidden/>').html(this.s.dt.i18n("searchBuilder.data",b.data)),defaultValue:h("<select disabled/>").addClass(this.classes.value).addClass(this.classes.dropDown).addClass(this.classes.select).addClass(this.classes.italic),"delete":h("<button/>").html(this.s.dt.i18n("searchBuilder.delete",b["delete"])).addClass(this.classes["delete"]).addClass(this.classes.button).attr("title",
this.s.dt.i18n("searchBuilder.deleteTitle",b.deleteTitle)).attr("type","button"),inputCont:h("<div/>").addClass(this.classes.inputCont),left:h("<button/>").html(this.s.dt.i18n("searchBuilder.left",b.left)).addClass(this.classes.left).addClass(this.classes.button).attr("title",this.s.dt.i18n("searchBuilder.leftTitle",b.leftTitle)).attr("type","button"),right:h("<button/>").html(this.s.dt.i18n("searchBuilder.right",b.right)).addClass(this.classes.right).addClass(this.classes.button).attr("title",this.s.dt.i18n("searchBuilder.rightTitle",
b.rightTitle)).attr("type","button"),value:[h("<select disabled/>").addClass(this.classes.value).addClass(this.classes.dropDown).addClass(this.classes.italic).addClass(this.classes.select)],valueTitle:h('<option value="--valueTitle--" disabled selected hidden/>').html(this.s.dt.i18n("searchBuilder.value",b.value))};if(this.c.greyscale)for(this.dom.data.addClass(this.classes.greyscale),this.dom.condition.addClass(this.classes.greyscale),this.dom.defaultValue.addClass(this.classes.greyscale),a=0,d=
this.dom.value;a<d.length;a++)d[a].addClass(this.classes.greyscale);h(window).on("resize.dtsb",r.util.throttle(function(){l.s.topGroup.trigger("dtsb-redrawLogic")}));this._buildCriteria();return this}c._escapeHTML=function(a){return a.toString().replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"')};c.parseNumFmt=function(a){return+a.replace(/(?!^-)[^0-9.]/g,"")};c.prototype.updateArrows=function(a){void 0===a&&(a=!1);this.dom.container.children().detach();this.dom.container.append(this.dom.data).append(this.dom.condition).append(this.dom.inputCont);
this.setListeners();void 0!==this.dom.value[0]&&this.dom.value[0].trigger("dtsb-inserted");for(var b=1;b<this.dom.value.length;b++)this.dom.inputCont.append(this.dom.value[b]),this.dom.value[b].trigger("dtsb-inserted");1<this.s.depth&&this.dom.buttons.append(this.dom.left);(!1===this.c.depthLimit||this.s.depth<this.c.depthLimit)&&a?this.dom.buttons.append(this.dom.right):this.dom.right.remove();this.dom.buttons.append(this.dom["delete"]);this.dom.container.append(this.dom.buttons)};c.prototype.destroy=
function(){this.dom.data.off(".dtsb");this.dom.condition.off(".dtsb");this.dom["delete"].off(".dtsb");for(var a=0,b=this.dom.value;a<b.length;a++)b[a].off(".dtsb");this.dom.container.remove()};c.prototype.search=function(a,b){var d=this.s.conditions[this.s.condition];if(void 0!==this.s.condition&&void 0!==d){var e=a[this.s.dataIdx];if(this.s.type.includes("num")&&(""!==this.s.dt.settings()[0].oLanguage.sDecimal||""!==this.s.dt.settings()[0].oLanguage.sThousands)){e=[a[this.s.dataIdx]];""!==this.s.dt.settings()[0].oLanguage.sDecimal&&
(e=a[this.s.dataIdx].split(this.s.dt.settings()[0].oLanguage.sDecimal));if(""!==this.s.dt.settings()[0].oLanguage.sThousands)for(a=0;a<e.length;a++)e[a]=e[a].replace(this.s.dt.settings()[0].oLanguage.sThousands,",");e=e.join(".")}"filter"!==this.c.orthogonal.search&&(e=this.s.dt.settings()[0],e=e.oApi._fnGetCellData(e,b,this.s.dataIdx,"string"===typeof this.c.orthogonal?this.c.orthogonal:this.c.orthogonal.search));if("array"===this.s.type)for(Array.isArray(e)||(e=[e]),e.sort(),b=0,a=e;b<a.length;b++){var f=
a[b];f&&"string"===typeof f&&f.replace(/[\r\n\u2028]/g," ")}else null!==e&&"string"===typeof e&&(e=e.replace(/[\r\n\u2028]/g," "));this.s.type.includes("html")&&"string"===typeof e&&(e=e.replace(/(<([^>]+)>)/ig,""));null===e&&(e="");return d.search(e,this.s.value,this)}};c.prototype.getDetails=function(a){void 0===a&&(a=!1);if(null!==this.s.type&&this.s.type.includes("num")&&(""!==this.s.dt.settings()[0].oLanguage.sDecimal||""!==this.s.dt.settings()[0].oLanguage.sThousands))for(a=0;a<this.s.value.length;a++){var b=
[this.s.value[a].toString()];""!==this.s.dt.settings()[0].oLanguage.sDecimal&&(b=this.s.value[a].split(this.s.dt.settings()[0].oLanguage.sDecimal));if(""!==this.s.dt.settings()[0].oLanguage.sThousands)for(var d=0;d<b.length;d++)b[d]=b[d].replace(this.s.dt.settings()[0].oLanguage.sThousands,",");this.s.value[a]=b.join(".")}else if(null!==this.s.type&&a)if(this.s.type.includes("date")||this.s.type.includes("time"))for(a=0;a<this.s.value.length;a++)null===this.s.value[a].match(/^\d{4}-([0]\d|1[0-2])-([0-2]\d|3[01])$/g)&&
(this.s.value[a]="");else if(this.s.type.includes("moment"))for(a=0;a<this.s.value.length;a++)this.s.value[a]&&0<this.s.value[a].length&&(0,window.moment)(this.s.value[a],this.s.dateFormat,!0).isValid()&&(this.s.value[a]=(0,window.moment)(this.s.value[a],this.s.dateFormat).format("YYYY-MM-DD HH:mm:ss"));else if(this.s.type.includes("luxon"))for(a=0;a<this.s.value.length;a++)this.s.value[a]&&0<this.s.value[a].length&&null===window.luxon.DateTime.fromFormat(this.s.value[a],this.s.dateFormat).invalid&&
(this.s.value[a]=window.luxon.DateTime.fromFormat(this.s.value[a],this.s.dateFormat).toFormat("yyyy-MM-dd HH:mm:ss"));if(this.s.type.includes("num")&&this.s.dt.page.info().serverSide)for(a=0;a<this.s.value.length;a++)this.s.value[a]=this.s.value[a].replace(/[^0-9.]/g,"");return{condition:this.s.condition,data:this.s.data,origData:this.s.origData,type:this.s.type,value:this.s.value.map(function(e){return null!==e&&void 0!==e?e.toString():e})}};c.prototype.getNode=function(){return this.dom.container};
c.prototype.populate=function(){this._populateData();-1!==this.s.dataIdx&&(this._populateCondition(),void 0!==this.s.condition&&this._populateValue())};c.prototype.rebuild=function(a){var b=!1,d;this._populateData();if(void 0!==a.data){var e=this.classes.italic,f=this.dom.data;this.dom.data.children("option").each(function(){!b&&(h(this).text()===a.data||a.origData&&h(this).prop("origData")===a.origData)?(h(this).prop("selected",!0),f.removeClass(e),b=!0,d=h(this).val()):h(this).removeProp("selected")})}if(b){this.s.data=
a.data;this.s.origData=a.origData;this.s.dataIdx=d;this.c.orthogonal=this._getOptions().orthogonal;this.dom.dataTitle.remove();this._populateCondition();this.dom.conditionTitle.remove();for(var g=void 0,l=this.dom.condition.children("option"),p=0;p<l.length;p++){var t=h(l[p]);void 0!==a.condition&&t.val()===a.condition&&"string"===typeof a.condition?(t.prop("selected",!0),g=t.val()):t.removeProp("selected")}this.s.condition=g;if(void 0!==this.s.condition){this.dom.conditionTitle.removeProp("selected");
this.dom.conditionTitle.remove();this.dom.condition.removeClass(this.classes.italic);for(p=0;p<l.length;p++)t=h(l[p]),t.val()!==this.s.condition&&t.removeProp("selected");this._populateValue(a)}else this.dom.conditionTitle.prependTo(this.dom.condition).prop("selected",!0)}};c.prototype.setListeners=function(){var a=this;this.dom.data.unbind("change").on("change.dtsb",function(){a.dom.dataTitle.removeProp("selected");for(var b=a.dom.data.children("option."+a.classes.option),d=0;d<b.length;d++){var e=
h(b[d]);e.val()===a.dom.data.val()?(a.dom.data.removeClass(a.classes.italic),e.prop("selected",!0),a.s.dataIdx=+e.val(),a.s.data=e.text(),a.s.origData=e.prop("origData"),a.c.orthogonal=a._getOptions().orthogonal,a._clearCondition(),a._clearValue(),a._populateCondition(),a.s.filled&&(a.s.filled=!1,a.s.dt.draw(),a.setListeners()),a.s.dt.state.save()):e.removeProp("selected")}});this.dom.condition.unbind("change").on("change.dtsb",function(){a.dom.conditionTitle.removeProp("selected");for(var b=a.dom.condition.children("option."+
a.classes.option),d=0;d<b.length;d++){var e=h(b[d]);if(e.val()===a.dom.condition.val()){a.dom.condition.removeClass(a.classes.italic);e.prop("selected",!0);e=e.val();for(var f=0,g=Object.keys(a.s.conditions);f<g.length;f++)if(g[f]===e){a.s.condition=e;break}a._clearValue();a._populateValue();e=0;for(f=a.dom.value;e<f.length;e++)g=f[e],a.s.filled&&void 0!==g&&0!==a.dom.inputCont.has(g[0]).length&&(a.s.filled=!1,a.s.dt.draw(),a.setListeners());(0===a.dom.value.length||1===a.dom.value.length&&void 0===
a.dom.value[0])&&a.s.dt.draw()}else e.removeProp("selected")}})};c.prototype.setupButtons=function(){550<window.innerWidth?(this.dom.container.removeClass(this.classes.vertical),this.dom.buttons.css("left",null),this.dom.buttons.css("top",null)):(this.dom.container.addClass(this.classes.vertical),this.dom.buttons.css("left",this.dom.data.innerWidth()),this.dom.buttons.css("top",this.dom.data.position().top))};c.prototype._buildCriteria=function(){this.dom.data.append(this.dom.dataTitle);this.dom.condition.append(this.dom.conditionTitle);
this.dom.container.append(this.dom.data).append(this.dom.condition);this.dom.inputCont.empty();for(var a=0,b=this.dom.value;a<b.length;a++){var d=b[a];d.append(this.dom.valueTitle);this.dom.inputCont.append(d)}this.dom.buttons.append(this.dom["delete"]).append(this.dom.right);this.dom.container.append(this.dom.inputCont).append(this.dom.buttons);this.setListeners()};c.prototype._clearCondition=function(){this.dom.condition.empty();this.dom.conditionTitle.prop("selected",!0).attr("disabled","true");
this.dom.condition.prepend(this.dom.conditionTitle).prop("selectedIndex",0);this.s.conditions={};this.s.condition=void 0};c.prototype._clearValue=function(){if(void 0!==this.s.condition){if(0<this.dom.value.length&&void 0!==this.dom.value[0])for(var a=function(f){void 0!==f&&setTimeout(function(){f.remove()},50)},b=0,d=this.dom.value;b<d.length;b++){var e=d[b];a(e)}this.dom.value=[].concat(this.s.conditions[this.s.condition].init(this,c.updateListener));if(0<this.dom.value.length&&void 0!==this.dom.value[0])for(this.dom.inputCont.empty().append(this.dom.value[0]).insertAfter(this.dom.condition),
this.dom.value[0].trigger("dtsb-inserted"),e=1;e<this.dom.value.length;e++)this.dom.inputCont.append(this.dom.value[e]),this.dom.value[e].trigger("dtsb-inserted")}else{a=function(f){void 0!==f&&setTimeout(function(){f.remove()},50)};b=0;for(d=this.dom.value;b<d.length;b++)e=d[b],a(e);this.dom.valueTitle.prop("selected",!0);this.dom.defaultValue.append(this.dom.valueTitle).insertAfter(this.dom.condition)}this.s.value=[];this.dom.value=[h("<select disabled/>").addClass(this.classes.value).addClass(this.classes.dropDown).addClass(this.classes.italic).addClass(this.classes.select).append(this.dom.valueTitle.clone())]};
c.prototype._getOptions=function(){return h.extend(!0,{},c.defaults,this.s.dt.settings()[0].aoColumns[this.s.dataIdx].searchBuilder)};c.prototype._populateCondition=function(){var a=[],b=Object.keys(this.s.conditions).length,d=this.s.dt.settings()[0].aoColumns,e=+this.dom.data.children("option:selected").val();if(0===b){this.s.type=this.s.dt.columns().type().toArray()[e];if(void 0!==d)if(b=d[e],void 0!==b.searchBuilderType&&null!==b.searchBuilderType)this.s.type=b.searchBuilderType;else if(void 0===
this.s.type||null===this.s.type)this.s.type=b.sType;if(null===this.s.type||void 0===this.s.type)h.fn.dataTable.ext.oApi._fnColumnTypes(this.s.dt.settings()[0]),this.s.type=this.s.dt.columns().type().toArray()[e];this.dom.condition.removeAttr("disabled").empty().append(this.dom.conditionTitle).addClass(this.classes.italic);this.dom.conditionTitle.prop("selected",!0);b=this.s.dt.settings()[0].oLanguage.sDecimal;""!==b&&this.s.type.indexOf(b)===this.s.type.length-b.length&&(this.s.type.includes("num-fmt")?
this.s.type=this.s.type.replace(b,""):this.s.type.includes("num")&&(this.s.type=this.s.type.replace(b,"")));var f=void 0!==this.c.conditions[this.s.type]?this.c.conditions[this.s.type]:this.s.type.includes("moment")?this.c.conditions.moment:this.s.type.includes("luxon")?this.c.conditions.luxon:this.c.conditions.string;this.s.type.includes("moment")?this.s.dateFormat=this.s.type.replace(/moment-/g,""):this.s.type.includes("luxon")&&(this.s.dateFormat=this.s.type.replace(/luxon-/g,""));for(var g=0,
l=Object.keys(f);g<l.length;g++){var p=l[g];null!==f[p]&&(this.s.dt.page.info().serverSide&&f[p].init===c.initSelect&&(b=d[e],this.s.serverData&&this.s.serverData[b.data]?(f[p].init=c.initSelectSSP,f[p].inputValue=c.inputValueSelect,f[p].isInputValid=c.isInputValidSelect):(f[p].init=c.initInput,f[p].inputValue=c.inputValueInput,f[p].isInputValid=c.isInputValidInput)),this.s.conditions[p]=f[p],b=f[p].conditionName,"function"===typeof b&&(b=b(this.s.dt,this.c.i18n)),a.push(h("<option>",{text:b,value:p}).addClass(this.classes.option).addClass(this.classes.notItalic)))}}else if(0<
b)for(this.dom.condition.empty().removeAttr("disabled").addClass(this.classes.italic),f=0,g=Object.keys(this.s.conditions);f<g.length;f++)p=g[f],b=this.s.conditions[p].conditionName,"function"===typeof b&&(b=b(this.s.dt,this.c.i18n)),p=h("<option>",{text:b,value:p}).addClass(this.classes.option).addClass(this.classes.notItalic),void 0!==this.s.condition&&this.s.condition===b&&(p.prop("selected",!0),this.dom.condition.removeClass(this.classes.italic)),a.push(p);else{this.dom.condition.attr("disabled",
"true").addClass(this.classes.italic);return}for(b=0;b<a.length;b++)this.dom.condition.append(a[b]);if(d[e].searchBuilder&&d[e].searchBuilder.defaultCondition)if(d=d[e].searchBuilder.defaultCondition,"number"===typeof d)this.dom.condition.prop("selectedIndex",d),this.dom.condition.trigger("change");else{if("string"===typeof d)for(e=0;e<a.length;e++)for(p=0,f=Object.keys(this.s.conditions);p<f.length;p++)if(g=f[p],b=this.s.conditions[g].conditionName,("string"===typeof b?b:b(this.s.dt,this.c.i18n))===
a[e].text()&&g===d){this.dom.condition.prop("selectedIndex",this.dom.condition.children().toArray().indexOf(a[e][0])).removeClass(this.classes.italic);this.dom.condition.trigger("change");e=a.length;break}}else this.dom.condition.prop("selectedIndex",0)};c.prototype._populateData=function(){var a=this;this.dom.data.empty().append(this.dom.dataTitle);if(0===this.s.dataPoints.length)this.s.dt.columns().every(function(g){if(!0===a.c.columns||a.s.dt.columns(a.c.columns).indexes().toArray().includes(g)){for(var l=
!1,p=0,t=a.s.dataPoints;p<t.length;p++)if(t[p].index===g){l=!0;break}l||(l=a.s.dt.settings()[0].aoColumns[g],g={index:g,origData:l.data,text:(void 0===l.searchBuilderTitle?l.sTitle:l.searchBuilderTitle).replace(/(<([^>]+)>)/ig,"")},a.s.dataPoints.push(g),a.dom.data.append(h("<option>",{text:g.text,value:g.index}).addClass(a.classes.option).addClass(a.classes.notItalic).prop("origData",l.data).prop("selected",a.s.dataIdx===g.index?!0:!1)),a.s.dataIdx===g.index&&a.dom.dataTitle.removeProp("selected"))}});
else for(var b=function(g){d.s.dt.columns().every(function(p){var t=a.s.dt.settings()[0].aoColumns[p];(void 0===t.searchBuilderTitle?t.sTitle:t.searchBuilderTitle).replace(/(<([^>]+)>)/ig,"")===g.text&&(g.index=p,g.origData=t.data)});var l=h("<option>",{text:g.text.replace(/(<([^>]+)>)/ig,""),value:g.index}).addClass(d.classes.option).addClass(d.classes.notItalic).prop("origData",g.origData);d.s.data===g.text&&(d.s.dataIdx=g.index,d.dom.dataTitle.removeProp("selected"),l.prop("selected",!0),d.dom.data.removeClass(d.classes.italic));
d.dom.data.append(l)},d=this,e=0,f=this.s.dataPoints;e<f.length;e++)b(f[e])};c.prototype._populateValue=function(a){var b=this,d=this.s.filled;this.s.filled=!1;setTimeout(function(){b.dom.defaultValue.remove()},50);for(var e=function(l){setTimeout(function(){void 0!==l&&l.remove()},50)},f=0,g=this.dom.value;f<g.length;f++)e(g[f]);e=this.dom.inputCont.children();if(1<e.length)for(f=0;f<e.length;f++)h(e[f]).remove();void 0!==a&&this.s.dt.columns().every(function(l){b.s.dt.settings()[0].aoColumns[l].sTitle===
a.data&&(b.s.dataIdx=l)});this.dom.value=[].concat(this.s.conditions[this.s.condition].init(this,c.updateListener,void 0!==a?a.value:void 0));void 0!==a&&void 0!==a.value&&(this.s.value=a.value);this.dom.inputCont.empty();void 0!==this.dom.value[0]&&this.dom.value[0].appendTo(this.dom.inputCont).trigger("dtsb-inserted");for(f=1;f<this.dom.value.length;f++)this.dom.value[f].insertAfter(this.dom.value[f-1]).trigger("dtsb-inserted");this.s.filled=this.s.conditions[this.s.condition].isInputValid(this.dom.value,
this);this.setListeners();this.s.preventRedraw||d===this.s.filled||(this.s.dt.page.info().serverSide||this.s.dt.draw(),this.setListeners())};c.prototype._throttle=function(a,b){void 0===b&&(b=200);var d=null,e=null,f=this;null===b&&(b=200);return function(){for(var g=[],l=0;l<arguments.length;l++)g[l]=arguments[l];l=+new Date;null!==d&&l<d+b?clearTimeout(e):d=l;e=setTimeout(function(){d=null;a.apply(f,g)},b)}};c.version="1.1.0";c.classes={button:"dtsb-button",buttonContainer:"dtsb-buttonContainer",
condition:"dtsb-condition",container:"dtsb-criteria",data:"dtsb-data","delete":"dtsb-delete",dropDown:"dtsb-dropDown",greyscale:"dtsb-greyscale",input:"dtsb-input",inputCont:"dtsb-inputCont",italic:"dtsb-italic",joiner:"dtsp-joiner",left:"dtsb-left",notItalic:"dtsb-notItalic",option:"dtsb-option",right:"dtsb-right",select:"dtsb-select",value:"dtsb-value",vertical:"dtsb-vertical"};c.initSelect=function(a,b,d,e){void 0===d&&(d=null);void 0===e&&(e=!1);var f=a.dom.data.children("option:selected").val(),
g=a.s.dt.rows().indexes().toArray(),l=a.s.dt.settings()[0];a.dom.valueTitle.prop("selected",!0);var p=h("<select/>").addClass(c.classes.value).addClass(c.classes.dropDown).addClass(c.classes.italic).addClass(c.classes.select).append(a.dom.valueTitle).on("change.dtsb",function(){h(this).removeClass(c.classes.italic);b(a,this)});a.c.greyscale&&p.addClass(c.classes.greyscale);for(var t=[],A=[],F=0;F<g.length;F++){var y=g[F],z=l.oApi._fnGetCellData(l,y,f,"string"===typeof a.c.orthogonal?a.c.orthogonal:
a.c.orthogonal.search);z="string"===typeof z?z.replace(/[\r\n\u2028]/g," "):z;y=l.oApi._fnGetCellData(l,y,f,"string"===typeof a.c.orthogonal?a.c.orthogonal:a.c.orthogonal.display);"array"===a.s.type&&(z=Array.isArray(z)?z:[z],y=Array.isArray(y)?y:[y]);var H=function(u,x){a.s.type.includes("html")&&null!==u&&"string"===typeof u&&u.replace(/(<([^>]+)>)/ig,"");u=h("<option>",{type:Array.isArray(u)?"Array":"String",value:u}).data("sbv",u).addClass(a.classes.option).addClass(a.classes.notItalic).html("string"===
typeof x?x.replace(/(<([^>]+)>)/ig,""):x);x=u.val();-1===t.indexOf(x)&&(t.push(x),A.push(u),null!==d&&Array.isArray(d[0])&&(d[0]=d[0].sort().join(",")),null!==d&&u.val()===d[0]&&(u.prop("selected",!0),p.removeClass(c.classes.italic),a.dom.valueTitle.removeProp("selected")))};if(e)for(var D=0;D<z.length;D++)H(z[D],y[D]);else H(z,Array.isArray(y)?y.join(", "):y)}A.sort(function(u,x){if("array"===a.s.type||"string"===a.s.type||"html"===a.s.type)return u.val()<x.val()?-1:u.val()>x.val()?1:0;if("num"===
a.s.type||"html-num"===a.s.type)return+u.val().replace(/(<([^>]+)>)/ig,"")<+x.val().replace(/(<([^>]+)>)/ig,"")?-1:+u.val().replace(/(<([^>]+)>)/ig,"")>+x.val().replace(/(<([^>]+)>)/ig,"")?1:0;if("num-fmt"===a.s.type||"html-num-fmt"===a.s.type)return+u.val().replace(/[^0-9.]/g,"")<+x.val().replace(/[^0-9.]/g,"")?-1:+u.val().replace(/[^0-9.]/g,"")>+x.val().replace(/[^0-9.]/g,"")?1:0});for(e=0;e<A.length;e++)p.append(A[e]);return p};c.initSelectSSP=function(a,b,d){void 0===d&&(d=null);a.dom.valueTitle.prop("selected",
!0);var e=h("<select/>").addClass(c.classes.value).addClass(c.classes.dropDown).addClass(c.classes.italic).addClass(c.classes.select).append(a.dom.valueTitle).on("change.dtsb",function(){h(this).removeClass(c.classes.italic);b(a,this)});a.c.greyscale&&e.addClass(c.classes.greyscale);for(var f=[],g=0,l=a.s.serverData[a.s.origData];g<l.length;g++){var p=l[g];(function(t,A){a.s.type.includes("html")&&null!==t&&"string"===typeof t&&t.replace(/(<([^>]+)>)/ig,"");t=h("<option>",{type:Array.isArray(t)?"Array":
"String",value:t}).data("sbv",t).addClass(a.classes.option).addClass(a.classes.notItalic).html("string"===typeof A?A.replace(/(<([^>]+)>)/ig,""):A);f.push(t);null!==d&&t.val()===d[0]&&(t.prop("selected",!0),e.removeClass(c.classes.italic),a.dom.valueTitle.removeProp("selected"))})(p.value,p.label)}for(g=0;g<f.length;g++)e.append(f[g]);return e};c.initSelectArray=function(a,b,d){void 0===d&&(d=null);return c.initSelect(a,b,d,!0)};c.initInput=function(a,b,d){void 0===d&&(d=null);var e=a.s.dt.settings()[0].searchDelay;
e=h("<input/>").addClass(c.classes.value).addClass(c.classes.input).on("input.dtsb keypress.dtsb",a._throttle(function(f){return b(a,this,f.keyCode||f.which)},null===e?100:e));a.c.greyscale&&e.addClass(c.classes.greyscale);null!==d&&e.val(d[0]);a.s.dt.one("draw.dtsb",function(){a.s.topGroup.trigger("dtsb-redrawLogic")});return e};c.init2Input=function(a,b,d){void 0===d&&(d=null);var e=a.s.dt.settings()[0].searchDelay;e=[h("<input/>").addClass(c.classes.value).addClass(c.classes.input).on("input.dtsb keypress.dtsb",
a._throttle(function(f){return b(a,this,f.keyCode||f.which)},null===e?100:e)),h("<span>").addClass(a.classes.joiner).html(a.s.dt.i18n("searchBuilder.valueJoiner",a.c.i18n.valueJoiner)),h("<input/>").addClass(c.classes.value).addClass(c.classes.input).on("input.dtsb keypress.dtsb",a._throttle(function(f){return b(a,this,f.keyCode||f.which)},null===e?100:e))];a.c.greyscale&&(e[0].addClass(c.classes.greyscale),e[2].addClass(c.classes.greyscale));null!==d&&(e[0].val(d[0]),e[2].val(d[1]));a.s.dt.one("draw.dtsb",
function(){a.s.topGroup.trigger("dtsb-redrawLogic")});return e};c.initDate=function(a,b,d){void 0===d&&(d=null);var e=a.s.dt.settings()[0].searchDelay,f=h("<input/>").addClass(c.classes.value).addClass(c.classes.input).dtDateTime({attachTo:"input",format:a.s.dateFormat?a.s.dateFormat:void 0}).on("change.dtsb",a._throttle(function(){return b(a,this)},null===e?100:e)).on("input.dtsb keypress.dtsb",function(g){a._throttle(function(){return b(a,this,g.keyCode||g.which)},null===e?100:e)});a.c.greyscale&&
f.addClass(c.classes.greyscale);null!==d&&f.val(d[0]);a.s.dt.one("draw.dtsb",function(){a.s.topGroup.trigger("dtsb-redrawLogic")});return f};c.initNoValue=function(a){a.s.dt.one("draw.dtsb",function(){a.s.topGroup.trigger("dtsb-redrawLogic")})};c.init2Date=function(a,b,d){var e=this;void 0===d&&(d=null);var f=a.s.dt.settings()[0].searchDelay,g=[h("<input/>").addClass(c.classes.value).addClass(c.classes.input).dtDateTime({attachTo:"input",format:a.s.dateFormat?a.s.dateFormat:void 0}).on("change.dtsb",
null!==f?a.s.dt.settings()[0].oApi._fnThrottle(function(){return b(a,this)},f):function(){b(a,e)}).on("input.dtsb keypress.dtsb",function(l){a.s.dt.settings()[0].oApi._fnThrottle(function(){return b(a,this,l.keyCode||l.which)},null===f?0:f)}),h("<span>").addClass(a.classes.joiner).html(a.s.dt.i18n("searchBuilder.valueJoiner",a.c.i18n.valueJoiner)),h("<input/>").addClass(c.classes.value).addClass(c.classes.input).dtDateTime({attachTo:"input",format:a.s.dateFormat?a.s.dateFormat:void 0}).on("change.dtsb",
null!==f?a.s.dt.settings()[0].oApi._fnThrottle(function(){return b(a,this)},f):function(){b(a,e)}).on("input.dtsb keypress.dtsb",a.c.enterSearch||void 0!==a.s.dt.settings()[0].oInit.search&&a.s.dt.settings()[0].oInit.search["return"]||null===f?function(l){b(a,e,l.keyCode||l.which)}:a.s.dt.settings()[0].oApi._fnThrottle(function(){return b(a,this)},f))];a.c.greyscale&&(g[0].addClass(c.classes.greyscale),g[2].addClass(c.classes.greyscale));null!==d&&0<d.length&&(g[0].val(d[0]),g[2].val(d[1]));a.s.dt.one("draw.dtsb",
function(){a.s.topGroup.trigger("dtsb-redrawLogic")});return g};c.isInputValidSelect=function(a){for(var b=!0,d=0;d<a.length;d++){var e=a[d];e.children("option:selected").length===e.children("option").length-e.children("option."+c.classes.notItalic).length&&1===e.children("option:selected").length&&e.children("option:selected")[0]===e.children("option")[0]&&(b=!1)}return b};c.isInputValidInput=function(a){for(var b=!0,d=0;d<a.length;d++){var e=a[d];e.is("input")&&0===e.val().length&&(b=!1)}return b};
c.inputValueSelect=function(a){for(var b=[],d=0;d<a.length;d++){var e=a[d];e.is("select")&&b.push(c._escapeHTML(e.children("option:selected").data("sbv")))}return b};c.inputValueInput=function(a){for(var b=[],d=0;d<a.length;d++){var e=a[d];e.is("input")&&b.push(c._escapeHTML(e.val()))}return b};c.updateListener=function(a,b,d){var e=a.s.conditions[a.s.condition];a.s.filled=e.isInputValid(a.dom.value,a);a.s.value=e.inputValue(a.dom.value,a);if(a.s.filled){Array.isArray(a.s.value)||(a.s.value=[a.s.value]);
for(e=0;e<a.s.value.length;e++)if(Array.isArray(a.s.value[e]))a.s.value[e].sort();else if(a.s.type.includes("num")&&(""!==a.s.dt.settings()[0].oLanguage.sDecimal||""!==a.s.dt.settings()[0].oLanguage.sThousands)){var f=[a.s.value[e].toString()];""!==a.s.dt.settings()[0].oLanguage.sDecimal&&(f=a.s.value[e].split(a.s.dt.settings()[0].oLanguage.sDecimal));if(""!==a.s.dt.settings()[0].oLanguage.sThousands)for(var g=0;g<f.length;g++)f[g]=f[g].replace(a.s.dt.settings()[0].oLanguage.sThousands,",");a.s.value[e]=
f.join(".")}g=f=null;for(e=0;e<a.dom.value.length;e++)b===a.dom.value[e][0]&&(f=e,void 0!==b.selectionStart&&(g=b.selectionStart));(a.c.enterSearch||void 0!==a.s.dt.settings()[0].oInit.search&&a.s.dt.settings()[0].oInit.search["return"])&&13!==d||a.s.dt.draw();null!==f&&(a.dom.value[f].removeClass(a.classes.italic),a.dom.value[f].focus(),null!==g&&a.dom.value[f][0].setSelectionRange(g,g))}else(a.c.enterSearch||void 0!==a.s.dt.settings()[0].oInit.search&&a.s.dt.settings()[0].oInit.search["return"])&&
13!==d||a.s.dt.draw()};c.dateConditions={"=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.equals",b.conditions.date.equals)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){a=a.replace(/(\/|-|,)/g,"-");return a===b[0]}},"!=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.not",b.conditions.date.not)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,
b){a=a.replace(/(\/|-|,)/g,"-");return a!==b[0]}},"<":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.before",b.conditions.date.before)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){a=a.replace(/(\/|-|,)/g,"-");return a<b[0]}},">":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.after",b.conditions.date.after)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,
b){a=a.replace(/(\/|-|,)/g,"-");return a>b[0]}},between:{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.between",b.conditions.date.between)},init:c.init2Date,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){a=a.replace(/(\/|-|,)/g,"-");return b[0]<b[1]?b[0]<=a&&a<=b[1]:b[1]<=a&&a<=b[0]}},"!between":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.notBetween",b.conditions.date.notBetween)},init:c.init2Date,inputValue:c.inputValueInput,
isInputValid:c.isInputValidInput,search:function(a,b){a=a.replace(/(\/|-|,)/g,"-");return b[0]<b[1]?!(b[0]<=a&&a<=b[1]):!(b[1]<=a&&a<=b[0])}},"null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.empty",b.conditions.date.empty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return null===a||void 0===a||0===a.length}},"!null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.notEmpty",b.conditions.date.notEmpty)},
init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return!(null===a||void 0===a||0===a.length)}}};c.momentDateConditions={"=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.equals",b.conditions.date.equals)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){return(0,window.moment)(a,d.s.dateFormat).valueOf()===(0,window.moment)(b[0],d.s.dateFormat).valueOf()}},"!=":{conditionName:function(a,
b){return a.i18n("searchBuilder.conditions.date.not",b.conditions.date.not)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){return(0,window.moment)(a,d.s.dateFormat).valueOf()!==(0,window.moment)(b[0],d.s.dateFormat).valueOf()}},"<":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.before",b.conditions.date.before)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){return(0,window.moment)(a,
d.s.dateFormat).valueOf()<(0,window.moment)(b[0],d.s.dateFormat).valueOf()}},">":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.after",b.conditions.date.after)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){return(0,window.moment)(a,d.s.dateFormat).valueOf()>(0,window.moment)(b[0],d.s.dateFormat).valueOf()}},between:{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.between",b.conditions.date.between)},
init:c.init2Date,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){a=(0,window.moment)(a,d.s.dateFormat).valueOf();var e=(0,window.moment)(b[0],d.s.dateFormat).valueOf();b=(0,window.moment)(b[1],d.s.dateFormat).valueOf();return e<b?e<=a&&a<=b:b<=a&&a<=e}},"!between":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.notBetween",b.conditions.date.notBetween)},init:c.init2Date,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,
b,d){a=(0,window.moment)(a,d.s.dateFormat).valueOf();var e=(0,window.moment)(b[0],d.s.dateFormat).valueOf();b=(0,window.moment)(b[1],d.s.dateFormat).valueOf();return e<b?!(+e<=+a&&+a<=+b):!(+b<=+a&&+a<=+e)}},"null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.empty",b.conditions.date.empty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return null===a||void 0===a||0===a.length}},"!null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.notEmpty",
b.conditions.date.notEmpty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return!(null===a||void 0===a||0===a.length)}}};c.luxonDateConditions={"=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.equals",b.conditions.date.equals)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){return window.luxon.DateTime.fromFormat(a,d.s.dateFormat).ts===window.luxon.DateTime.fromFormat(b[0],
d.s.dateFormat).ts}},"!=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.not",b.conditions.date.not)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){return window.luxon.DateTime.fromFormat(a,d.s.dateFormat).ts!==window.luxon.DateTime.fromFormat(b[0],d.s.dateFormat).ts}},"<":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.before",b.conditions.date.before)},init:c.initDate,inputValue:c.inputValueInput,
isInputValid:c.isInputValidInput,search:function(a,b,d){return window.luxon.DateTime.fromFormat(a,d.s.dateFormat).ts<window.luxon.DateTime.fromFormat(b[0],d.s.dateFormat).ts}},">":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.after",b.conditions.date.after)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){return window.luxon.DateTime.fromFormat(a,d.s.dateFormat).ts>window.luxon.DateTime.fromFormat(b[0],d.s.dateFormat).ts}},
between:{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.between",b.conditions.date.between)},init:c.init2Date,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){a=window.luxon.DateTime.fromFormat(a,d.s.dateFormat).ts;var e=window.luxon.DateTime.fromFormat(b[0],d.s.dateFormat).ts;b=window.luxon.DateTime.fromFormat(b[1],d.s.dateFormat).ts;return e<b?e<=a&&a<=b:b<=a&&a<=e}},"!between":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.notBetween",
b.conditions.date.notBetween)},init:c.init2Date,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){a=window.luxon.DateTime.fromFormat(a,d.s.dateFormat).ts;var e=window.luxon.DateTime.fromFormat(b[0],d.s.dateFormat).ts;b=window.luxon.DateTime.fromFormat(b[1],d.s.dateFormat).ts;return e<b?!(+e<=+a&&+a<=+b):!(+b<=+a&&+a<=+e)}},"null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.empty",b.conditions.date.empty)},init:c.initNoValue,inputValue:function(){},
isInputValid:function(){return!0},search:function(a){return null===a||void 0===a||0===a.length}},"!null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.notEmpty",b.conditions.date.notEmpty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return!(null===a||void 0===a||0===a.length)}}};c.numConditions={"=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.equals",b.conditions.number.equals)},init:c.initSelect,
inputValue:c.inputValueSelect,isInputValid:c.isInputValidSelect,search:function(a,b){return+a===+b[0]}},"!=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.not",b.conditions.number.not)},init:c.initSelect,inputValue:c.inputValueSelect,isInputValid:c.isInputValidSelect,search:function(a,b){return+a!==+b[0]}},"<":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.lt",b.conditions.number.lt)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,
search:function(a,b){return+a<+b[0]}},"<=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.lte",b.conditions.number.lte)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){return+a<=+b[0]}},">=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.gte",b.conditions.number.gte)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){return+a>=+b[0]}},">":{conditionName:function(a,
b){return a.i18n("searchBuilder.conditions.number.gt",b.conditions.number.gt)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){return+a>+b[0]}},between:{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.between",b.conditions.number.between)},init:c.init2Input,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){return+b[0]<+b[1]?+b[0]<=+a&&+a<=+b[1]:+b[1]<=+a&&+a<=+b[0]}},"!between":{conditionName:function(a,
b){return a.i18n("searchBuilder.conditions.number.notBetween",b.conditions.number.notBetween)},init:c.init2Input,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){return+b[0]<+b[1]?!(+b[0]<=+a&&+a<=+b[1]):!(+b[1]<=+a&&+a<=+b[0])}},"null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.empty",b.conditions.number.empty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return null===a||void 0===
a||0===a.length}},"!null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.notEmpty",b.conditions.number.notEmpty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return!(null===a||void 0===a||0===a.length)}}};c.numFmtConditions={"=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.equals",b.conditions.number.equals)},init:c.initSelect,inputValue:c.inputValueSelect,isInputValid:c.isInputValidSelect,
search:function(a,b){return c.parseNumFmt(a)===c.parseNumFmt(b[0])}},"!=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.not",b.conditions.number.not)},init:c.initSelect,inputValue:c.inputValueSelect,isInputValid:c.isInputValidSelect,search:function(a,b){return c.parseNumFmt(a)!==c.parseNumFmt(b[0])}},"<":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.lt",b.conditions.number.lt)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,
search:function(a,b){return c.parseNumFmt(a)<c.parseNumFmt(b[0])}},"<=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.lte",b.conditions.number.lte)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){return c.parseNumFmt(a)<=c.parseNumFmt(b[0])}},">=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.gte",b.conditions.number.gte)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,
search:function(a,b){return c.parseNumFmt(a)>=c.parseNumFmt(b[0])}},">":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.gt",b.conditions.number.gt)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){return c.parseNumFmt(a)>c.parseNumFmt(b[0])}},between:{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.between",b.conditions.number.between)},init:c.init2Input,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,
search:function(a,b){a=c.parseNumFmt(a);var d=c.parseNumFmt(b[0]);b=c.parseNumFmt(b[1]);return+d<+b?+d<=+a&&+a<=+b:+b<=+a&&+a<=+d}},"!between":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.notBetween",b.conditions.number.notBetween)},init:c.init2Input,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){a=c.parseNumFmt(a);var d=c.parseNumFmt(b[0]);b=c.parseNumFmt(b[1]);return+d<+b?!(+d<=+a&&+a<=+b):!(+b<=+a&&+a<=+d)}},"null":{conditionName:function(a,
b){return a.i18n("searchBuilder.conditions.number.empty",b.conditions.number.empty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return null===a||void 0===a||0===a.length}},"!null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.notEmpty",b.conditions.number.notEmpty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return!(null===a||void 0===a||0===a.length)}}};c.stringConditions=
{"=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.string.equals",b.conditions.string.equals)},init:c.initSelect,inputValue:c.inputValueSelect,isInputValid:c.isInputValidSelect,search:function(a,b){return a===b[0]}},"!=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.string.not",b.conditions.string.not)},init:c.initSelect,inputValue:c.inputValueSelect,isInputValid:c.isInputValidInput,search:function(a,b){return a!==b[0]}},starts:{conditionName:function(a,
b){return a.i18n("searchBuilder.conditions.string.startsWith",b.conditions.string.startsWith)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){return 0===a.toLowerCase().indexOf(b[0].toLowerCase())}},"!starts":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.string.notStartsWith",b.conditions.string.notStartsWith)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){return 0!==a.toLowerCase().indexOf(b[0].toLowerCase())}},
contains:{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.string.contains",b.conditions.string.contains)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){return a.toLowerCase().includes(b[0].toLowerCase())}},"!contains":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.string.notContains",b.conditions.string.notContains)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,
b){return!a.toLowerCase().includes(b[0].toLowerCase())}},ends:{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.string.endsWith",b.conditions.string.endsWith)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){return a.toLowerCase().endsWith(b[0].toLowerCase())}},"!ends":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.string.notEndsWith",b.conditions.string.notEndsWith)},init:c.initInput,inputValue:c.inputValueInput,
isInputValid:c.isInputValidInput,search:function(a,b){return!a.toLowerCase().endsWith(b[0].toLowerCase())}},"null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.string.empty",b.conditions.string.empty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return null===a||void 0===a||0===a.length}},"!null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.string.notEmpty",b.conditions.string.notEmpty)},init:c.initNoValue,
inputValue:function(){},isInputValid:function(){return!0},search:function(a){return!(null===a||void 0===a||0===a.length)}}};c.arrayConditions={contains:{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.array.contains",b.conditions.array.contains)},init:c.initSelectArray,inputValue:c.inputValueSelect,isInputValid:c.isInputValidSelect,search:function(a,b){return a.includes(b[0])}},without:{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.array.without",b.conditions.array.without)},
init:c.initSelectArray,inputValue:c.inputValueSelect,isInputValid:c.isInputValidSelect,search:function(a,b){return-1===a.indexOf(b[0])}},"=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.array.equals",b.conditions.array.equals)},init:c.initSelect,inputValue:c.inputValueSelect,isInputValid:c.isInputValidSelect,search:function(a,b){if(a.length===b[0].length){for(var d=0;d<a.length;d++)if(a[d]!==b[0][d])return!1;return!0}return!1}},"!=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.array.not",
b.conditions.array.not)},init:c.initSelect,inputValue:c.inputValueSelect,isInputValid:c.isInputValidSelect,search:function(a,b){if(a.length===b[0].length){for(var d=0;d<a.length;d++)if(a[d]!==b[0][d])return!0;return!1}return!0}},"null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.array.empty",b.conditions.array.empty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return null===a||void 0===a||0===a.length}},"!null":{conditionName:function(a,
b){return a.i18n("searchBuilder.conditions.array.notEmpty",b.conditions.array.notEmpty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return null!==a&&void 0!==a&&0!==a.length}}};c.defaults={columns:!0,conditions:{array:c.arrayConditions,date:c.dateConditions,html:c.stringConditions,"html-num":c.numConditions,"html-num-fmt":c.numFmtConditions,luxon:c.luxonDateConditions,moment:c.momentDateConditions,num:c.numConditions,"num-fmt":c.numFmtConditions,
string:c.stringConditions},depthLimit:!1,enterSearch:!1,filterChanged:void 0,greyscale:!1,i18n:{add:"Add Condition",button:{0:"Search Builder",_:"Search Builder (%d)"},clearAll:"Clear All",condition:"Condition",data:"Data","delete":"&times",deleteTitle:"Delete filtering rule",left:"<",leftTitle:"Outdent criteria",logicAnd:"And",logicOr:"Or",right:">",rightTitle:"Indent criteria",title:{0:"Custom Search Builder",_:"Custom Search Builder (%d)"},value:"Value",valueJoiner:"and"},logic:"AND",orthogonal:{display:"display",
search:"filter"},preDefined:!1};return c}(),v,C,E=function(){function c(a,b,d,e,f,g,l){void 0===e&&(e=0);void 0===f&&(f=!1);void 0===g&&(g=1);void 0===l&&(l=void 0);if(!C||!C.versionCheck||!C.versionCheck("1.10.0"))throw Error("SearchBuilder requires DataTables 1.10 or newer");this.classes=v.extend(!0,{},c.classes);this.c=v.extend(!0,{},c.defaults,b);this.s={criteria:[],depth:g,dt:a,index:e,isChild:f,logic:void 0,opts:b,preventRedraw:!1,serverData:l,toDrop:void 0,topGroup:d};this.dom={add:v("<button/>").addClass(this.classes.add).addClass(this.classes.button).attr("type",
"button"),clear:v("<button>&times</button>").addClass(this.classes.button).addClass(this.classes.clearGroup).attr("type","button"),container:v("<div/>").addClass(this.classes.group),logic:v("<button><div/></button>").addClass(this.classes.logic).addClass(this.classes.button).attr("type","button"),logicContainer:v("<div/>").addClass(this.classes.logicContainer)};void 0===this.s.topGroup&&(this.s.topGroup=this.dom.container);this._setup();return this}c.prototype.destroy=function(){this.dom.add.off(".dtsb");
this.dom.logic.off(".dtsb");this.dom.container.trigger("dtsb-destroy").remove();this.s.criteria=[]};c.prototype.getDetails=function(a){void 0===a&&(a=!1);if(0===this.s.criteria.length)return{};for(var b={criteria:[],logic:this.s.logic},d=0,e=this.s.criteria;d<e.length;d++)b.criteria.push(e[d].criteria.getDetails(a));return b};c.prototype.getNode=function(){return this.dom.container};c.prototype.rebuild=function(a){if(!(void 0===a.criteria||null===a.criteria||Array.isArray(a.criteria)&&0===a.criteria.length)){this.s.logic=
a.logic;this.dom.logic.children().first().html("OR"===this.s.logic?this.s.dt.i18n("searchBuilder.logicOr",this.c.i18n.logicOr):this.s.dt.i18n("searchBuilder.logicAnd",this.c.i18n.logicAnd));if(Array.isArray(a.criteria))for(var b=0,d=a.criteria;b<d.length;b++)a=d[b],void 0!==a.logic?this._addPrevGroup(a):void 0===a.logic&&this._addPrevCriteria(a);b=0;for(d=this.s.criteria;b<d.length;b++)a=d[b],a.criteria instanceof q&&(a.criteria.updateArrows(1<this.s.criteria.length),this._setCriteriaListeners(a.criteria))}};
c.prototype.redrawContents=function(){if(!this.s.preventRedraw){this.dom.container.children().detach();this.dom.container.append(this.dom.logicContainer).append(this.dom.add);this.s.criteria.sort(function(d,e){return d.criteria.s.index<e.criteria.s.index?-1:d.criteria.s.index>e.criteria.s.index?1:0});this.setListeners();for(var a=0;a<this.s.criteria.length;a++){var b=this.s.criteria[a].criteria;b instanceof q?(this.s.criteria[a].index=a,this.s.criteria[a].criteria.s.index=a,this.s.criteria[a].criteria.dom.container.insertBefore(this.dom.add),
this._setCriteriaListeners(b),this.s.criteria[a].criteria.s.preventRedraw=this.s.preventRedraw,this.s.criteria[a].criteria.rebuild(this.s.criteria[a].criteria.getDetails()),this.s.criteria[a].criteria.s.preventRedraw=!1):b instanceof c&&0<b.s.criteria.length?(this.s.criteria[a].index=a,this.s.criteria[a].criteria.s.index=a,this.s.criteria[a].criteria.dom.container.insertBefore(this.dom.add),b.s.preventRedraw=this.s.preventRedraw,b.redrawContents(),b.s.preventRedraw=!1,this._setGroupListeners(b)):
(this.s.criteria.splice(a,1),a--)}this.setupLogic()}};c.prototype.redrawLogic=function(){for(var a=0,b=this.s.criteria;a<b.length;a++){var d=b[a];d.criteria instanceof c&&d.criteria.redrawLogic()}this.setupLogic()};c.prototype.search=function(a,b){return"AND"===this.s.logic?this._andSearch(a,b):"OR"===this.s.logic?this._orSearch(a,b):!0};c.prototype.setupLogic=function(){this.dom.logicContainer.remove();this.dom.clear.remove();if(1>this.s.criteria.length)this.s.isChild||(this.dom.container.trigger("dtsb-destroy"),
this.dom.container.css("margin-left",0));else{this.dom.clear.height("0px");this.dom.logicContainer.append(this.dom.clear);this.dom.container.prepend(this.dom.logicContainer);for(var a=0,b=this.s.criteria;a<b.length;a++){var d=b[a];d.criteria instanceof q&&d.criteria.setupButtons()}a=this.dom.container.outerHeight()-1;this.dom.logicContainer.width(a);this._setLogicListener();this.dom.container.css("margin-left",this.dom.logicContainer.outerHeight(!0));a=this.dom.logicContainer.offset();b=a.left;d=
this.dom.container.offset().left;b=b-(b-d)-this.dom.logicContainer.outerHeight(!0);this.dom.logicContainer.offset({left:b});b=this.dom.logicContainer.next();a=a.top;b=v(b).offset().top;this.dom.logicContainer.offset({top:a-(a-b)});this.dom.clear.outerHeight(this.dom.logicContainer.height());this._setClearListener()}};c.prototype.setListeners=function(){var a=this;this.dom.add.unbind("click");this.dom.add.on("click.dtsb",function(){a.s.isChild||a.dom.container.prepend(a.dom.logicContainer);a.addCriteria();
a.dom.container.trigger("dtsb-add");a.s.dt.state.save();return!1});for(var b=0,d=this.s.criteria;b<d.length;b++)d[b].criteria.setListeners();this._setClearListener();this._setLogicListener()};c.prototype.addCriteria=function(a){void 0===a&&(a=null);var b=null===a?this.s.criteria.length:a.s.index,d=new q(this.s.dt,this.s.opts,this.s.topGroup,b,this.s.depth,this.s.serverData);null!==a&&(d.c=a.c,d.s=a.s,d.s.depth=this.s.depth,d.classes=a.classes);d.populate();a=!1;for(var e=0;e<this.s.criteria.length;e++)0===
e&&this.s.criteria[e].criteria.s.index>d.s.index?(d.getNode().insertBefore(this.s.criteria[e].criteria.dom.container),a=!0):e<this.s.criteria.length-1&&this.s.criteria[e].criteria.s.index<d.s.index&&this.s.criteria[e+1].criteria.s.index>d.s.index&&(d.getNode().insertAfter(this.s.criteria[e].criteria.dom.container),a=!0);a||d.getNode().insertBefore(this.dom.add);this.s.criteria.push({criteria:d,index:b});this.s.criteria=this.s.criteria.sort(function(f,g){return f.criteria.s.index-g.criteria.s.index});
b=0;for(a=this.s.criteria;b<a.length;b++)e=a[b],e.criteria instanceof q&&e.criteria.updateArrows(1<this.s.criteria.length);this._setCriteriaListeners(d);d.setListeners();this.setupLogic()};c.prototype.checkFilled=function(){for(var a=0,b=this.s.criteria;a<b.length;a++){var d=b[a];if(d.criteria instanceof q&&d.criteria.s.filled||d.criteria instanceof c&&d.criteria.checkFilled())return!0}return!1};c.prototype.count=function(){for(var a=0,b=0,d=this.s.criteria;b<d.length;b++){var e=d[b];e.criteria instanceof
c?a+=e.criteria.count():a++}return a};c.prototype._addPrevGroup=function(a){var b=this.s.criteria.length,d=new c(this.s.dt,this.c,this.s.topGroup,b,!0,this.s.depth+1,this.s.serverData);this.s.criteria.push({criteria:d,index:b,logic:d.s.logic});d.rebuild(a);this.s.criteria[b].criteria=d;this.s.topGroup.trigger("dtsb-redrawContents");this._setGroupListeners(d)};c.prototype._addPrevCriteria=function(a){var b=this.s.criteria.length,d=new q(this.s.dt,this.s.opts,this.s.topGroup,b,this.s.depth,this.s.serverData);
d.populate();this.s.criteria.push({criteria:d,index:b});d.s.preventRedraw=this.s.preventRedraw;d.rebuild(a);d.s.preventRedraw=!1;this.s.criteria[b].criteria=d;this.s.preventRedraw||this.s.topGroup.trigger("dtsb-redrawContents")};c.prototype._andSearch=function(a,b){if(0===this.s.criteria.length)return!0;for(var d=0,e=this.s.criteria;d<e.length;d++){var f=e[d];if(!(f.criteria instanceof q&&!f.criteria.s.filled||f.criteria.search(a,b)))return!1}return!0};c.prototype._orSearch=function(a,b){if(0===this.s.criteria.length)return!0;
for(var d=!1,e=0,f=this.s.criteria;e<f.length;e++){var g=f[e];if(g.criteria instanceof q&&g.criteria.s.filled){if(d=!0,g.criteria.search(a,b))return!0}else if(g.criteria instanceof c&&g.criteria.checkFilled()&&(d=!0,g.criteria.search(a,b)))return!0}return!d};c.prototype._removeCriteria=function(a,b){void 0===b&&(b=!1);if(1>=this.s.criteria.length&&this.s.isChild)this.destroy();else{for(var d=void 0,e=0;e<this.s.criteria.length;e++)this.s.criteria[e].index===a.s.index&&(!b||this.s.criteria[e].criteria instanceof
c)&&(d=e);void 0!==d&&this.s.criteria.splice(d,1);for(e=0;e<this.s.criteria.length;e++)this.s.criteria[e].index=e,this.s.criteria[e].criteria.s.index=e}};c.prototype._setCriteriaListeners=function(a){var b=this;a.dom["delete"].unbind("click").on("click.dtsb",function(){b._removeCriteria(a);a.dom.container.remove();for(var d=0,e=b.s.criteria;d<e.length;d++){var f=e[d];f.criteria instanceof q&&f.criteria.updateArrows(1<b.s.criteria.length)}a.destroy();b.s.dt.draw();b.s.topGroup.trigger("dtsb-redrawContents");
return!1});a.dom.right.unbind("click").on("click.dtsb",function(){var d=a.s.index,e=new c(b.s.dt,b.s.opts,b.s.topGroup,a.s.index,!0,b.s.depth+1,b.s.serverData);e.addCriteria(a);b.s.criteria[d].criteria=e;b.s.criteria[d].logic="AND";b.s.topGroup.trigger("dtsb-redrawContents");b._setGroupListeners(e);return!1});a.dom.left.unbind("click").on("click.dtsb",function(){b.s.toDrop=new q(b.s.dt,b.s.opts,b.s.topGroup,a.s.index,void 0,b.s.serverData);b.s.toDrop.s=a.s;b.s.toDrop.c=a.c;b.s.toDrop.classes=a.classes;
b.s.toDrop.populate();var d=b.s.toDrop.s.index;b.dom.container.trigger("dtsb-dropCriteria");a.s.index=d;b._removeCriteria(a);b.s.topGroup.trigger("dtsb-redrawContents");b.s.dt.draw();return!1})};c.prototype._setClearListener=function(){var a=this;this.dom.clear.unbind("click").on("click.dtsb",function(){if(!a.s.isChild)return a.dom.container.trigger("dtsb-clearContents"),!1;a.destroy();a.s.topGroup.trigger("dtsb-redrawContents");return!1})};c.prototype._setGroupListeners=function(a){var b=this;a.dom.add.unbind("click").on("click.dtsb",
function(){b.setupLogic();b.dom.container.trigger("dtsb-add");return!1});a.dom.container.unbind("dtsb-add").on("dtsb-add.dtsb",function(){b.setupLogic();b.dom.container.trigger("dtsb-add");return!1});a.dom.container.unbind("dtsb-destroy").on("dtsb-destroy.dtsb",function(){b._removeCriteria(a,!0);a.dom.container.remove();b.setupLogic();return!1});a.dom.container.unbind("dtsb-dropCriteria").on("dtsb-dropCriteria.dtsb",function(){var d=a.s.toDrop;d.s.index=a.s.index;d.updateArrows(1<b.s.criteria.length);
b.addCriteria(d);return!1});a.setListeners()};c.prototype._setup=function(){this.setListeners();this.dom.add.html(this.s.dt.i18n("searchBuilder.add",this.c.i18n.add));this.dom.logic.children().first().html("OR"===this.c.logic?this.s.dt.i18n("searchBuilder.logicOr",this.c.i18n.logicOr):this.s.dt.i18n("searchBuilder.logicAnd",this.c.i18n.logicAnd));this.s.logic="OR"===this.c.logic?"OR":"AND";this.c.greyscale&&this.dom.logic.addClass(this.classes.greyscale);this.dom.logicContainer.append(this.dom.logic).append(this.dom.clear);
this.s.isChild&&this.dom.container.append(this.dom.logicContainer);this.dom.container.append(this.dom.add)};c.prototype._setLogicListener=function(){var a=this;this.dom.logic.unbind("click").on("click.dtsb",function(){a._toggleLogic();a.s.dt.draw();for(var b=0,d=a.s.criteria;b<d.length;b++)d[b].criteria.setListeners()})};c.prototype._toggleLogic=function(){"OR"===this.s.logic?(this.s.logic="AND",this.dom.logic.children().first().html(this.s.dt.i18n("searchBuilder.logicAnd",this.c.i18n.logicAnd))):
"AND"===this.s.logic&&(this.s.logic="OR",this.dom.logic.children().first().html(this.s.dt.i18n("searchBuilder.logicOr",this.c.i18n.logicOr)))};c.version="1.1.0";c.classes={add:"dtsb-add",button:"dtsb-button",clearGroup:"dtsb-clearGroup",greyscale:"dtsb-greyscale",group:"dtsb-group",inputButton:"dtsb-iptbtn",logic:"dtsb-logic",logicContainer:"dtsb-logicContainer"};c.defaults={columns:!0,conditions:{date:q.dateConditions,html:q.stringConditions,"html-num":q.numConditions,"html-num-fmt":q.numFmtConditions,
luxon:q.luxonDateConditions,moment:q.momentDateConditions,num:q.numConditions,"num-fmt":q.numFmtConditions,string:q.stringConditions},depthLimit:!1,enterSearch:!1,filterChanged:void 0,greyscale:!1,i18n:{add:"Add Condition",button:{0:"Search Builder",_:"Search Builder (%d)"},clearAll:"Clear All",condition:"Condition",data:"Data","delete":"&times",deleteTitle:"Delete filtering rule",left:"<",leftTitle:"Outdent criteria",logicAnd:"And",logicOr:"Or",right:">",rightTitle:"Indent criteria",title:{0:"Custom Search Builder",
_:"Custom Search Builder (%d)"},value:"Value",valueJoiner:"and"},logic:"AND",orthogonal:{display:"display",search:"filter"},preDefined:!1};return c}(),w,B,G=function(){function c(a,b){var d=this;if(!B||!B.versionCheck||!B.versionCheck("1.10.0"))throw Error("SearchBuilder requires DataTables 1.10 or newer");a=new B.Api(a);this.classes=w.extend(!0,{},c.classes);this.c=w.extend(!0,{},c.defaults,b);this.dom={clearAll:w('<button type="button">'+a.i18n("searchBuilder.clearAll",this.c.i18n.clearAll)+"</button>").addClass(this.classes.clearAll).addClass(this.classes.button).attr("type",
"button"),container:w("<div/>").addClass(this.classes.container),title:w("<div/>").addClass(this.classes.title),titleRow:w("<div/>").addClass(this.classes.titleRow),topGroup:void 0};this.s={dt:a,opts:b,search:void 0,serverData:void 0,topGroup:void 0};if(void 0===a.settings()[0]._searchBuilder){a.settings()[0]._searchBuilder=this;this.s.dt.page.info().serverSide&&(this.s.dt.on("preXhr.dtsb",function(e,f,g){(e=d.s.dt.state.loaded())&&e.searchBuilder&&(g.searchBuilder=d._collapseArray(e.searchBuilder))}),
this.s.dt.on("xhr.dtsb",function(e,f,g){g&&g.searchBuilder&&g.searchBuilder.options&&(d.s.serverData=g.searchBuilder.options)}));if(this.s.dt.settings()[0]._bInitComplete)this._setUp();else a.one("init.dt",function(){d._setUp()});return this}}c.prototype.getDetails=function(a){void 0===a&&(a=!1);return this.s.topGroup.getDetails(a)};c.prototype.getNode=function(){return this.dom.container};c.prototype.rebuild=function(a){this.dom.clearAll.click();if(void 0===a||null===a)return this;this.s.topGroup.s.preventRedraw=
!0;this.s.topGroup.rebuild(a);this.s.topGroup.s.preventRedraw=!1;this._checkClear();this._updateTitle(this.s.topGroup.count());this.s.topGroup.redrawContents();this.s.dt.draw(!1);this.s.topGroup.setListeners();return this};c.prototype._applyPreDefDefaults=function(a){var b=this;void 0!==a.criteria&&void 0===a.logic&&(a.logic="AND");for(var d=function(l){void 0!==l.criteria?l=e._applyPreDefDefaults(l):e.s.dt.columns().every(function(p){b.s.dt.settings()[0].aoColumns[p].sTitle===l.data&&(l.dataIdx=
p)})},e=this,f=0,g=a.criteria;f<g.length;f++)d(g[f]);return a};c.prototype._setUp=function(a){var b=this;void 0===a&&(a=!0);w.fn.DataTable.Api.registerPlural("columns().type()","column().type()",function(){return this.iterator("column",function(l,p){return l.aoColumns[p].sType},1)});if(!B.DateTime){var d=this.s.dt.columns().type().toArray();if(void 0===d||d.includes(void 0)||d.includes(null)){d=[];for(var e=0,f=this.s.dt.settings()[0].aoColumns;e<f.length;e++){var g=f[e];d.push(void 0!==g.searchBuilderType?
g.searchBuilderType:g.sType)}}e=this.s.dt.columns().toArray();if(void 0===d||d.includes(void 0)||d.includes(null))w.fn.dataTable.ext.oApi._fnColumnTypes(this.s.dt.settings()[0]),d=this.s.dt.columns().type().toArray();for(f=0;f<e[0].length;f++)if(g=d[e[0][f]],(!0===this.c.columns||Array.isArray(this.c.columns)&&this.c.columns.includes(f))&&(g.includes("date")||g.includes("moment")||g.includes("luxon")))throw alert("SearchBuilder Requires DateTime when used with dates."),Error("SearchBuilder requires DateTime");
}this.s.topGroup=new E(this.s.dt,this.c,void 0,void 0,void 0,void 0,this.s.serverData);this._setClearListener();this.s.dt.on("stateSaveParams.dtsb",function(l,p,t){t.searchBuilder=b.getDetails();t.scroller?t.start=b.s.dt.state().start:t.page=b.s.dt.page()});this.s.dt.on("stateLoadParams.dtsb",function(l,p,t){b.rebuild(t.searchBuilder)});this._build();this.s.dt.on("preXhr.dtsb",function(l,p,t){b.s.dt.page.info().serverSide&&(t.searchBuilder=b._collapseArray(b.getDetails(!0)))});this.s.dt.on("column-reorder",
function(){b.rebuild(b.getDetails())});a&&(a=this.s.dt.state.loaded(),null!==a&&void 0!==a.searchBuilder?(this.s.topGroup.rebuild(a.searchBuilder),this.s.topGroup.dom.container.trigger("dtsb-redrawContents"),this.s.dt.page.info().serverSide||(a.page?this.s.dt.page(a.page).draw("page"):this.s.dt.scroller&&a.scroller&&this.s.dt.scroller().scrollToRow(a.scroller.topRow)),this.s.topGroup.setListeners()):!1!==this.c.preDefined&&(this.c.preDefined=this._applyPreDefDefaults(this.c.preDefined),this.rebuild(this.c.preDefined)));
this._setEmptyListener();this.s.dt.state.save()};c.prototype._collapseArray=function(a){if(void 0===a.logic)void 0!==a.value&&(a.value.sort(function(d,e){isNaN(+d)||(d=+d,e=+e);return d<e?-1:e<d?1:0}),a.value1=a.value[0],a.value2=a.value[1]);else for(var b=0;b<a.criteria.length;b++)a.criteria[b]=this._collapseArray(a.criteria[b]);return a};c.prototype._updateTitle=function(a){this.dom.title.html(this.s.dt.i18n("searchBuilder.title",this.c.i18n.title,a))};c.prototype._build=function(){var a=this;this.dom.clearAll.remove();
this.dom.container.empty();var b=this.s.topGroup.count();this._updateTitle(b);this.dom.titleRow.append(this.dom.title);this.dom.container.append(this.dom.titleRow);this.dom.topGroup=this.s.topGroup.getNode();this.dom.container.append(this.dom.topGroup);this._setRedrawListener();var d=this.s.dt.table(0).node();w.fn.dataTable.ext.search.includes(this.s.search)||(this.s.search=function(e,f,g){return e.nTable!==d?!0:a.s.topGroup.search(f,g)},w.fn.dataTable.ext.search.push(this.s.search));this.s.dt.on("destroy.dtsb",
function(){a.dom.container.remove();a.dom.clearAll.remove();for(var e=w.fn.dataTable.ext.search.indexOf(a.s.search);-1!==e;)w.fn.dataTable.ext.search.splice(e,1),e=w.fn.dataTable.ext.search.indexOf(a.s.search);a.s.dt.off(".dtsb");w(a.s.dt.table().node()).off(".dtsb")})};c.prototype._checkClear=function(){0<this.s.topGroup.s.criteria.length?(this.dom.clearAll.insertAfter(this.dom.title),this._setClearListener()):this.dom.clearAll.remove()};c.prototype._filterChanged=function(a){var b=this.c.filterChanged;
"function"===typeof b&&b(a,this.s.dt.i18n("searchBuilder.button",this.c.i18n.button,a))};c.prototype._setClearListener=function(){var a=this;this.dom.clearAll.unbind("click");this.dom.clearAll.on("click.dtsb",function(){a.s.topGroup=new E(a.s.dt,a.c,void 0,void 0,void 0,void 0,a.s.serverData);a._build();a.s.dt.draw();a.s.topGroup.setListeners();a.dom.clearAll.remove();a._setEmptyListener();a._filterChanged(0);return!1})};c.prototype._setRedrawListener=function(){var a=this;this.s.topGroup.dom.container.unbind("dtsb-redrawContents");
this.s.topGroup.dom.container.on("dtsb-redrawContents.dtsb",function(){a._checkClear();a.s.topGroup.redrawContents();a.s.topGroup.setupLogic();a._setEmptyListener();var b=a.s.topGroup.count();a._updateTitle(b);a._filterChanged(b);a.s.dt.page.info().serverSide||a.s.dt.draw();a.s.dt.state.save()});this.s.topGroup.dom.container.unbind("dtsb-redrawContents-noDraw");this.s.topGroup.dom.container.on("dtsb-redrawContents-noDraw.dtsb",function(){a._checkClear();a.s.topGroup.s.preventRedraw=!0;a.s.topGroup.redrawContents();
a.s.topGroup.s.preventRedraw=!1;a.s.topGroup.setupLogic();a._setEmptyListener();var b=a.s.topGroup.count();a._updateTitle(b);a._filterChanged(b)});this.s.topGroup.dom.container.unbind("dtsb-redrawLogic");this.s.topGroup.dom.container.on("dtsb-redrawLogic.dtsb",function(){a.s.topGroup.redrawLogic();var b=a.s.topGroup.count();a._updateTitle(b);a._filterChanged(b)});this.s.topGroup.dom.container.unbind("dtsb-add");this.s.topGroup.dom.container.on("dtsb-add.dtsb",function(){var b=a.s.topGroup.count();
a._updateTitle(b);a._filterChanged(b)});this.s.dt.on("postEdit.dtsb postCreate.dtsb postRemove.dtsb",function(){a.s.topGroup.redrawContents()});this.s.topGroup.dom.container.unbind("dtsb-clearContents");this.s.topGroup.dom.container.on("dtsb-clearContents.dtsb",function(){a._setUp(!1);a._filterChanged(0);a.s.dt.draw()})};c.prototype._setEmptyListener=function(){var a=this;this.s.topGroup.dom.add.on("click.dtsb",function(){a._checkClear()});this.s.topGroup.dom.container.on("dtsb-destroy.dtsb",function(){a.dom.clearAll.remove()})};
c.version="1.3.4";c.classes={button:"dtsb-button",clearAll:"dtsb-clearAll",container:"dtsb-searchBuilder",inputButton:"dtsb-iptbtn",title:"dtsb-title",titleRow:"dtsb-titleRow"};c.defaults={columns:!0,conditions:{date:q.dateConditions,html:q.stringConditions,"html-num":q.numConditions,"html-num-fmt":q.numFmtConditions,luxon:q.luxonDateConditions,moment:q.momentDateConditions,num:q.numConditions,"num-fmt":q.numFmtConditions,string:q.stringConditions},depthLimit:!1,enterSearch:!1,filterChanged:void 0,
greyscale:!1,i18n:{add:"Add Condition",button:{0:"Search Builder",_:"Search Builder (%d)"},clearAll:"Clear All",condition:"Condition",conditions:{array:{contains:"Contains",empty:"Empty",equals:"Equals",not:"Not",notEmpty:"Not Empty",without:"Without"},date:{after:"After",before:"Before",between:"Between",empty:"Empty",equals:"Equals",not:"Not",notBetween:"Not Between",notEmpty:"Not Empty"},number:{between:"Between",empty:"Empty",equals:"Equals",gt:"Greater Than",gte:"Greater Than Equal To",lt:"Less Than",
lte:"Less Than Equal To",not:"Not",notBetween:"Not Between",notEmpty:"Not Empty"},string:{contains:"Contains",empty:"Empty",endsWith:"Ends With",equals:"Equals",not:"Not",notContains:"Does Not Contain",notEmpty:"Not Empty",notEndsWith:"Does Not End With",notStartsWith:"Does Not Start With",startsWith:"Starts With"}},data:"Data","delete":"&times",deleteTitle:"Delete filtering rule",left:"<",leftTitle:"Outdent criteria",logicAnd:"And",logicOr:"Or",right:">",rightTitle:"Indent criteria",title:{0:"Custom Search Builder",
_:"Custom Search Builder (%d)"},value:"Value",valueJoiner:"and"},logic:"AND",orthogonal:{display:"display",search:"filter"},preDefined:!1};return c}();(function(c){"function"===typeof define&&define.amd?define(["jquery","datatables.net"],function(a){return c(a,window,document)}):"object"===typeof exports?module.exports=function(a,b){a||(a=window);b&&b.fn.dataTable||(b=require("datatables.net")(a,b).$);return c(b,a,a.document)}:c(window.jQuery,window,document)})(function(c,a,b){function d(f,g){f=new e.Api(f);
g=g?g:f.init().searchBuilder||e.defaults.searchBuilder;return(new G(f,g)).getNode()}m(c);n(c);k(c);var e=c.fn.dataTable;c.fn.dataTable.SearchBuilder=G;c.fn.DataTable.SearchBuilder=G;c.fn.dataTable.Group=E;c.fn.DataTable.Group=E;c.fn.dataTable.Criteria=q;c.fn.DataTable.Criteria=q;a=c.fn.dataTable.Api.register;c.fn.dataTable.ext.searchBuilder={conditions:{}};c.fn.dataTable.ext.buttons.searchBuilder={action:function(f,g,l,p){this.popover(p._searchBuilder.getNode(),{align:"container",span:"container"});
f=p._searchBuilder.s.topGroup;void 0!==f&&f.dom.container.trigger("dtsb-redrawContents-noDraw");0===f.s.criteria.length&&c("."+c.fn.dataTable.Group.classes.add.replace(/ /g,".")).click()},config:{},init:function(f,g,l){var p=new c.fn.dataTable.SearchBuilder(f,c.extend({filterChanged:function(t,A){f.button(g).text(A)}},l.config));f.button(g).text(l.text||f.i18n("searchBuilder.button",p.c.i18n.button,0));l._searchBuilder=p},text:null};a("searchBuilder.getDetails()",function(f){void 0===f&&(f=!1);var g=
this.context[0];return g._searchBuilder?g._searchBuilder.getDetails(f):null});a("searchBuilder.rebuild()",function(f){var g=this.context[0];if(void 0===g._searchBuilder)return null;g._searchBuilder.rebuild(f);return this});a("searchBuilder.container()",function(){var f=this.context[0];return f._searchBuilder?f._searchBuilder.getNode():null});c(b).on("preInit.dt.dtsp",function(f,g){"dt"===f.namespace&&(g.oInit.searchBuilder||e.defaults.searchBuilder)&&(g._searchBuilder||d(g))});e.ext.feature.push({cFeature:"Q",
fnInit:d});e.ext.features&&e.ext.features.register("searchBuilder",d)})})();


(function(b){"function"===typeof define&&define.amd?define(["jquery","datatables.net-bs4","datatables.net-searchbuilder"],function(a){return b(a)}):"object"===typeof exports?module.exports=function(a,c){a||(a=window);c&&c.fn.dataTable||(c=require("datatables.net-bs4")(a,c).$);c.fn.dataTable.searchBuilder||require("datatables.net-searchbuilder")(a,c);return b(c)}:b(jQuery)})(function(b){var a=b.fn.dataTable;b.extend(!0,a.SearchBuilder.classes,{clearAll:"btn btn-light dtsb-clearAll"});b.extend(!0,a.Group.classes,
{add:"btn btn-light dtsb-add",clearGroup:"btn btn-light dtsb-clearGroup",logic:"btn btn-light dtsb-logic"});b.extend(!0,a.Criteria.classes,{condition:"form-control dtsb-condition",data:"form-control dtsb-data","delete":"btn btn-light dtsb-delete",left:"btn btn-light dtsb-left",right:"btn btn-light dtsb-right",value:"form-control dtsb-value"});return a.searchPanes});


/*!
 SearchPanes 2.0.2
 2019-2022 SpryMedia Ltd - datatables.net/license
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.getGlobal=function(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var n=0;n<l.length;++n){var k=l[n];if(k&&k.Math==Math)return k}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.checkEs6ConformanceViaProxy=function(){try{var l={},n=Object.create(new $jscomp.global.Proxy(l,{get:function(k,q,v){return k==l&&"q"==q&&v==n}}));return!0===n.q}catch(k){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.arrayIteratorImpl=function(l){var n=0;return function(){return n<l.length?{done:!1,value:l[n++]}:{done:!0}}};$jscomp.arrayIterator=function(l){return{next:$jscomp.arrayIteratorImpl(l)}};
$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(l,n,k){if(l==Array.prototype||l==Object.prototype)return l;l[n]=k.value;return l};$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;
$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(l,n){var k=$jscomp.propertyToPolyfillSymbol[n];if(null==k)return l[n];k=l[k];return void 0!==k?k:l[n]};$jscomp.polyfill=function(l,n,k,q){n&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(l,n,k,q):$jscomp.polyfillUnisolated(l,n,k,q))};
$jscomp.polyfillUnisolated=function(l,n,k,q){k=$jscomp.global;l=l.split(".");for(q=0;q<l.length-1;q++){var v=l[q];if(!(v in k))return;k=k[v]}l=l[l.length-1];q=k[l];n=n(q);n!=q&&null!=n&&$jscomp.defineProperty(k,l,{configurable:!0,writable:!0,value:n})};
$jscomp.polyfillIsolated=function(l,n,k,q){var v=l.split(".");l=1===v.length;q=v[0];q=!l&&q in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var B=0;B<v.length-1;B++){var C=v[B];if(!(C in q))return;q=q[C]}v=v[v.length-1];k=$jscomp.IS_SYMBOL_NATIVE&&"es6"===k?q[v]:null;n=n(k);null!=n&&(l?$jscomp.defineProperty($jscomp.polyfills,v,{configurable:!0,writable:!0,value:n}):n!==k&&($jscomp.propertyToPolyfillSymbol[v]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(v):$jscomp.POLYFILL_PREFIX+v,v=
$jscomp.propertyToPolyfillSymbol[v],$jscomp.defineProperty(q,v,{configurable:!0,writable:!0,value:n})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(l){if(l)return l;var n=function(v,B){this.$jscomp$symbol$id_=v;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:B})};n.prototype.toString=function(){return this.$jscomp$symbol$id_};var k=0,q=function(v){if(this instanceof q)throw new TypeError("Symbol is not a constructor");return new n("jscomp_symbol_"+(v||"")+"_"+k++,v)};return q},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(l){if(l)return l;l=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),k=0;k<n.length;k++){var q=$jscomp.global[n[k]];"function"===typeof q&&"function"!=typeof q.prototype[l]&&$jscomp.defineProperty(q.prototype,l,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return l},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(l){l={next:l};l[Symbol.iterator]=function(){return this};return l};$jscomp.makeIterator=function(l){var n="undefined"!=typeof Symbol&&Symbol.iterator&&l[Symbol.iterator];return n?n.call(l):$jscomp.arrayIterator(l)};$jscomp.owns=function(l,n){return Object.prototype.hasOwnProperty.call(l,n)};
$jscomp.polyfill("WeakMap",function(l){function n(){if(!l||!Object.seal)return!1;try{var p=Object.seal({}),u=Object.seal({}),y=new l([[p,2],[u,3]]);if(2!=y.get(p)||3!=y.get(u))return!1;y.delete(p);y.set(u,4);return!y.has(p)&&4==y.get(u)}catch(E){return!1}}function k(){}function q(p){var u=typeof p;return"object"===u&&null!==p||"function"===u}function v(p){if(!$jscomp.owns(p,C)){var u=new k;$jscomp.defineProperty(p,C,{value:u})}}function B(p){if(!$jscomp.ISOLATE_POLYFILLS){var u=Object[p];u&&(Object[p]=
function(y){if(y instanceof k)return y;Object.isExtensible(y)&&v(y);return u(y)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(l&&$jscomp.ES6_CONFORMANCE)return l}else if(n())return l;var C="$jscomp_hidden_"+Math.random();B("freeze");B("preventExtensions");B("seal");var H=0,r=function(p){this.id_=(H+=Math.random()+1).toString();if(p){p=$jscomp.makeIterator(p);for(var u;!(u=p.next()).done;)u=u.value,this.set(u[0],u[1])}};r.prototype.set=function(p,u){if(!q(p))throw Error("Invalid WeakMap key");
v(p);if(!$jscomp.owns(p,C))throw Error("WeakMap key fail: "+p);p[C][this.id_]=u;return this};r.prototype.get=function(p){return q(p)&&$jscomp.owns(p,C)?p[C][this.id_]:void 0};r.prototype.has=function(p){return q(p)&&$jscomp.owns(p,C)&&$jscomp.owns(p[C],this.id_)};r.prototype.delete=function(p){return q(p)&&$jscomp.owns(p,C)&&$jscomp.owns(p[C],this.id_)?delete p[C][this.id_]:!1};return r},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(l){function n(){if($jscomp.ASSUME_NO_NATIVE_MAP||!l||"function"!=typeof l||!l.prototype.entries||"function"!=typeof Object.seal)return!1;try{var r=Object.seal({x:4}),p=new l($jscomp.makeIterator([[r,"s"]]));if("s"!=p.get(r)||1!=p.size||p.get({x:4})||p.set({x:4},"t")!=p||2!=p.size)return!1;var u=p.entries(),y=u.next();if(y.done||y.value[0]!=r||"s"!=y.value[1])return!1;y=u.next();return y.done||4!=y.value[0].x||"t"!=y.value[1]||!u.next().done?!1:!0}catch(E){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(l&&$jscomp.ES6_CONFORMANCE)return l}else if(n())return l;var k=new WeakMap,q=function(r){this.data_={};this.head_=C();this.size=0;if(r){r=$jscomp.makeIterator(r);for(var p;!(p=r.next()).done;)p=p.value,this.set(p[0],p[1])}};q.prototype.set=function(r,p){r=0===r?0:r;var u=v(this,r);u.list||(u.list=this.data_[u.id]=[]);u.entry?u.entry.value=p:(u.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:r,value:p},u.list.push(u.entry),
this.head_.previous.next=u.entry,this.head_.previous=u.entry,this.size++);return this};q.prototype.delete=function(r){r=v(this,r);return r.entry&&r.list?(r.list.splice(r.index,1),r.list.length||delete this.data_[r.id],r.entry.previous.next=r.entry.next,r.entry.next.previous=r.entry.previous,r.entry.head=null,this.size--,!0):!1};q.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=C();this.size=0};q.prototype.has=function(r){return!!v(this,r).entry};q.prototype.get=function(r){return(r=
v(this,r).entry)&&r.value};q.prototype.entries=function(){return B(this,function(r){return[r.key,r.value]})};q.prototype.keys=function(){return B(this,function(r){return r.key})};q.prototype.values=function(){return B(this,function(r){return r.value})};q.prototype.forEach=function(r,p){for(var u=this.entries(),y;!(y=u.next()).done;)y=y.value,r.call(p,y[1],y[0],this)};q.prototype[Symbol.iterator]=q.prototype.entries;var v=function(r,p){var u=p&&typeof p;"object"==u||"function"==u?k.has(p)?u=k.get(p):
(u=""+ ++H,k.set(p,u)):u="p_"+p;var y=r.data_[u];if(y&&$jscomp.owns(r.data_,u))for(r=0;r<y.length;r++){var E=y[r];if(p!==p&&E.key!==E.key||p===E.key)return{id:u,list:y,index:r,entry:E}}return{id:u,list:y,index:-1,entry:void 0}},B=function(r,p){var u=r.head_;return $jscomp.iteratorPrototype(function(){if(u){for(;u.head!=r.head_;)u=u.previous;for(;u.next!=u.head;)return u=u.next,{done:!1,value:p(u)};u=null}return{done:!0,value:void 0}})},C=function(){var r={};return r.previous=r.next=r.head=r},H=0;
return q},"es6","es3");$jscomp.findInternal=function(l,n,k){l instanceof String&&(l=String(l));for(var q=l.length,v=0;v<q;v++){var B=l[v];if(n.call(k,B,v,l))return{i:v,v:B}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(l){return l?l:function(n,k){return $jscomp.findInternal(this,n,k).v}},"es6","es3");
$jscomp.iteratorFromArray=function(l,n){l instanceof String&&(l+="");var k=0,q={next:function(){if(k<l.length){var v=k++;return{value:n(v,l[v]),done:!1}}q.next=function(){return{done:!0,value:void 0}};return q.next()}};q[Symbol.iterator]=function(){return q};return q};$jscomp.polyfill("Array.prototype.keys",function(l){return l?l:function(){return $jscomp.iteratorFromArray(this,function(n){return n})}},"es6","es3");
$jscomp.polyfill("Object.is",function(l){return l?l:function(n,k){return n===k?0!==n||1/n===1/k:n!==n&&k!==k}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(l){return l?l:function(n,k){var q=this;q instanceof String&&(q=String(q));var v=q.length;k=k||0;for(0>k&&(k=Math.max(k+v,0));k<v;k++){var B=q[k];if(B===n||Object.is(B,n))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(l,n,k){if(null==l)throw new TypeError("The 'this' value for String.prototype."+k+" must not be null or undefined");if(n instanceof RegExp)throw new TypeError("First argument to String.prototype."+k+" must not be a regular expression");return l+""};$jscomp.polyfill("String.prototype.includes",function(l){return l?l:function(n,k){return-1!==$jscomp.checkStringArgs(this,n,"includes").indexOf(n,k||0)}},"es6","es3");
$jscomp.underscoreProtoCanBeSet=function(){var l={a:!0},n={};try{return n.__proto__=l,n.a}catch(k){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(l,n){l.__proto__=n;if(l.__proto__!==n)throw new TypeError(l+" is not extensible");return l}:null;$jscomp.polyfill("Object.setPrototypeOf",function(l){return l||$jscomp.setPrototypeOf},"es6","es5");
(function(){function l(h){k=h;q=h.fn.dataTable}function n(h){D=h;G=h.fn.dataTable}var k,q,v=function(){function h(b,a,c,d,e){var f=this;void 0===e&&(e=null);if(!q||!q.versionCheck||!q.versionCheck("1.10.0"))throw Error("SearchPane requires DataTables 1.10 or newer");if(!q.select)throw Error("SearchPane requires Select");b=new q.Api(b);this.classes=k.extend(!0,{},h.classes);this.c=k.extend(!0,{},h.defaults,a);a&&a.hideCount&&void 0===a.viewCount&&(this.c.viewCount=!this.c.hideCount);a=b.columns().eq(0).toArray().length;
this.s={colExists:c<a,colOpts:void 0,customPaneSettings:e,displayed:!1,dt:b,dtPane:void 0,firstSet:!0,index:c,indexes:[],listSet:!1,name:void 0,rowData:{arrayFilter:[],arrayOriginal:[],bins:{},binsOriginal:{},filterMap:new Map,totalOptions:0},scrollTop:0,searchFunction:void 0,selections:[],serverSelect:[],serverSelecting:!1,tableLength:null,updating:!1};this.s.colOpts=this.s.colExists?this._getOptions():this._getBonusOptions();this.dom={buttonGroup:k("<div/>").addClass(this.classes.buttonGroup),clear:k('<button type="button">&#215;</button>').attr("disabled",
"true").addClass(this.classes.disabledButton).addClass(this.classes.paneButton).addClass(this.classes.clearButton).html(this.s.dt.i18n("searchPanes.clearPane",this.c.i18n.clearPane)),collapseButton:k('<button type="button"><span class="'+this.classes.caret+'">&#x5e;</span></button>').addClass(this.classes.paneButton).addClass(this.classes.collapseButton),container:k("<div/>").addClass(this.classes.container).addClass(this.s.colOpts.className).addClass(this.classes.layout+(10>parseInt(this.c.layout.split("-")[1],
10)?this.c.layout:this.c.layout.split("-")[0]+"-9")).addClass(this.s.customPaneSettings&&this.s.customPaneSettings.className?this.s.customPaneSettings.className:""),countButton:k('<button type="button"></button>').addClass(this.classes.paneButton).addClass(this.classes.countButton),dtP:k("<table><thead><tr><th>"+(this.s.colExists?k(this.s.dt.column(this.s.index).header()).text():this.s.customPaneSettings.header||"Custom Pane")+"</th><th/></tr></thead></table>"),lower:k("<div/>").addClass(this.classes.subRow2).addClass(this.classes.narrowButton),
nameButton:k('<button type="button"></button>').addClass(this.classes.paneButton).addClass(this.classes.nameButton),panesContainer:d,searchBox:k("<input/>").addClass(this.classes.paneInputButton).addClass(this.classes.search),searchButton:k('<button type = "button"/>').addClass(this.classes.searchIcon).addClass(this.classes.paneButton),searchCont:k("<div/>").addClass(this.classes.searchCont),searchLabelCont:k("<div/>").addClass(this.classes.searchLabelCont),topRow:k("<div/>").addClass(this.classes.topRow),
upper:k("<div/>").addClass(this.classes.subRow1).addClass(this.classes.narrowSearch)};this.s.name=this.s.colOpts.name?this.s.colOpts.name:this.s.customPaneSettings&&this.s.customPaneSettings.name?this.s.customPaneSettings.name:this.s.colExists?k(this.s.dt.column(this.s.index).header()).text():this.s.customPaneSettings.header||"Custom Pane";var g=this.s.dt.table(0).node();this.s.searchFunction=function(m,t,w){if(0===f.s.selections.length||m.nTable!==g)return!0;m=null;f.s.colExists&&(m=t[f.s.index],
"filter"!==f.s.colOpts.orthogonal.filter&&(m=f.s.rowData.filterMap.get(w),m instanceof k.fn.dataTable.Api&&(m=m.toArray())));return f._search(m,w)};k.fn.dataTable.ext.search.push(this.s.searchFunction);if(this.c.clear)this.dom.clear.on("click.dtsp",function(){f.dom.container.find("."+f.classes.search.replace(/\s+/g,".")).each(function(){k(this).val("").trigger("input")});f.clearPane()});this.s.dt.on("draw.dtsp",function(){return f.adjustTopRow()});this.s.dt.on("buttons-action.dtsp",function(){return f.adjustTopRow()});
this.s.dt.on("column-reorder.dtsp",function(m,t,w){f.s.index=w.mapping[f.s.index]});return this}h.prototype.addRow=function(b,a,c,d,e,f,g){f||(f=this.s.rowData.bins[a]?this.s.rowData.bins[a]:0);g||(g=this._getShown(a));for(var m,t=0,w=this.s.indexes;t<w.length;t++){var A=w[t];A.filter===a&&(m=A.index)}void 0===m&&(m=this.s.indexes.length,this.s.indexes.push({filter:a,index:m}));return this.s.dtPane.row.add({className:e,display:""!==b?b:this.emptyMessage(),filter:a,index:m,shown:g,sort:c,total:f,type:d})};
h.prototype.adjustTopRow=function(){var b=this.dom.container.find("."+this.classes.subRowsContainer.replace(/\s+/g,".")),a=this.dom.container.find("."+this.classes.subRow1.replace(/\s+/g,".")),c=this.dom.container.find("."+this.classes.subRow2.replace(/\s+/g,".")),d=this.dom.container.find("."+this.classes.topRow.replace(/\s+/g,"."));(252>k(b[0]).width()||252>k(d[0]).width())&&0!==k(b[0]).width()?(k(b[0]).addClass(this.classes.narrow),k(a[0]).addClass(this.classes.narrowSub).removeClass(this.classes.narrowSearch),
k(c[0]).addClass(this.classes.narrowSub).removeClass(this.classes.narrowButton)):(k(b[0]).removeClass(this.classes.narrow),k(a[0]).removeClass(this.classes.narrowSub).addClass(this.classes.narrowSearch),k(c[0]).removeClass(this.classes.narrowSub).addClass(this.classes.narrowButton))};h.prototype.clearData=function(){this.s.rowData={arrayFilter:[],arrayOriginal:[],bins:{},binsOriginal:{},filterMap:new Map,totalOptions:0}};h.prototype.clearPane=function(){this.s.dtPane.rows({selected:!0}).deselect();
this.updateTable();return this};h.prototype.collapse=function(){var b=this;this.s.displayed&&(this.c.collapse||!0===this.s.colOpts.collapse)&&!1!==this.s.colOpts.collapse&&(k(this.s.dtPane.table().container()).addClass(this.classes.hidden),this.dom.topRow.addClass(this.classes.bordered),this.dom.nameButton.addClass(this.classes.disabledButton),this.dom.countButton.addClass(this.classes.disabledButton),this.dom.searchButton.addClass(this.classes.disabledButton),this.dom.collapseButton.addClass(this.classes.rotated),
this.dom.topRow.one("click.dtsp",function(){return b.show()}))};h.prototype.destroy=function(){this.s.dtPane&&this.s.dtPane.off(".dtsp");this.s.dt.off(".dtsp");this.dom.clear.off(".dtsp");this.dom.nameButton.off(".dtsp");this.dom.countButton.off(".dtsp");this.dom.searchButton.off(".dtsp");this.dom.collapseButton.off(".dtsp");k(this.s.dt.table().node()).off(".dtsp");this.dom.container.detach();for(var b=k.fn.dataTable.ext.search.indexOf(this.s.searchFunction);-1!==b;)k.fn.dataTable.ext.search.splice(b,
1),b=k.fn.dataTable.ext.search.indexOf(this.s.searchFunction);this.s.dtPane&&this.s.dtPane.destroy();this.s.listSet=!1};h.prototype.emptyMessage=function(){var b=this.c.i18n.emptyMessage;this.c.emptyMessage&&(b=this.c.emptyMessage);!1!==this.s.colOpts.emptyMessage&&null!==this.s.colOpts.emptyMessage&&(b=this.s.colOpts.emptyMessage);return this.s.dt.i18n("searchPanes.emptyMessage",b)};h.prototype.getPaneCount=function(){return this.s.dtPane?this.s.dtPane.rows({selected:!0}).data().toArray().length:
0};h.prototype.rebuildPane=function(b,a){void 0===b&&(b=null);void 0===a&&(a=!1);this.clearData();var c=[];this.s.serverSelect=[];var d=null;this.s.dtPane&&(a&&(this.s.dt.page.info().serverSide?this.s.serverSelect=this.s.dtPane.rows({selected:!0}).data().toArray():c=this.s.dtPane.rows({selected:!0}).data().toArray()),this.s.dtPane.clear().destroy(),d=this.dom.container.prev(),this.destroy(),this.s.dtPane=void 0,k.fn.dataTable.ext.search.push(this.s.searchFunction));this.dom.container.removeClass(this.classes.hidden);
this.s.displayed=!1;this._buildPane(this.s.dt.page.info().serverSide?this.s.serverSelect:c,b,d);return this};h.prototype.resize=function(b){this.c.layout=b;this.dom.container.removeClass().addClass(this.classes.show).addClass(this.classes.container).addClass(this.s.colOpts.className).addClass(this.classes.layout+(10>parseInt(b.split("-")[1],10)?b:b.split("-")[0]+"-9")).addClass(null!==this.s.customPaneSettings&&this.s.customPaneSettings.className?this.s.customPaneSettings.className:"");this.adjustTopRow()};
h.prototype.setListeners=function(){var b=this;this.s.dtPane&&(this.s.dtPane.select.style(this.s.colOpts.dtOpts&&this.s.colOpts.dtOpts.select&&this.s.colOpts.dtOpts.select.style?this.s.colOpts.dtOpts.select.style:this.c.dtOpts&&this.c.dtOpts.select&&this.c.dtOpts.select.style?this.c.dtOpts.select.style:"os"),this.s.dtPane.off("select.dtsp").on("select.dtsp",function(){clearTimeout(b.s.deselectTimeout);b._updateSelection(!b.s.updating);b.dom.clear.removeClass(b.classes.disabledButton).removeAttr("disabled")}),
this.s.dtPane.off("deselect.dtsp").on("deselect.dtsp",function(){b.s.deselectTimeout=setTimeout(function(){b._updateSelection(!0);0===b.s.dtPane.rows({selected:!0}).data().toArray().length&&b.dom.clear.addClass(b.classes.disabledButton).attr("disabled","true")},50)}),this.s.firstSet&&(this.s.firstSet=!1,this.s.dt.on("stateSaveParams.dtsp",function(a,c,d){if(k.isEmptyObject(d))b.s.dtPane.state.clear();else{a=[];if(b.s.dtPane){a=b.s.dtPane.rows({selected:!0}).data().map(function(w){return w.filter.toString()}).toArray();
var e=b.dom.searchBox.val();var f=b.s.dtPane.order();var g=b.s.rowData.binsOriginal;var m=b.s.rowData.arrayOriginal;var t=b.dom.collapseButton.hasClass(b.classes.rotated)}void 0===d.searchPanes&&(d.searchPanes={});void 0===d.searchPanes.panes&&(d.searchPanes.panes=[]);for(c=0;c<d.searchPanes.panes.length;c++)d.searchPanes.panes[c].id===b.s.index&&(d.searchPanes.panes.splice(c,1),c--);d.searchPanes.panes.push({arrayFilter:m,bins:g,collapsed:t,id:b.s.index,order:f,searchTerm:e,selected:a})}})),this.s.dtPane.off("user-select.dtsp").on("user-select.dtsp",
function(a,c,d,e,f){f.stopPropagation()}),this.s.dtPane.off("draw.dtsp").on("draw.dtsp",function(){return b.adjustTopRow()}),this.dom.nameButton.off("click.dtsp").on("click.dtsp",function(){var a=b.s.dtPane.order()[0][1];b.s.dtPane.order([0,"asc"===a?"desc":"asc"]).draw();b.s.dt.state.save()}),this.dom.countButton.off("click.dtsp").on("click.dtsp",function(){var a=b.s.dtPane.order()[0][1];b.s.dtPane.order([1,"asc"===a?"desc":"asc"]).draw();b.s.dt.state.save()}),this.dom.collapseButton.off("click.dtsp").on("click.dtsp",
function(a){a.stopPropagation();a=k(b.s.dtPane.table().container());a.toggleClass(b.classes.hidden);b.dom.topRow.toggleClass(b.classes.bordered);b.dom.nameButton.toggleClass(b.classes.disabledButton);b.dom.countButton.toggleClass(b.classes.disabledButton);b.dom.searchButton.toggleClass(b.classes.disabledButton);b.dom.collapseButton.toggleClass(b.classes.rotated);if(a.hasClass(b.classes.hidden))b.dom.topRow.on("click.dtsp",function(){return b.dom.collapseButton.click()});else b.dom.topRow.off("click.dtsp");
b.s.dt.state.save()}),this.dom.clear.off("click.dtsp").on("click.dtsp",function(){b.dom.container.find("."+b.classes.search.replace(/ /g,".")).each(function(){k(this).val("").trigger("input")});b.clearPane()}),this.dom.searchButton.off("click.dtsp").on("click.dtsp",function(){return b.dom.searchBox.focus()}),this.dom.searchBox.off("click.dtsp").on("input.dtsp",function(){var a=b.dom.searchBox.val();b.s.dtPane.search(a).draw();"string"===typeof a&&(0<a.length||0===a.length&&0<b.s.dtPane.rows({selected:!0}).data().toArray().length)?
b.dom.clear.removeClass(b.classes.disabledButton).removeAttr("disabled"):b.dom.clear.addClass(b.classes.disabledButton).attr("disabled","true");b.s.dt.state.save()}),this.s.dtPane.select.style(this.s.colOpts.dtOpts&&this.s.colOpts.dtOpts.select&&this.s.colOpts.dtOpts.select.style?this.s.colOpts.dtOpts.select.style:this.c.dtOpts&&this.c.dtOpts.select&&this.c.dtOpts.select.style?this.c.dtOpts.select.style:"os"))};h.prototype._serverPopulate=function(b){if(b.tableLength)this.s.tableLength=b.tableLength,
this.s.rowData.totalOptions=this.s.tableLength;else if(null===this.s.tableLength||this.s.dt.rows()[0].length>this.s.tableLength)this.s.tableLength=this.s.dt.rows()[0].length,this.s.rowData.totalOptions=this.s.tableLength;var a=this.s.dt.column(this.s.index).dataSrc();if(b.searchPanes.options[a]){var c=0;for(b=b.searchPanes.options[a];c<b.length;c++)a=b[c],this.s.rowData.arrayFilter.push({display:a.label,filter:a.value,sort:a.label,type:a.label}),this.s.rowData.bins[a.value]=a.total}c=Object.keys(this.s.rowData.bins).length;
b=this._uniqueRatio(c,this.s.tableLength);!1===this.s.displayed&&((void 0===this.s.colOpts.show&&null===this.s.colOpts.threshold?b>this.c.threshold:b>this.s.colOpts.threshold)||!0!==this.s.colOpts.show&&1>=c)?(this.dom.container.addClass(this.classes.hidden),this.s.displayed=!1):(this.s.rowData.arrayOriginal=this.s.rowData.arrayFilter,this.s.rowData.binsOriginal=this.s.rowData.bins,this.s.displayed=!0)};h.prototype.show=function(){this.s.displayed&&(this.dom.topRow.removeClass(this.classes.bordered),
this.dom.nameButton.removeClass(this.classes.disabledButton),this.dom.countButton.removeClass(this.classes.disabledButton),this.dom.searchButton.removeClass(this.classes.disabledButton),this.dom.collapseButton.removeClass(this.classes.rotated),k(this.s.dtPane.table().container()).removeClass(this.classes.hidden))};h.prototype._uniqueRatio=function(b,a){return 0<a&&(0<this.s.rowData.totalOptions&&!this.s.dt.page.info().serverSide||this.s.dt.page.info().serverSide&&0<this.s.tableLength)?b/this.s.rowData.totalOptions:
1};h.prototype.updateTable=function(){var b=this.s.dtPane.rows({selected:!0}).data().toArray().map(function(a){return a.filter});this.s.selections=b;this._searchExtras()};h.prototype._getComparisonRows=function(){var b=this.s.colOpts.options?this.s.colOpts.options:this.s.customPaneSettings&&this.s.customPaneSettings.options?this.s.customPaneSettings.options:void 0;if(void 0!==b){var a=this.s.dt.rows(),c=a.data().toArray(),d=[];this.s.dtPane.clear();this.s.indexes=[];for(var e=0;e<b.length;e++){var f=
b[e],g=""!==f.label?f.label:this.emptyMessage(),m=f.className,t=g,w="function"===typeof f.value?f.value:[],A=g,z=0;if("function"===typeof f.value){for(var x=0;x<c.length;x++)f.value.call(this.s.dt,c[x],a[0][x])&&z++;"function"!==typeof w&&w.push(f.filter)}d.push(this.addRow(t,w,A,g,m,z))}return d}};h.prototype._getMessage=function(b){return this.s.dt.i18n("searchPanes.count",this.c.i18n.count).replace(/{total}/g,b.total)};h.prototype._getShown=function(b){};h.prototype._getPaneConfig=function(){var b=
this,a=q.Scroller,c=this.s.dt.settings()[0].oLanguage;c.url=void 0;c.sUrl=void 0;return{columnDefs:[{className:"dtsp-nameColumn",data:"display",render:function(d,e,f){if("sort"===e)return f.sort;if("type"===e)return f.type;f=b._getMessage(f);f='<span class="'+b.classes.pill+'">'+f+"</span>";b.c.viewCount&&b.s.colOpts.viewCount||(f="");return"filter"===e?"string"===typeof d&&null!==d.match(/<[^>]*>/)?d.replace(/<[^>]*>/g,""):d:'<div class="'+b.classes.nameCont+'"><span title="'+("string"===typeof d&&
null!==d.match(/<[^>]*>/)?d.replace(/<[^>]*>/g,""):d)+'" class="'+b.classes.name+'">'+d+"</span>"+f+"</div>"},targets:0,type:this.s.dt.settings()[0].aoColumns[this.s.index]?this.s.dt.settings()[0].aoColumns[this.s.index]._sManualType:null},{className:"dtsp-countColumn "+this.classes.badgePill,data:"total",searchable:!1,targets:1,visible:!1}],deferRender:!0,dom:"t",info:!1,language:c,paging:a?!0:!1,scrollX:!1,scrollY:"200px",scroller:a?!0:!1,select:!0,stateSave:this.s.dt.settings()[0].oFeatures.bStateSave?
!0:!1}};h.prototype._makeSelection=function(){this.updateTable();this.s.updating=!0;this.s.dt.draw();this.s.updating=!1};h.prototype._populatePaneArray=function(b,a,c,d){void 0===d&&(d=this.s.rowData.bins);if("string"===typeof this.s.colOpts.orthogonal)c=c.oApi._fnGetCellData(c,b,this.s.index,this.s.colOpts.orthogonal),this.s.rowData.filterMap.set(b,c),this._addOption(c,c,c,c,a,d);else{var e=c.oApi._fnGetCellData(c,b,this.s.index,this.s.colOpts.orthogonal.search);null===e&&(e="");"string"===typeof e&&
(e=e.replace(/<[^>]*>/g,""));this.s.rowData.filterMap.set(b,e);d[e]?d[e]++:(d[e]=1,this._addOption(e,c.oApi._fnGetCellData(c,b,this.s.index,this.s.colOpts.orthogonal.display),c.oApi._fnGetCellData(c,b,this.s.index,this.s.colOpts.orthogonal.sort),c.oApi._fnGetCellData(c,b,this.s.index,this.s.colOpts.orthogonal.type),a,d))}this.s.rowData.totalOptions++};h.prototype._reloadSelect=function(b){if(void 0!==b){for(var a,c=0;c<b.searchPanes.panes.length;c++)if(b.searchPanes.panes[c].id===this.s.index){a=
c;break}if(a){c=this.s.dtPane;var d=c.rows({order:"index"}).data().map(function(g){return null!==g.filter?g.filter.toString():null}).toArray(),e=0;for(b=b.searchPanes.panes[a].selected;e<b.length;e++){a=b[e];var f=-1;null!==a&&(f=d.indexOf(a.toString()));-1<f&&(this.s.serverSelecting=!0,c.row(f).select(),this.s.serverSelecting=!1)}}}};h.prototype._updateSelection=function(b){this.s.scrollTop=k(this.s.dtPane.table().node()).parent()[0].scrollTop;this.s.dt.page.info().serverSide&&!this.s.updating?this.s.serverSelecting||
(this.s.serverSelect=this.s.dtPane.rows({selected:!0}).data().toArray(),this.s.dt.draw(!1)):b&&this._makeSelection()};h.prototype._addOption=function(b,a,c,d,e,f){if(Array.isArray(b)||b instanceof q.Api)if(b instanceof q.Api&&(b=b.toArray(),a=a.toArray()),b.length===a.length)for(var g=0;g<b.length;g++)f[b[g]]?f[b[g]]++:(f[b[g]]=1,e.push({display:a[g],filter:b[g],sort:c[g],type:d[g]})),this.s.rowData.totalOptions++;else throw Error("display and filter not the same length");else"string"===typeof this.s.colOpts.orthogonal?
(f[b]?f[b]++:(f[b]=1,e.push({display:a,filter:b,sort:c,type:d})),this.s.rowData.totalOptions++):e.push({display:a,filter:b,sort:c,type:d})};h.prototype._buildPane=function(b,a,c){var d=this;void 0===b&&(b=[]);void 0===a&&(a=null);void 0===c&&(c=null);this.s.selections=[];var e=this.s.dt.state.loaded();this.s.listSet&&(e=this.s.dt.state());if(this.s.colExists){var f=-1;if(e&&e.searchPanes&&e.searchPanes.panes)for(var g=0;g<e.searchPanes.panes.length;g++)if(e.searchPanes.panes[g].id===this.s.index){f=
g;break}if((!1===this.s.colOpts.show||void 0!==this.s.colOpts.show&&!0!==this.s.colOpts.show)&&-1===f)return this.dom.container.addClass(this.classes.hidden),this.s.displayed=!1;if(!0===this.s.colOpts.show||-1!==f)this.s.displayed=!0;if(this.s.dt.page.info().serverSide||a&&a.searchPanes&&a.searchPanes.options)a&&a.searchPanes&&a.searchPanes.options&&this._serverPopulate(a);else{0===this.s.rowData.arrayFilter.length&&(this.s.rowData.totalOptions=0,this._populatePane(),this.s.rowData.arrayOriginal=
this.s.rowData.arrayFilter,this.s.rowData.binsOriginal=this.s.rowData.bins);g=Object.keys(this.s.rowData.binsOriginal).length;f=this._uniqueRatio(g,this.s.dt.rows()[0].length);if(!1===this.s.displayed&&((void 0===this.s.colOpts.show&&null===this.s.colOpts.threshold?f>this.c.threshold:f>this.s.colOpts.threshold)||!0!==this.s.colOpts.show&&1>=g)){this.dom.container.addClass(this.classes.hidden);this.s.displayed=!1;return}this.dom.container.addClass(this.classes.show);this.s.displayed=!0}}else this.s.displayed=
!0;this._displayPane();if(!this.s.listSet)this.dom.dtP.on("stateLoadParams.dtsp",function(w,A,z){k.isEmptyObject(d.s.dt.state.loaded())&&k.each(z,function(x){delete z[x]})});null!==c&&0<this.dom.panesContainer.has(c).length?this.dom.container.insertAfter(c):this.dom.panesContainer.prepend(this.dom.container);c=k.fn.dataTable.ext.errMode;k.fn.dataTable.ext.errMode="none";this.s.dtPane=this.dom.dtP.DataTable(k.extend(!0,this._getPaneConfig(),this.c.dtOpts,this.s.colOpts?this.s.colOpts.dtOpts:{},this.s.colOpts.options||
!this.s.colExists?{createdRow:function(w,A){k(w).addClass(A.className)}}:void 0,null!==this.s.customPaneSettings&&this.s.customPaneSettings.dtOpts?this.s.customPaneSettings.dtOpts:{},k.fn.dataTable.versionCheck("2")?{layout:{bottomLeft:null,bottomRight:null,topLeft:null,topRight:null}}:{}));this.dom.dtP.addClass(this.classes.table);g="Custom Pane";this.s.customPaneSettings&&this.s.customPaneSettings.header?g=this.s.customPaneSettings.header:this.s.colOpts.header?g=this.s.colOpts.header:this.s.colExists&&
(g=k.fn.dataTable.versionCheck("2")?this.s.dt.column(this.s.index).title():this.s.dt.settings()[0].aoColumns[this.s.index].sTitle);g=this._escapeHTML(g);this.dom.searchBox.attr("placeholder",g);k.fn.dataTable.select.init(this.s.dtPane);k.fn.dataTable.ext.errMode=c;if(this.s.colExists)for(g=0,f=this.s.rowData.arrayFilter.length;g<f;g++)if(this.s.dt.page.info().serverSide){c=this.addRow(this.s.rowData.arrayFilter[g].display,this.s.rowData.arrayFilter[g].filter,this.s.rowData.arrayFilter[g].sort,this.s.rowData.arrayFilter[g].type);
for(var m=0,t=this.s.serverSelect;m<t.length;m++)t[m].filter===this.s.rowData.arrayFilter[g].filter&&(this.s.serverSelecting=!0,c.select(),this.s.serverSelecting=!1)}else!this.s.dt.page.info().serverSide&&this.s.rowData.arrayFilter[g]?this.addRow(this.s.rowData.arrayFilter[g].display,this.s.rowData.arrayFilter[g].filter,this.s.rowData.arrayFilter[g].sort,this.s.rowData.arrayFilter[g].type):this.s.dt.page.info().serverSide||this.addRow("","","","");q.select.init(this.s.dtPane);(this.s.colOpts.options||
this.s.customPaneSettings&&this.s.customPaneSettings.options)&&this._getComparisonRows();this.s.dtPane.draw();this.s.dtPane.table().node().parentNode.scrollTop=this.s.scrollTop;this.adjustTopRow();this.setListeners();this.s.listSet=!0;for(g=0;g<b.length;g++)if(f=b[g])for(m=0,t=this.s.dtPane.rows().indexes().toArray();m<t.length;m++)c=t[m],this.s.dtPane.row(c).data()&&f.filter===this.s.dtPane.row(c).data().filter&&(this.s.dt.page.info().serverSide?(this.s.serverSelecting=!0,this.s.dtPane.row(c).select(),
this.s.serverSelecting=!1):this.s.dtPane.row(c).select());this.s.dt.page.info().serverSide&&this.s.dtPane.search(this.dom.searchBox.val()).draw();if((this.c.initCollapsed&&!1!==this.s.colOpts.initCollapsed||this.s.colOpts.initCollapsed)&&(this.c.collapse&&!1!==this.s.colOpts.collapse||this.s.colOpts.collapse))if(this.s.dtPane.settings()[0]._bInitComplete)this.collapse();else this.s.dtPane.one("init",function(){return d.collapse()});if(e&&e.searchPanes&&e.searchPanes.panes&&(!a||1===a.draw))for(this._reloadSelect(e),
a=0,e=e.searchPanes.panes;a<e.length;a++)b=e[a],b.id===this.s.index&&(b.searchTerm&&0<b.searchTerm.length&&this.dom.searchBox.val(b.searchTerm).trigger("input"),b.order&&this.s.dtPane.order(b.order).draw(),b.collapsed?this.collapse():this.show());return!0};h.prototype._displayPane=function(){this.dom.dtP.empty();this.dom.topRow.empty().addClass(this.classes.topRow);3<parseInt(this.c.layout.split("-")[1],10)&&this.dom.container.addClass(this.classes.smallGap);this.dom.topRow.addClass(this.classes.subRowsContainer).append(this.dom.upper.append(this.dom.searchCont)).append(this.dom.lower.append(this.dom.buttonGroup));
(!1===this.c.dtOpts.searching||this.s.colOpts.dtOpts&&!1===this.s.colOpts.dtOpts.searching||!this.c.controls||!this.s.colOpts.controls||this.s.customPaneSettings&&this.s.customPaneSettings.dtOpts&&void 0!==this.s.customPaneSettings.dtOpts.searching&&!this.s.customPaneSettings.dtOpts.searching)&&this.dom.searchBox.removeClass(this.classes.paneInputButton).addClass(this.classes.disabledButton).attr("disabled","true");this.dom.searchBox.appendTo(this.dom.searchCont);this._searchContSetup();this.c.clear&&
this.c.controls&&this.s.colOpts.controls&&this.dom.clear.appendTo(this.dom.buttonGroup);this.c.orderable&&this.s.colOpts.orderable&&this.c.controls&&this.s.colOpts.controls&&this.dom.nameButton.appendTo(this.dom.buttonGroup);this.c.viewCount&&this.s.colOpts.viewCount&&this.c.orderable&&this.s.colOpts.orderable&&this.c.controls&&this.s.colOpts.controls&&this.dom.countButton.appendTo(this.dom.buttonGroup);(this.c.collapse&&!1!==this.s.colOpts.collapse||this.s.colOpts.collapse)&&this.c.controls&&this.s.colOpts.controls&&
this.dom.collapseButton.appendTo(this.dom.buttonGroup);this.dom.container.prepend(this.dom.topRow).append(this.dom.dtP).show()};h.prototype._escapeHTML=function(b){return b.toString().replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"')};h.prototype._getBonusOptions=function(){return k.extend(!0,{},h.defaults,{threshold:null},this.c?this.c:{})};h.prototype._getOptions=function(){var b=this.s.dt.settings()[0].aoColumns[this.s.index].searchPanes,a=k.extend(!0,{},h.defaults,
{collapse:null,emptyMessage:!1,initCollapsed:null,threshold:null},b);b&&b.hideCount&&void 0===b.viewCount&&(a.viewCount=!b.hideCount);return a};h.prototype._populatePane=function(){this.s.rowData.arrayFilter=[];this.s.rowData.bins={};var b=this.s.dt.settings()[0];if(!this.s.dt.page.info().serverSide)for(var a=0,c=this.s.dt.rows().indexes().toArray();a<c.length;a++)this._populatePaneArray(c[a],this.s.rowData.arrayFilter,b)};h.prototype._search=function(b,a){for(var c=this.s.colOpts,d=this.s.dt,e=0,
f=this.s.selections;e<f.length;e++){var g=f[e];"string"===typeof g&&"string"===typeof b&&(g=this._escapeHTML(g));if(Array.isArray(b))if("and"===c.combiner){if(!b.includes(g))return!1}else{if(b.includes(g))return!0}else if("function"===typeof g)if(g.call(d,d.row(a).data(),a)){if("or"===c.combiner)return!0}else{if("and"===c.combiner)return!1}else if(b===g||("string"!==typeof b||0!==b.length)&&b==g||null===g&&"string"===typeof b&&""===b)return!0}return"and"===c.combiner?!0:!1};h.prototype._searchContSetup=
function(){this.c.controls&&this.s.colOpts.controls&&this.dom.searchButton.appendTo(this.dom.searchLabelCont);!1===this.c.dtOpts.searching||!1===this.s.colOpts.dtOpts.searching||this.s.customPaneSettings&&this.s.customPaneSettings.dtOpts&&void 0!==this.s.customPaneSettings.dtOpts.searching&&!this.s.customPaneSettings.dtOpts.searching||this.dom.searchLabelCont.appendTo(this.dom.searchCont)};h.prototype._searchExtras=function(){var b=this.s.updating;this.s.updating=!0;var a=this.s.dtPane.rows({selected:!0}).data().pluck("filter").toArray(),
c=a.indexOf(this.emptyMessage()),d=k(this.s.dtPane.table().container());-1<c&&(a[c]="");0<a.length?d.addClass(this.classes.selected):0===a.length&&d.removeClass(this.classes.selected);this.s.updating=b};h.version="2.0.0-dev";h.classes={bordered:"dtsp-bordered",buttonGroup:"dtsp-buttonGroup",buttonSub:"dtsp-buttonSub",caret:"dtsp-caret",clear:"dtsp-clear",clearAll:"dtsp-clearAll",clearButton:"clearButton",collapseAll:"dtsp-collapseAll",collapseButton:"dtsp-collapseButton",container:"dtsp-searchPane",
countButton:"dtsp-countButton",disabledButton:"dtsp-disabledButton",hidden:"dtsp-hidden",hide:"dtsp-hide",layout:"dtsp-",name:"dtsp-name",nameButton:"dtsp-nameButton",nameCont:"dtsp-nameCont",narrow:"dtsp-narrow",paneButton:"dtsp-paneButton",paneInputButton:"dtsp-paneInputButton",pill:"dtsp-pill",rotated:"dtsp-rotated",search:"dtsp-search",searchCont:"dtsp-searchCont",searchIcon:"dtsp-searchIcon",searchLabelCont:"dtsp-searchButtonCont",selected:"dtsp-selected",smallGap:"dtsp-smallGap",subRow1:"dtsp-subRow1",
subRow2:"dtsp-subRow2",subRowsContainer:"dtsp-subRowsContainer",title:"dtsp-title",topRow:"dtsp-topRow"};h.defaults={clear:!0,collapse:!0,combiner:"or",container:function(b){return b.table().container()},controls:!0,dtOpts:{},emptyMessage:null,hideCount:!1,i18n:{clearPane:"&times;",count:"{total}",emptyMessage:"<em>No data</em>"},initCollapsed:!1,layout:"auto",name:void 0,orderable:!0,orthogonal:{display:"display",filter:"filter",hideCount:!1,search:"filter",show:void 0,sort:"sort",threshold:.6,type:"type",
viewCount:!0},preSelect:[],threshold:.6,viewCount:!0};return h}(),B=window&&window.__extends||function(){var h=function(b,a){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var e in d)d.hasOwnProperty(e)&&(c[e]=d[e])};return h(b,a)};return function(b,a){function c(){this.constructor=b}h(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),C=function(h){function b(a,c,d,e,f){return h.call(this,a,c,d,e,f)||this}B(b,h);
b.prototype._serverPopulate=function(a){this.s.rowData.binsShown={};this.s.rowData.arrayFilter=[];if(void 0!==a.tableLength)this.s.tableLength=a.tableLength,this.s.rowData.totalOptions=this.s.tableLength;else if(null===this.s.tableLength||this.s.dt.rows()[0].length>this.s.tableLength)this.s.tableLength=this.s.dt.rows()[0].length,this.s.rowData.totalOptions=this.s.tableLength;var c=this.s.dt.column(this.s.index).dataSrc();if(void 0!==a.searchPanes.options[c]){var d=0;for(a=a.searchPanes.options[c];d<
a.length;d++)c=a[d],this.s.rowData.arrayFilter.push({display:c.label,filter:c.value,shown:+c.count,sort:c.label,total:+c.total,type:c.label}),this.s.rowData.binsShown[c.value]=+c.count,this.s.rowData.bins[c.value]=+c.total}d=Object.keys(this.s.rowData.bins).length;a=this._uniqueRatio(d,this.s.tableLength);if(!this.s.colOpts.show&&!1===this.s.displayed&&((void 0===this.s.colOpts.show&&null===this.s.colOpts.threshold?a>this.c.threshold:a>this.s.colOpts.threshold)||!0!==this.s.colOpts.show&&1>=d))this.dom.container.addClass(this.classes.hidden),
this.s.displayed=!1;else if(this.s.rowData.arrayOriginal=this.s.rowData.arrayFilter,this.s.rowData.binsOriginal=this.s.rowData.bins,this.s.displayed=!0,this.s.dtPane){d=this.s.serverSelect;this.s.dtPane.rows().remove();for(var e=0,f=this.s.rowData.arrayFilter;e<f.length;e++)if(a=f[e],this._shouldAddRow(a)){c=this.addRow(a.display,a.filter,a.sort,a.type);for(var g=0;g<d.length;g++){var m=d[g];if(m.filter===a.filter){this.s.serverSelecting=!0;c.select();this.s.serverSelecting=!1;d.splice(g,1);this.s.selections.push(a.filter);
break}}}for(e=0;e<d.length;e++)for(m=d[e],f=0,g=this.s.rowData.arrayOriginal;f<g.length;f++)a=g[f],a.filter===m.filter&&(c=this.addRow(a.display,a.filter,a.sort,a.type),this.s.serverSelecting=!0,c.select(),this.s.serverSelecting=!1,this.s.selections.push(a.filter));this.s.serverSelect=this.s.dtPane.rows({selected:!0}).data().toArray();this.s.dtPane.draw()}};b.prototype.updateRows=function(){if(!this.s.dt.page.info().serverSide){this.s.rowData.binsShown={};for(var a=0,c=this.s.dt.rows({search:"applied"}).indexes().toArray();a<
c.length;a++)this._updateShown(c[a],this.s.dt.settings()[0],this.s.rowData.binsShown)}a=0;for(c=this.s.dtPane.rows().data().toArray();a<c.length;a++){var d=c[a];d.shown="number"===typeof this.s.rowData.binsShown[d.filter]?this.s.rowData.binsShown[d.filter]:0;this.s.dtPane.row(d.index).data(d)}this.s.dtPane.draw();this.s.dtPane.table().node().parentNode.scrollTop=this.s.scrollTop};b.prototype._makeSelection=function(){};b.prototype._reloadSelect=function(){};b.prototype._shouldAddRow=function(a){return!0};
b.prototype._updateSelection=function(){!this.s.dt.page.info().serverSide||this.s.updating||this.s.serverSelecting||(this.s.serverSelect=this.s.dtPane.rows({selected:!0}).data().toArray())};b.prototype._updateShown=function(a,c,d){void 0===d&&(d=this.s.rowData.binsShown);a=c.oApi._fnGetCellData(c,a,this.s.index,"string"===typeof this.s.colOpts.orthogonal?this.s.colOpts.orthogonal:this.s.colOpts.orthogonal.search);if(Array.isArray(a))for(c=0;c<a.length;c++){var e=a[c];d[e]?d[e]++:d[e]=1}else d[a]?
d[a]++:d[a]=1};return b}(v),H=window&&window.__extends||function(){var h=function(b,a){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var e in d)d.hasOwnProperty(e)&&(c[e]=d[e])};return h(b,a)};return function(b,a){function c(){this.constructor=b}h(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),r,p=function(h){function b(a,c,d,e,f){return h.call(this,a,r.extend({i18n:{countFiltered:"{shown} ({total})"}},c),d,
e,f)||this}H(b,h);b.prototype._getMessage=function(a){var c=this.s.dt.i18n("searchPanes.count",this.c.i18n.count),d=this.s.dt.i18n("searchPanes.countFiltered",this.c.i18n.countFiltered);return(this.s.filteringActive?d:c).replace(/{total}/g,a.total).replace(/{shown}/g,a.shown)};b.prototype._getShown=function(a){return this.s.rowData.binsShown&&this.s.rowData.binsShown[a]?this.s.rowData.binsShown[a]:0};return b}(C),u=window&&window.__extends||function(){var h=function(b,a){h=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var e in d)d.hasOwnProperty(e)&&(c[e]=d[e])};return h(b,a)};return function(b,a){function c(){this.constructor=b}h(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),y,E=function(h){function b(a,c,d,e,f){return h.call(this,a,y.extend({i18n:{count:"{shown}"}},c),d,e,f)||this}u(b,h);b.prototype.updateRows=function(){var a=this.s.dtPane.rows({selected:!0}).data().toArray();if(this.s.colOpts.options||
this.s.customPaneSettings&&this.s.customPaneSettings.options){this._getComparisonRows();for(var c=this.s.dtPane.rows().toArray()[0],d=0;d<c.length;d++){var e=this.s.dtPane.row(c[d]),f=e.data();if(void 0!==f)if(0===f.shown)e.remove(),c=this.s.dtPane.rows().toArray()[0],d--;else for(var g=0,m=a;g<m.length;g++){var t=m[g];if(f.filter===t.filter){e.select();a.splice(d,1);this.s.selections.push(f.filter);break}}}}else{if(!this.s.dt.page.info().serverSide)for(this._activePopulatePane(),this.s.rowData.binsShown=
{},e=0,t=this.s.dt.rows({search:"applied"}).indexes().toArray();e<t.length;e++)this._updateShown(t[e],this.s.dt.settings()[0],this.s.rowData.binsShown);this.s.dtPane.rows().remove();f=0;for(g=this.s.rowData.arrayFilter;f<g.length;f++)if(c=g[f],0!==c.shown)for(e=this.addRow(c.display,c.filter,c.sort,c.type,void 0),d=0;d<a.length;d++)if(t=a[d],t.filter===c.filter){e.select();a.splice(d,1);this.s.selections.push(c.filter);break}for(d=0;d<a.length;d++)for(t=a[d],f=0,g=this.s.rowData.arrayOriginal;f<g.length;f++)c=
g[f],c.filter===t.filter&&(e=this.addRow(c.display,c.filter,c.sort,c.type,void 0),e.select(),this.s.selections.push(c.filter))}this.s.dtPane.draw();this.s.dtPane.table().node().parentNode.scrollTop=this.s.scrollTop;this.s.dt.page.info().serverSide||this.s.dt.draw()};b.prototype._activePopulatePane=function(){this.s.rowData.arrayFilter=[];this.s.rowData.bins={};var a=this.s.dt.settings()[0];if(!this.s.dt.page.info().serverSide)for(var c=0,d=this.s.dt.rows({search:"applied"}).indexes().toArray();c<
d.length;c++)this._populatePaneArray(d[c],this.s.rowData.arrayFilter,a)};b.prototype._getComparisonRows=function(){var a=this.s.colOpts.options?this.s.colOpts.options:this.s.customPaneSettings&&this.s.customPaneSettings.options?this.s.customPaneSettings.options:void 0;if(void 0!==a){var c=this.s.dt.rows(),d=this.s.dt.rows({search:"applied"}),e=c.data().toArray(),f=d.data().toArray(),g=[];this.s.dtPane.clear();this.s.indexes=[];for(var m=0;m<a.length;m++){var t=a[m],w=""!==t.label?t.label:this.emptyMessage(),
A=t.className,z=w,x="function"===typeof t.value?t.value:[],L=0,O=w,M=0;if("function"===typeof t.value){for(var F=0;F<e.length;F++)t.value.call(this.s.dt,e[F],c[0][F])&&M++;for(F=0;F<f.length;F++)t.value.call(this.s.dt,f[F],d[0][F])&&L++;"function"!==typeof x&&x.push(t.filter)}g.push(this.addRow(z,x,O,w,A,M,L))}return g}};b.prototype._getMessage=function(a){return this.s.dt.i18n("searchPanes.count",this.c.i18n.count).replace(/{total}/g,a.total).replace(/{shown}/g,a.shown)};b.prototype._getShown=function(a){return this.s.rowData.binsShown&&
this.s.rowData.binsShown[a]?this.s.rowData.binsShown[a]:0};b.prototype._shouldAddRow=function(a){return 0<a.shown};return b}(C),P=window&&window.__extends||function(){var h=function(b,a){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var e in d)d.hasOwnProperty(e)&&(c[e]=d[e])};return h(b,a)};return function(b,a){function c(){this.constructor=b}h(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),N,J=function(h){function b(a,
c,d,e,f){return h.call(this,a,N.extend({i18n:{count:"{total}",countFiltered:"{shown} ({total})"}},c),d,e,f)||this}P(b,h);b.prototype._activePopulatePane=function(){this.s.rowData.arrayFilter=[];this.s.rowData.binsShown={};var a=this.s.dt.settings()[0];if(!this.s.dt.page.info().serverSide)for(var c=0,d=this.s.dt.rows({search:"applied"}).indexes().toArray();c<d.length;c++)this._populatePaneArray(d[c],this.s.rowData.arrayFilter,a,this.s.rowData.binsShown)};b.prototype._getMessage=function(a){var c=this.s.dt.i18n("searchPanes.count",
this.c.i18n.count),d=this.s.dt.i18n("searchPanes.countFiltered",this.c.i18n.countFiltered);return(this.s.filteringActive?d:c).replace(/{total}/g,a.total).replace(/{shown}/g,a.shown)};return b}(E),D,G,I=function(){function h(b,a,c,d){var e=this;void 0===c&&(c=!1);void 0===d&&(d=v);if(!G||!G.versionCheck||!G.versionCheck("1.10.0"))throw Error("SearchPane requires DataTables 1.10 or newer");if(!G.select)throw Error("SearchPane requires Select");var f=new G.Api(b);this.classes=D.extend(!0,{},h.classes);
this.c=D.extend(!0,{},h.defaults,a);this.dom={clearAll:D('<button type="button"/>').addClass(this.classes.clearAll).html(f.i18n("searchPanes.clearMessage",this.c.i18n.clearMessage)),collapseAll:D('<button type="button"/>').addClass(this.classes.collapseAll).html(f.i18n("searchPanes.collapseMessage",this.c.i18n.collapseMessage)),container:D("<div/>").addClass(this.classes.panes).html(f.i18n("searchPanes.loadMessage",this.c.i18n.loadMessage)),emptyMessage:D("<div/>").addClass(this.classes.emptyMessage),
panes:D("<div/>").addClass(this.classes.container),showAll:D('<button type="button"/>').addClass(this.classes.showAll).addClass(this.classes.disabledButton).attr("disabled","true").html(f.i18n("searchPanes.showMessage",this.c.i18n.showMessage)),title:D("<div/>").addClass(this.classes.title),titleRow:D("<div/>").addClass(this.classes.titleRow)};this.s={colOpts:[],dt:f,filterCount:0,minPaneWidth:260,page:0,paging:!1,pagingST:!1,paneClass:d,panes:[],selectionList:[],serverData:{},stateRead:!1,updating:!1};
if(!f.settings()[0]._searchPanes){this._getState();if(this.s.dt.page.info().serverSide){var g=this.s.dt.settings()[0];this.s.dt.on("preXhr.dtsps",function(m,t,w){if(g===t){void 0===w.searchPanes&&(w.searchPanes={});void 0===w.searchPanes_null&&(w.searchPanes_null={});m=0;for(t=e.s.selectionList;m<t.length;m++){var A=t[m];var z=e.s.dt.column(A.column).dataSrc();void 0===w.searchPanes[z]&&(w.searchPanes[z]={});void 0===w.searchPanes_null[z]&&(w.searchPanes_null[z]={});for(var x=0;x<A.rows.length;x++)w.searchPanes[z][x]=
A.rows[x],null===w.searchPanes[z][x]&&(w.searchPanes_null[z][x]=!0)}0<e.s.selectionList.length&&(w.searchPanesLast=z)}})}this._setXHR();f.settings()[0]._searchPanes=this;if(this.s.dt.settings()[0]._bInitComplete||c)this._paneDeclare(f,b,a);else f.one("preInit.dtsps",function(){e._paneDeclare(f,b,a)});return this}}h.prototype.clearSelections=function(){for(var b=0,a=this.s.panes;b<a.length;b++){var c=a[b];c.s.dtPane&&(c.s.scrollTop=c.s.dtPane.table().node().parentNode.scrollTop)}this.dom.container.find("."+
this.classes.search.replace(/\s+/g,".")).each(function(){D(this).val("").trigger("input")});this.s.selectionList=[];b=[];a=0;for(var d=this.s.panes;a<d.length;a++)c=d[a],c.s.dtPane&&b.push(c.clearPane());return b};h.prototype.getNode=function(){return this.dom.container};h.prototype.rebuild=function(b,a){void 0===b&&(b=!1);void 0===a&&(a=!1);this.dom.emptyMessage.detach();!1===b&&this.dom.panes.empty();for(var c=[],d=0,e=this.s.panes;d<e.length;d++){var f=e[d];if(!1===b||f.s.index===b)f.clearData(),
f.rebuildPane(this.s.dt.page.info().serverSide?this.s.serverData:void 0,a),this.dom.panes.append(f.dom.container),c.push(f)}this._updateSelection();this._updateFilterCount();this._attachPaneContainer();this._initSelectionListeners(!1);this.s.dt.draw(!a);this.resizePanes();return 1===c.length?c[0]:c};h.prototype.resizePanes=function(){if("auto"===this.c.layout){var b=D(this.s.dt.searchPanes.container()).width(),a=Math.floor(b/this.s.minPaneWidth),c=1,d=0;b=[];for(var e=0,f=this.s.panes;e<f.length;e++){var g=
f[e];g.s.displayed&&b.push(g.s.index)}g=b.length;if(a===g)c=a;else for(;1<a;a--)if(e=g%a,0===e){c=a;d=0;break}else e>d&&(c=a,d=e);var m=0!==d?b.slice(b.length-d,b.length):[];this.s.panes.forEach(function(t){t.s.displayed&&t.resize("columns-"+(m.includes(t.s.index)?d:c))})}else for(b=0,a=this.s.panes;b<a.length;b++)g=a[b],g.adjustTopRow();return this};h.prototype._initSelectionListeners=function(b){};h.prototype._serverTotals=function(){};h.prototype._setXHR=function(){var b=this,a=this.s.dt.settings()[0],
c=function(d){d&&d.searchPanes&&d.searchPanes.options&&(b.s.serverData=d,b.s.serverData.tableLength=d.recordsTotal,b._serverTotals())};this.s.dt.on("xhr.dtsps",function(d,e,f){a===e&&c(f)});c(this.s.dt.ajax.json())};h.prototype._stateLoadListener=function(){var b=this;this.s.dt.on("stateLoadParams.dtsps",function(a,c,d){if(void 0!==d.searchPanes){b.clearSelections();b.s.selectionList=d.searchPanes.selectionList?d.searchPanes.selectionList:[];if(d.searchPanes.panes)for(a=0,d=d.searchPanes.panes;a<
d.length;a++){c=d[a];for(var e=0,f=b.s.panes;e<f.length;e++){var g=f[e];c.id===g.s.index&&g.s.dtPane&&(g.dom.searchBox.val(c.searchTerm),g.s.dtPane.order(c.order))}}b._makeSelections(b.s.selectionList)}})};h.prototype._updateSelection=function(){this.s.selectionList=[];for(var b=0,a=this.s.panes;b<a.length;b++){var c=a[b];if(c.s.dtPane){var d=c.s.dtPane.rows({selected:!0}).data().toArray().map(function(e){return e.filter});d.length&&this.s.selectionList.push({column:c.s.index,rows:d})}}};h.prototype._attach=
function(){var b=this;this.dom.titleRow.removeClass(this.classes.hide).detach().append(this.dom.title);if(this.c.clear)this.dom.clearAll.appendTo(this.dom.titleRow).on("click.dtsps",function(){return b.clearSelections()});this.c.collapse&&(this.dom.showAll.appendTo(this.dom.titleRow),this.dom.collapseAll.appendTo(this.dom.titleRow),this._setCollapseListener());for(var a=0,c=this.s.panes;a<c.length;a++)this.dom.panes.append(c[a].dom.container);this.dom.container.text("").removeClass(this.classes.hide).append(this.dom.titleRow).append(this.dom.panes);
this.s.panes.forEach(function(d){return d.setListeners()});0===D("div."+this.classes.container).length&&this.dom.container.prependTo(this.s.dt)};h.prototype._attachMessage=function(){try{var b=this.s.dt.i18n("searchPanes.emptyPanes",this.c.i18n.emptyPanes)}catch(a){b=null}null===b?(this.dom.container.addClass(this.classes.hide),this.dom.titleRow.removeClass(this.classes.hide)):(this.dom.container.removeClass(this.classes.hide),this.dom.titleRow.addClass(this.classes.hide),this.dom.emptyMessage.html(b).appendTo(this.dom.container))};
h.prototype._attachPaneContainer=function(){for(var b=0,a=this.s.panes;b<a.length;b++)if(!0===a[b].s.displayed){this._attach();return}this._attachMessage()};h.prototype._checkCollapse=function(){for(var b=!0,a=!0,c=0,d=this.s.panes;c<d.length;c++){var e=d[c];e.s.displayed&&(e.dom.collapseButton.hasClass(e.classes.rotated)?(this.dom.showAll.removeClass(this.classes.disabledButton).removeAttr("disabled"),a=!1):(this.dom.collapseAll.removeClass(this.classes.disabledButton).removeAttr("disabled"),b=!1))}b&&
this.dom.collapseAll.addClass(this.classes.disabledButton).attr("disabled","true");a&&this.dom.showAll.addClass(this.classes.disabledButton).attr("disabled","true")};h.prototype._checkMessage=function(){for(var b=0,a=this.s.panes;b<a.length;b++)if(!0===a[b].s.displayed){this.dom.emptyMessage.detach();this.dom.titleRow.removeClass(this.classes.hide);return}this._attachMessage()};h.prototype._collapseAll=function(){for(var b=0,a=this.s.panes;b<a.length;b++)a[b].collapse()};h.prototype._findPane=function(b){for(var a=
0,c=this.s.panes;a<c.length;a++){var d=c[a];if(b===d.s.name)return d}};h.prototype._getState=function(){var b=this.s.dt.state.loaded();b&&b.searchPanes&&b.searchPanes.selectionList&&(this.s.selectionList=b.searchPanes.selectionList)};h.prototype._makeSelections=function(b){for(var a=0;a<b.length;a++){for(var c=b[a],d=void 0,e=0,f=this.s.panes;e<f.length;e++){var g=f[e];if(g.s.index===c.column){d=g;break}}if(d&&d.s.dtPane){for(e=0;e<d.s.dtPane.rows().data().toArray().length;e++)c.rows.includes("function"===
typeof d.s.dtPane.row(e).data().filter?d.s.dtPane.cell(e,0).data():d.s.dtPane.row(e).data().filter)&&d.s.dtPane.row(e).select();d.updateTable()}}};h.prototype._paneDeclare=function(b,a,c){var d=this;b.columns(0<this.c.columns.length?this.c.columns:void 0).eq(0).each(function(g){d.s.panes.push(new d.s.paneClass(a,c,g,d.dom.panes))});for(var e=b.columns().eq(0).toArray().length,f=0;f<this.c.panes.length;f++)this.s.panes.push(new this.s.paneClass(a,c,e+f,this.dom.panes,this.c.panes[f]));0<this.c.order.length&&
(this.s.panes=this.c.order.map(function(g){return d._findPane(g)}));this.s.dt.settings()[0]._bInitComplete?this._startup(b):this.s.dt.settings()[0].aoInitComplete.push({fn:function(){return d._startup(b)}})};h.prototype._setCollapseListener=function(){var b=this;this.dom.collapseAll.on("click.dtsps",function(){b._collapseAll();b.dom.collapseAll.addClass(b.classes.disabledButton).attr("disabled","true");b.dom.showAll.removeClass(b.classes.disabledButton).removeAttr("disabled");b.s.dt.state.save()});
this.dom.showAll.on("click.dtsps",function(){b._showAll();b.dom.showAll.addClass(b.classes.disabledButton).attr("disabled","true");b.dom.collapseAll.removeClass(b.classes.disabledButton).removeAttr("disabled");b.s.dt.state.save()});for(var a=0,c=this.s.panes;a<c.length;a++)c[a].dom.collapseButton.on("click.dtsps",function(){return b._checkCollapse()});this._checkCollapse()};h.prototype._showAll=function(){for(var b=0,a=this.s.panes;b<a.length;b++)a[b].show()};h.prototype._startup=function(b){var a=
this;this._attach();this.dom.panes.empty();for(var c=0,d=this.s.panes;c<d.length;c++){var e=d[c];e.rebuildPane(0<Object.keys(this.s.serverData).length?this.s.serverData:void 0);this.dom.panes.append(e.dom.container)}"auto"===this.c.layout&&this.resizePanes();c=this.s.dt.state.loaded();!this.s.stateRead&&c&&this.s.dt.page(c.start/this.s.dt.page.len()).draw("page");this.s.stateRead=!0;this._checkMessage();b.on("preDraw.dtsps",function(){a.s.updating||a.s.paging||(a._updateFilterCount(),a._updateSelection());
a.s.paging=!1});D(window).on("resize.dtsps",G.util.throttle(function(){return a.resizePanes()}));this.s.dt.on("stateSaveParams.dtsps",function(f,g,m){void 0===m.searchPanes&&(m.searchPanes={});m.searchPanes.selectionList=a.s.selectionList});this._stateLoadListener();b.off("page.dtsps page-nc.dtsps").on("page.dtsps page-nc.dtsps",function(f,g){a.s.paging=!0;a.s.pagingST=!0;a.s.page=a.s.dt.page()});if(this.s.dt.page.info().serverSide)b.off("preXhr.dtsps").on("preXhr.dtsps",function(f,g,m){m.searchPanes||
(m.searchPanes={});m.searchPanes_null||(m.searchPanes_null={});g=f=0;for(var t=a.s.panes;g<t.length;g++){var w=t[g],A=a.s.dt.column(w.s.index).dataSrc();m.searchPanes[A]||(m.searchPanes[A]={});m.searchPanes_null[A]||(m.searchPanes_null[A]={});if(w.s.dtPane){w=w.s.dtPane.rows({selected:!0}).data().toArray();for(var z=0;z<w.length;z++)m.searchPanes[A][z]=w[z].filter,m.searchPanes[A][z]||(m.searchPanes_null[A][z]=!0),f++}}0<f&&(f!==a.s.filterCount?(m.start=0,a.s.page=0):m.start=a.s.page*a.s.dt.page.len(),
a.s.dt.page(a.s.page),a.s.filterCount=f);0<a.s.selectionList.length&&(m.searchPanesLast=a.s.dt.column(a.s.selectionList[a.s.selectionList.length-1].column).dataSrc())});else b.on("preXhr.dtsps",function(){return a.s.panes.forEach(function(f){return f.clearData()})});this.s.dt.on("xhr.dtsps",function(f,g){if(g.nTable===a.s.dt.table().node()&&!a.s.dt.page.info().serverSide){var m=!1;a.s.dt.one("preDraw.dtsps",function(){if(!m){var t=a.s.dt.page();m=!0;a.s.updating=!0;a.dom.panes.empty();for(var w=0,
A=a.s.panes;w<A.length;w++){var z=A[w];z.clearData();z.rebuildPane(void 0,!0);a.dom.panes.append(z.dom.container)}a.s.dt.page.info().serverSide||a.s.dt.draw();a.s.updating=!1;a._updateSelection();a._checkMessage();a.s.dt.one("draw.dtsps",function(){a.s.updating=!0;a.s.dt.page(t).draw(!1);a.s.updating=!1})}})}});d=this.c.preSelect;c&&c.searchPanes&&c.searchPanes.selectionList&&(d=c.searchPanes.selectionList);this._makeSelections(d);this._updateFilterCount();b.on("destroy.dtsps",function(){for(var f=
0,g=a.s.panes;f<g.length;f++)g[f].destroy();b.off(".dtsps");a.dom.showAll.off(".dtsps");a.dom.clearAll.off(".dtsps");a.dom.collapseAll.off(".dtsps");D(b.table().node()).off(".dtsps");a.dom.container.detach();a.clearSelections()});this.c.collapse&&this._setCollapseListener();if(this.c.clear)this.dom.clearAll.on("click.dtsps",function(){return a.clearSelections()});b.settings()[0]._searchPanes=this;this.s.dt.state.save()};h.prototype._updateFilterCount=function(){for(var b=0,a=0,c=this.s.panes;a<c.length;a++){var d=
c[a];d.s.dtPane&&(b+=d.getPaneCount())}this.dom.title.html(this.s.dt.i18n("searchPanes.title",this.c.i18n.title,b));this.c.filterChanged&&"function"===typeof this.c.filterChanged&&this.c.filterChanged.call(this.s.dt,b);0===b?this.dom.clearAll.addClass(this.classes.disabledButton).attr("disabled","true"):this.dom.clearAll.removeClass(this.classes.disabledButton).removeAttr("disabled")};h.version="2.0.2";h.classes={clear:"dtsp-clear",clearAll:"dtsp-clearAll",collapseAll:"dtsp-collapseAll",container:"dtsp-searchPanes",
disabledButton:"dtsp-disabledButton",emptyMessage:"dtsp-emptyMessage",hide:"dtsp-hidden",panes:"dtsp-panesContainer",search:"dtsp-search",showAll:"dtsp-showAll",title:"dtsp-title",titleRow:"dtsp-titleRow"};h.defaults={clear:!0,collapse:!0,columns:[],container:function(b){return b.table().container()},filterChanged:void 0,i18n:{clearMessage:"Clear All",clearPane:"&times;",collapse:{0:"SearchPanes",_:"SearchPanes (%d)"},collapseMessage:"Collapse All",count:"{total}",emptyMessage:"<em>No data</em>",
emptyPanes:"No SearchPanes",loadMessage:"Loading Search Panes...",showMessage:"Show All",title:"Filters Active - %d"},layout:"auto",order:[],panes:[],preSelect:[]};return h}(),Q=window&&window.__extends||function(){var h=function(b,a){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var e in d)d.hasOwnProperty(e)&&(c[e]=d[e])};return h(b,a)};return function(b,a){function c(){this.constructor=b}h(b,a);b.prototype=null===a?Object.create(a):(c.prototype=
a.prototype,new c)}}(),K=function(h){function b(a,c,d){void 0===d&&(d=!1);var e=this,f;c.cascadePanes&&c.viewTotal?f=J:c.cascadePanes?f=E:c.viewTotal&&(f=p);e=h.call(this,a,c,d,f)||this;var g=e.s.dt.state.loaded();e.s.dt.off("init.dtsps").on("init.dtsps",function(){return e._initSelectionListeners(!0,g&&g.searchPanes&&g.searchPanes.selectionList?g.searchPanes.selectionList:e.c.preSelect)});return e}Q(b,h);b.prototype._initSelectionListeners=function(a,c){void 0===a&&(a=!0);void 0===c&&(c=[]);a&&(this.s.selectionList=
c);a=0;for(c=this.s.panes;a<c.length;a++){var d=c[a];if(d.s.displayed)d.s.dtPane.off("select.dtsp").on("select.dtsp",this._update(d)).off("deselect.dtsp").on("deselect.dtsp",this._updateTimeout(d))}this.s.dt.off("draw.dtsps").on("draw.dtsps",this._update());this._updateSelectionList()};b.prototype._serverTotals=function(){for(var a=0,c=this.s.panes;a<c.length;a++){var d=c[a];if(d.s.colOpts.show){var e=this.s.dt.column(d.s.index).dataSrc(),f=!0;if(this.s.serverData.searchPanes.options[e]){var g=0;
for(e=this.s.serverData.searchPanes.options[e];g<e.length;g++){var m=e[g];if(m.total!==m.count){f=!1;break}}}d.s.filteringActive=!f;d._serverPopulate(this.s.serverData)}}};b.prototype._stateLoadListener=function(){var a=this,c=function(d,e,f){if(void 0!==f.searchPanes){a.s.selectionList=f.searchPanes.selectionList?f.searchPanes.selectionList:[];if(f.searchPanes.panes)for(d=0,f=f.searchPanes.panes;d<f.length;d++){e=f[d];for(var g=0,m=a.s.panes;g<m.length;g++){var t=m[g];e.id===t.s.index&&t.s.dtPane&&
(t.dom.searchBox.val(e.searchTerm),t.s.dtPane.order(e.order))}}a._updateSelectionList()}};this.s.dt.off("stateLoadParams.dtsps",c).on("stateLoadParams.dtsps",c)};b.prototype._updateSelection=function(){};b.prototype._update=function(a){var c=this;void 0===a&&(a=void 0);return function(){a&&clearTimeout(a.s.deselectTimeout);c._updateSelectionList(a)}};b.prototype._updateTimeout=function(a){var c=this;void 0===a&&(a=void 0);return function(){return a?a.s.deselectTimeout=setTimeout(function(){return c._updateSelectionList(a)},
50):c._updateSelectionList()}};b.prototype._updateSelectionList=function(a){void 0===a&&(a=void 0);if(this.s.pagingST)this.s.pagingST=!1;else if(!(this.s.updating||a&&a.s.serverSelecting)){if(void 0!==a){this.s.dt.page.info().serverSide&&a._updateSelection();var c=a.s.dtPane.rows({selected:!0}).data().toArray().map(function(d){return d.filter});this.s.selectionList=this.s.selectionList.filter(function(d){return d.column!==a.s.index});0<c.length?(this.s.selectionList.push({column:a.s.index,rows:c}),
a.dom.clear.removeClass(this.classes.disabledButton).removeAttr("disabled")):a.dom.clear.addClass(this.classes.disabledButton).attr("disabled","true");this.s.dt.page.info().serverSide&&this.s.dt.draw(!1)}this._remakeSelections();this._updateFilterCount()}};b.prototype._remakeSelections=function(){this.s.updating=!0;if(this.s.dt.page.info().serverSide){e=void 0;0<this.s.selectionList.length&&(e=this.s.panes[this.s.selectionList[this.s.selectionList.length-1].column]);for(var a=0,c=this.s.panes;a<c.length;a++)x=
c[a],!x.s.displayed||e&&x.s.index===e.s.index||x.updateRows()}else{e=this.s.selectionList;a=!1;this.clearSelections();this.s.dt.draw();this.s.dt.rows().toArray()[0].length>this.s.dt.rows({search:"applied"}).toArray()[0].length&&(a=!0);this.s.selectionList=e;c=0;for(var d=this.s.panes;c<d.length;c++){var e=d[c];e.s.displayed&&(e.s.filteringActive=a,e.updateRows())}c=0;for(d=this.s.selectionList;c<d.length;c++){x=d[c];e=void 0;for(var f=0,g=this.s.panes;f<g.length;f++){var m=g[f];if(m.s.index===x.column){e=
m;break}}if(e.s.dtPane){f=e.s.dtPane.rows().indexes().toArray();for(g=0;g<x.rows.length;g++){m=!1;for(var t=0,w=f;t<w.length;t++){var A=e.s.dtPane.row(w[t]),z=A.data();x.rows[g]===z.filter&&(A.select(),m=!0)}m||(x.rows.splice(g,1),g--)}e.s.selections=x.rows;if(0!==x.rows.length){this.s.dt.draw();t=f=m=g=0;for(w=this.s.panes;t<w.length;t++){var x=w[t];x.s.dtPane&&(g+=x.getPaneCount(),g>m&&(f++,m=g))}g=0<g;m=0;for(t=this.s.panes;m<t.length;m++)x=t[m],x.s.displayed&&(a||e.s.index!==x.s.index||!g?x.s.filteringActive=
g||a:1===f&&(x.s.filteringActive=!1),x.s.index!==e.s.index&&x.updateRows())}}}this.s.dt.draw()}this.s.updating=!1};return b}(I);(function(h){"function"===typeof define&&define.amd?define(["jquery","datatables.net"],function(b){return h(b,window,document)}):"object"===typeof exports?module.exports=function(b,a){b||(b=window);a&&a.fn.dataTable||(a=require("datatables.net")(b,a).$);return h(a,b,b.document)}:h(window.jQuery,window,document)})(function(h,b,a){function c(e,f,g){void 0===f&&(f=null);void 0===
g&&(g=!1);e=new d.Api(e);f=f?f:e.init().searchPanes||d.defaults.searchPanes;return(f&&(f.cascadePanes||f.viewTotal)?new K(e,f,g):new I(e,f,g)).getNode()}l(h);n(h);N=y=r=h;var d=h.fn.dataTable;h.fn.dataTable.SearchPanes=I;h.fn.DataTable.SearchPanes=I;h.fn.dataTable.SearchPanesST=K;h.fn.DataTable.SearchPanesST=K;h.fn.dataTable.SearchPane=v;h.fn.DataTable.SearchPane=v;h.fn.dataTable.SearchPaneViewTotal=p;h.fn.DataTable.SearchPaneViewTotal=p;h.fn.dataTable.SearchPaneCascade=E;h.fn.DataTable.SearchPaneCascade=
E;h.fn.dataTable.SearchPaneCascadeViewTotal=J;h.fn.DataTable.SearchPaneCascadeViewTotal=J;b=h.fn.dataTable.Api.register;b("searchPanes()",function(){return this});b("searchPanes.clearSelections()",function(){return this.iterator("table",function(e){e._searchPanes&&e._searchPanes.clearSelections()})});b("searchPanes.rebuildPane()",function(e,f){return this.iterator("table",function(g){g._searchPanes&&g._searchPanes.rebuild(e,f)})});b("searchPanes.resizePanes()",function(){var e=this.context[0];return e._searchPanes?
e._searchPanes.resizePanes():null});b("searchPanes.container()",function(){var e=this.context[0];return e._searchPanes?e._searchPanes.getNode():null});h.fn.dataTable.ext.buttons.searchPanesClear={action:function(e,f){f.searchPanes.clearSelections()},text:"Clear Panes"};h.fn.dataTable.ext.buttons.searchPanes={action:function(e,f,g,m){this.popover(m._panes.getNode(),{align:"container",span:"container"});m._panes.rebuild(void 0,!0)},config:{},init:function(e,f,g){var m=h.extend({filterChanged:function(t){e.button(f).text(e.i18n("searchPanes.collapse",
void 0!==e.context[0].oLanguage.searchPanes?e.context[0].oLanguage.searchPanes.collapse:e.context[0]._searchPanes.c.i18n.collapse,t))}},g.config);m=m&&(m.cascadePanes||m.viewTotal)?new h.fn.dataTable.SearchPanesST(e,m):new h.fn.dataTable.SearchPanes(e,m);e.button(f).text(g.text||e.i18n("searchPanes.collapse",m.c.i18n.collapse,0));g._panes=m},text:null};h(a).on("preInit.dt.dtsp",function(e,f){"dt"===e.namespace&&(f.oInit.searchPanes||d.defaults.searchPanes)&&(f._searchPanes||c(f,null,!0))});d.ext.feature.push({cFeature:"P",
fnInit:c});d.ext.features&&d.ext.features.register("searchPanes",c)})})();


/*!
 Bootstrap integration for DataTables' SearchPanes
 Â©2016 SpryMedia Ltd - datatables.net/license
*/
(function(b){"function"===typeof define&&define.amd?define(["jquery","datatables.net-bs4","datatables.net-searchpanes"],function(a){return b(a)}):"object"===typeof exports?module.exports=function(a,c){a||(a=window);c&&c.fn.dataTable||(c=require("datatables.net-bs4")(a,c).$);c.fn.dataTable.SearchPanes||require("datatables.net-searchpanes")(a,c);return b(c)}:b(jQuery)})(function(b){var a=b.fn.dataTable;b.extend(!0,a.SearchPane.classes,{buttonGroup:"btn-group",disabledButton:"disabled",narrow:"col",
pane:{container:"table"},paneButton:"btn btn-light",pill:"pill badge badge-pill badge-secondary",search:"form-control search",searchCont:"input-group",searchLabelCont:"input-group-append",subRow1:"dtsp-subRow1",subRow2:"dtsp-subRow2",table:"table table-sm table-borderless",topRow:"dtsp-topRow"});b.extend(!0,a.SearchPanes.classes,{clearAll:"dtsp-clearAll btn btn-light",collapseAll:"dtsp-collapseAll btn btn-light",container:"dtsp-searchPanes",disabledButton:"disabled",panes:"dtsp-panes dtsp-panesContainer",
showAll:"dtsp-showAll btn btn-light",title:"dtsp-title",titleRow:"dtsp-titleRow"});return a.searchPanes});


/*!
   Copyright 2015-2021 SpryMedia Ltd.

 This source file is free software, available under the following license:
   MIT license - http://datatables.net/license/mit

 This source file is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.

 For details please refer to: http://www.datatables.net/extensions/select
 Select for DataTables 1.4.0
 2015-2021 SpryMedia Ltd - datatables.net/license/mit
*/
(function(h){"function"===typeof define&&define.amd?define(["jquery","datatables.net"],function(r){return h(r,window,document)}):"object"===typeof exports?module.exports=function(r,w){r||(r=window);w&&w.fn.dataTable||(w=require("datatables.net")(r,w).$);return h(w,r,r.document)}:h(jQuery,window,document)})(function(h,r,w,l){function I(a,b,c){var d=function(g,f){if(g>f){var k=f;f=g;g=k}var n=!1;return a.columns(":visible").indexes().filter(function(q){q===g&&(n=!0);return q===f?(n=!1,!0):n})};var e=
function(g,f){var k=a.rows({search:"applied"}).indexes();if(k.indexOf(g)>k.indexOf(f)){var n=f;f=g;g=n}var q=!1;return k.filter(function(y){y===g&&(q=!0);return y===f?(q=!1,!0):q})};a.cells({selected:!0}).any()||c?(d=d(c.column,b.column),c=e(c.row,b.row)):(d=d(0,b.column),c=e(0,b.row));c=a.cells(c,d).flatten();a.cells(b,{selected:!0}).any()?a.cells(c).deselect():a.cells(c).select()}function C(a){var b=a.settings()[0]._select.selector;h(a.table().container()).off("mousedown.dtSelect",b).off("mouseup.dtSelect",
b).off("click.dtSelect",b);h("body").off("click.dtSelect"+D(a.table().node()))}function J(a){var b=h(a.table().container()),c=a.settings()[0],d=c._select.selector,e;b.on("mousedown.dtSelect",d,function(g){if(g.shiftKey||g.metaKey||g.ctrlKey)b.css("-moz-user-select","none").one("selectstart.dtSelect",d,function(){return!1});r.getSelection&&(e=r.getSelection())}).on("mouseup.dtSelect",d,function(){b.css("-moz-user-select","")}).on("click.dtSelect",d,function(g){var f=a.select.items();if(e){var k=r.getSelection();
if((!k.anchorNode||h(k.anchorNode).closest("table")[0]===a.table().node())&&k!==e)return}k=a.settings()[0];var n=a.settings()[0].oClasses.sWrapper.trim().replace(/ +/g,".");if(h(g.target).closest("div."+n)[0]==a.table().container()&&(n=a.cell(h(g.target).closest("td, th")),n.any())){var q=h.Event("user-select.dt");u(a,q,[f,n,g]);q.isDefaultPrevented()||(q=n.index(),"row"===f?(f=q.row,E(g,a,k,"row",f)):"column"===f?(f=n.index().column,E(g,a,k,"column",f)):"cell"===f&&(f=n.index(),E(g,a,k,"cell",f)),
k._select_lastCell=q)}});h("body").on("click.dtSelect"+D(a.table().node()),function(g){if(c._select.blurable&&!h(g.target).parents().filter(a.table().container()).length&&0!==h(g.target).parents("html").length&&!h(g.target).parents("div.DTE").length){var f=h.Event("select-blur.dt");u(a,f,[g.target,g]);f.isDefaultPrevented()||z(c,!0)}})}function u(a,b,c,d){if(!d||a.flatten().length)"string"===typeof b&&(b+=".dt"),c.unshift(a),h(a.table().node()).trigger(b,c)}function N(a){var b=a.settings()[0];if(b._select.info&&
b.aanFeatures.i&&"api"!==a.select.style()){var c=a.rows({selected:!0}).flatten().length,d=a.columns({selected:!0}).flatten().length,e=a.cells({selected:!0}).flatten().length,g=function(f,k,n){f.append(h('<span class="select-item"/>').append(a.i18n("select."+k+"s",{_:"%d "+k+"s selected",0:"",1:"1 "+k+" selected"},n)))};h.each(b.aanFeatures.i,function(f,k){k=h(k);f=h('<span class="select-info"/>');g(f,"row",c);g(f,"column",d);g(f,"cell",e);var n=k.children("span.select-info");n.length&&n.remove();
""!==f.text()&&k.append(f)})}}function O(a){var b=new m.Api(a);a._select_init=!0;a.aoRowCreatedCallback.push({fn:function(c,d,e){d=a.aoData[e];d._select_selected&&h(c).addClass(a._select.className);c=0;for(e=a.aoColumns.length;c<e;c++)(a.aoColumns[c]._select_selected||d._selected_cells&&d._selected_cells[c])&&h(d.anCells[c]).addClass(a._select.className)},sName:"select-deferRender"});b.on("preXhr.dt.dtSelect",function(c,d){if(d===b.settings()[0]){var e=b.rows({selected:!0}).ids(!0).filter(function(f){return f!==
l}),g=b.cells({selected:!0}).eq(0).map(function(f){var k=b.row(f.row).id(!0);return k?{row:k,column:f.column}:l}).filter(function(f){return f!==l});b.one("draw.dt.dtSelect",function(){b.rows(e).select();g.any()&&g.each(function(f){b.cells(f.row,f.column).select()})})}});b.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt info.dt",function(){N(b);b.state.save()});b.on("destroy.dtSelect",function(){b.rows({selected:!0}).deselect();C(b);b.off(".dtSelect");h("body").off(".dtSelect"+D(b.table().node()))})}
function K(a,b,c,d){var e=a[b+"s"]({search:"applied"}).indexes();d=h.inArray(d,e);var g=h.inArray(c,e);if(a[b+"s"]({selected:!0}).any()||-1!==d){if(d>g){var f=g;g=d;d=f}e.splice(g+1,e.length);e.splice(0,d)}else e.splice(h.inArray(c,e)+1,e.length);a[b](c,{selected:!0}).any()?(e.splice(h.inArray(c,e),1),a[b+"s"](e).deselect()):a[b+"s"](e).select()}function z(a,b){if(b||"single"===a._select.style)a=new m.Api(a),a.rows({selected:!0}).deselect(),a.columns({selected:!0}).deselect(),a.cells({selected:!0}).deselect()}
function E(a,b,c,d,e){var g=b.select.style(),f=b.select.toggleable(),k=b[d](e,{selected:!0}).any();if(!k||f)"os"===g?a.ctrlKey||a.metaKey?b[d](e).select(!k):a.shiftKey?"cell"===d?I(b,e,c._select_lastCell||null):K(b,d,e,c._select_lastCell?c._select_lastCell[d]:null):(a=b[d+"s"]({selected:!0}),k&&1===a.flatten().length?b[d](e).deselect():(a.deselect(),b[d](e).select())):"multi+shift"==g?a.shiftKey?"cell"===d?I(b,e,c._select_lastCell||null):K(b,d,e,c._select_lastCell?c._select_lastCell[d]:null):b[d](e).select(!k):
b[d](e).select(!k)}function D(a){return a.id.replace(/[^a-zA-Z0-9\-_]/g,"-")}function A(a,b){return function(c){return c.i18n("buttons."+a,b)}}function F(a){a=a._eventNamespace;return"draw.dt.DT"+a+" select.dt.DT"+a+" deselect.dt.DT"+a}function P(a,b){return-1!==h.inArray("rows",b.limitTo)&&a.rows({selected:!0}).any()||-1!==h.inArray("columns",b.limitTo)&&a.columns({selected:!0}).any()||-1!==h.inArray("cells",b.limitTo)&&a.cells({selected:!0}).any()?!0:!1}var m=h.fn.dataTable;m.select={};m.select.version=
"1.4.0";m.select.init=function(a){var b=a.settings()[0];if(!b._select){var c=a.state.loaded(),d=function(t,G,p){if(null!==p&&p.select!==l){a.rows({selected:!0}).any()&&a.rows().deselect();p.select.rows!==l&&a.rows(p.select.rows).select();a.columns({selected:!0}).any()&&a.columns().deselect();p.select.columns!==l&&a.columns(p.select.columns).select();a.cells({selected:!0}).any()&&a.cells().deselect();if(p.select.cells!==l)for(t=0;t<p.select.cells.length;t++)a.cell(p.select.cells[t].row,p.select.cells[t].column).select();
a.state.save()}};a.one("init",function(){a.on("stateSaveParams",function(t,G,p){p.select={};p.select.rows=a.rows({selected:!0}).ids(!0).toArray();p.select.columns=a.columns({selected:!0})[0];p.select.cells=a.cells({selected:!0})[0].map(function(L){return{row:a.row(L.row).id(!0),column:L.column}})});d(l,l,c);a.on("stateLoaded stateLoadParams",d)});var e=b.oInit.select,g=m.defaults.select;e=e===l?g:e;g="row";var f="api",k=!1,n=!0,q=!0,y="td, th",M="selected",B=!1;b._select={};!0===e?(f="os",B=!0):"string"===
typeof e?(f=e,B=!0):h.isPlainObject(e)&&(e.blurable!==l&&(k=e.blurable),e.toggleable!==l&&(n=e.toggleable),e.info!==l&&(q=e.info),e.items!==l&&(g=e.items),f=e.style!==l?e.style:"os",B=!0,e.selector!==l&&(y=e.selector),e.className!==l&&(M=e.className));a.select.selector(y);a.select.items(g);a.select.style(f);a.select.blurable(k);a.select.toggleable(n);a.select.info(q);b._select.className=M;h.fn.dataTable.ext.order["select-checkbox"]=function(t,G){return this.api().column(G,{order:"index"}).nodes().map(function(p){return"row"===
t._select.items?h(p).parent().hasClass(t._select.className):"cell"===t._select.items?h(p).hasClass(t._select.className):!1})};!B&&h(a.table().node()).hasClass("selectable")&&a.select.style("os")}};h.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(a,b){m.ext.selector[b.type].push(function(c,d,e){d=d.selected;var g=[];if(!0!==d&&!1!==d)return e;for(var f=0,k=e.length;f<k;f++){var n=c[b.prop][e[f]];(!0===d&&!0===n._select_selected||!1===d&&!n._select_selected)&&g.push(e[f])}return g})});
m.ext.selector.cell.push(function(a,b,c){b=b.selected;var d=[];if(b===l)return c;for(var e=0,g=c.length;e<g;e++){var f=a.aoData[c[e].row];(!0===b&&f._selected_cells&&!0===f._selected_cells[c[e].column]||!(!1!==b||f._selected_cells&&f._selected_cells[c[e].column]))&&d.push(c[e])}return d});var v=m.Api.register,x=m.Api.registerPlural;v("select()",function(){return this.iterator("table",function(a){m.select.init(new m.Api(a))})});v("select.blurable()",function(a){return a===l?this.context[0]._select.blurable:
this.iterator("table",function(b){b._select.blurable=a})});v("select.toggleable()",function(a){return a===l?this.context[0]._select.toggleable:this.iterator("table",function(b){b._select.toggleable=a})});v("select.info()",function(a){return a===l?this.context[0]._select.info:this.iterator("table",function(b){b._select.info=a})});v("select.items()",function(a){return a===l?this.context[0]._select.items:this.iterator("table",function(b){b._select.items=a;u(new m.Api(b),"selectItems",[a])})});v("select.style()",
function(a){return a===l?this.context[0]._select.style:this.iterator("table",function(b){b._select||m.select.init(new m.Api(b));b._select_init||O(b);b._select.style=a;var c=new m.Api(b);C(c);"api"!==a&&J(c);u(new m.Api(b),"selectStyle",[a])})});v("select.selector()",function(a){return a===l?this.context[0]._select.selector:this.iterator("table",function(b){C(new m.Api(b));b._select.selector=a;"api"!==b._select.style&&J(new m.Api(b))})});x("rows().select()","row().select()",function(a){var b=this;
if(!1===a)return this.deselect();this.iterator("row",function(c,d){z(c);c.aoData[d]._select_selected=!0;h(c.aoData[d].nTr).addClass(c._select.className)});this.iterator("table",function(c,d){u(b,"select",["row",b[d]],!0)});return this});v("row().selected()",function(){var a=this.context[0];return a&&this.length&&a.aoData[this[0]]&&a.aoData[this[0]]._select_selected?!0:!1});x("columns().select()","column().select()",function(a){var b=this;if(!1===a)return this.deselect();this.iterator("column",function(c,
d){z(c);c.aoColumns[d]._select_selected=!0;d=(new m.Api(c)).column(d);h(d.header()).addClass(c._select.className);h(d.footer()).addClass(c._select.className);d.nodes().to$().addClass(c._select.className)});this.iterator("table",function(c,d){u(b,"select",["column",b[d]],!0)});return this});v("column().selected()",function(){var a=this.context[0];return a&&this.length&&a.aoColumns[this[0]]&&a.aoColumns[this[0]]._select_selected?!0:!1});x("cells().select()","cell().select()",function(a){var b=this;
if(!1===a)return this.deselect();this.iterator("cell",function(c,d,e){z(c);d=c.aoData[d];d._selected_cells===l&&(d._selected_cells=[]);d._selected_cells[e]=!0;d.anCells&&h(d.anCells[e]).addClass(c._select.className)});this.iterator("table",function(c,d){u(b,"select",["cell",b.cells(b[d]).indexes().toArray()],!0)});return this});v("cell().selected()",function(){var a=this.context[0];return a&&this.length&&(a=a.aoData[this[0][0].row])&&a._selected_cells&&a._selected_cells[this[0][0].column]?!0:!1});
x("rows().deselect()","row().deselect()",function(){var a=this;this.iterator("row",function(b,c){b.aoData[c]._select_selected=!1;b._select_lastCell=null;h(b.aoData[c].nTr).removeClass(b._select.className)});this.iterator("table",function(b,c){u(a,"deselect",["row",a[c]],!0)});return this});x("columns().deselect()","column().deselect()",function(){var a=this;this.iterator("column",function(b,c){b.aoColumns[c]._select_selected=!1;var d=new m.Api(b),e=d.column(c);h(e.header()).removeClass(b._select.className);
h(e.footer()).removeClass(b._select.className);d.cells(null,c).indexes().each(function(g){var f=b.aoData[g.row],k=f._selected_cells;!f.anCells||k&&k[g.column]||h(f.anCells[g.column]).removeClass(b._select.className)})});this.iterator("table",function(b,c){u(a,"deselect",["column",a[c]],!0)});return this});x("cells().deselect()","cell().deselect()",function(){var a=this;this.iterator("cell",function(b,c,d){c=b.aoData[c];c._selected_cells!==l&&(c._selected_cells[d]=!1);c.anCells&&!b.aoColumns[d]._select_selected&&
h(c.anCells[d]).removeClass(b._select.className)});this.iterator("table",function(b,c){u(a,"deselect",["cell",a[c]],!0)});return this});var H=0;h.extend(m.ext.buttons,{selected:{text:A("selected","Selected"),className:"buttons-selected",limitTo:["rows","columns","cells"],init:function(a,b,c){var d=this;c._eventNamespace=".select"+H++;a.on(F(c),function(){d.enable(P(a,c))});this.disable()},destroy:function(a,b,c){a.off(c._eventNamespace)}},selectedSingle:{text:A("selectedSingle","Selected single"),
className:"buttons-selected-single",init:function(a,b,c){var d=this;c._eventNamespace=".select"+H++;a.on(F(c),function(){var e=a.rows({selected:!0}).flatten().length+a.columns({selected:!0}).flatten().length+a.cells({selected:!0}).flatten().length;d.enable(1===e)});this.disable()},destroy:function(a,b,c){a.off(c._eventNamespace)}},selectAll:{text:A("selectAll","Select all"),className:"buttons-select-all",action:function(){this[this.select.items()+"s"]().select()}},selectNone:{text:A("selectNone",
"Deselect all"),className:"buttons-select-none",action:function(){z(this.settings()[0],!0)},init:function(a,b,c){var d=this;c._eventNamespace=".select"+H++;a.on(F(c),function(){var e=a.rows({selected:!0}).flatten().length+a.columns({selected:!0}).flatten().length+a.cells({selected:!0}).flatten().length;d.enable(0<e)});this.disable()},destroy:function(a,b,c){a.off(c._eventNamespace)}}});h.each(["Row","Column","Cell"],function(a,b){var c=b.toLowerCase();m.ext.buttons["select"+b+"s"]={text:A("select"+
b+"s","Select "+c+"s"),className:"buttons-select-"+c+"s",action:function(){this.select.items(c)},init:function(d){var e=this;d.on("selectItems.dt.DT",function(g,f,k){e.active(k===c)})}}});h(w).on("preInit.dt.dtSelect",function(a,b){"dt"===a.namespace&&m.select.init(new m.Api(b))});return m.select});


/*!
 StateRestore 1.1.1
 2019-2022 SpryMedia Ltd - datatables.net/license
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(l,r){return Object.prototype.hasOwnProperty.call(l,r)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(l,r,f){if(l==Array.prototype||l==Object.prototype)return l;l[r]=f.value;return l};
$jscomp.getGlobal=function(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var r=0;r<l.length;++r){var f=l[r];if(f&&f.Math==Math)return f}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(l,r){var f=$jscomp.propertyToPolyfillSymbol[r];if(null==f)return l[r];f=l[f];return void 0!==f?f:l[r]};$jscomp.polyfill=function(l,r,f,t){r&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(l,r,f,t):$jscomp.polyfillUnisolated(l,r,f,t))};
$jscomp.polyfillUnisolated=function(l,r,f,t){f=$jscomp.global;l=l.split(".");for(t=0;t<l.length-1;t++){var u=l[t];if(!(u in f))return;f=f[u]}l=l[l.length-1];t=f[l];r=r(t);r!=t&&null!=r&&$jscomp.defineProperty(f,l,{configurable:!0,writable:!0,value:r})};
$jscomp.polyfillIsolated=function(l,r,f,t){var u=l.split(".");l=1===u.length;t=u[0];t=!l&&t in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var n=0;n<u.length-1;n++){var x=u[n];if(!(x in t))return;t=t[x]}u=u[u.length-1];f=$jscomp.IS_SYMBOL_NATIVE&&"es6"===f?t[u]:null;r=r(f);null!=r&&(l?$jscomp.defineProperty($jscomp.polyfills,u,{configurable:!0,writable:!0,value:r}):r!==f&&($jscomp.propertyToPolyfillSymbol[u]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(u):$jscomp.POLYFILL_PREFIX+u,u=
$jscomp.propertyToPolyfillSymbol[u],$jscomp.defineProperty(t,u,{configurable:!0,writable:!0,value:r})))};$jscomp.polyfill("Object.values",function(l){return l?l:function(r){var f=[],t;for(t in r)$jscomp.owns(r,t)&&f.push(r[t]);return f}},"es8","es3");$jscomp.polyfill("Object.is",function(l){return l?l:function(r,f){return r===f?0!==r||1/r===1/f:r!==r&&f!==f}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(l){return l?l:function(r,f){var t=this;t instanceof String&&(t=String(t));var u=t.length;f=f||0;for(0>f&&(f=Math.max(f+u,0));f<u;f++){var n=t[f];if(n===r||Object.is(n,r))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(l,r,f){if(null==l)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(r instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return l+""};$jscomp.polyfill("String.prototype.includes",function(l){return l?l:function(r,f){return-1!==$jscomp.checkStringArgs(this,r,"includes").indexOf(r,f||0)}},"es6","es3");
$jscomp.arrayIteratorImpl=function(l){var r=0;return function(){return r<l.length?{done:!1,value:l[r++]}:{done:!0}}};$jscomp.arrayIterator=function(l){return{next:$jscomp.arrayIteratorImpl(l)}};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(l){if(l)return l;var r=function(u,n){this.$jscomp$symbol$id_=u;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:n})};r.prototype.toString=function(){return this.$jscomp$symbol$id_};var f=0,t=function(u){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new r("jscomp_symbol_"+(u||"")+"_"+f++,u)};return t},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(l){if(l)return l;l=Symbol("Symbol.iterator");for(var r="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),f=0;f<r.length;f++){var t=$jscomp.global[r[f]];"function"===typeof t&&"function"!=typeof t.prototype[l]&&$jscomp.defineProperty(t.prototype,l,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return l},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(l){l={next:l};l[Symbol.iterator]=function(){return this};return l};$jscomp.iteratorFromArray=function(l,r){l instanceof String&&(l+="");var f=0,t={next:function(){if(f<l.length){var u=f++;return{value:r(u,l[u]),done:!1}}t.next=function(){return{done:!0,value:void 0}};return t.next()}};t[Symbol.iterator]=function(){return t};return t};
$jscomp.polyfill("Array.prototype.keys",function(l){return l?l:function(){return $jscomp.iteratorFromArray(this,function(r){return r})}},"es6","es3");$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(l,r){for(var f=1;f<arguments.length;f++){var t=arguments[f];if(t)for(var u in t)$jscomp.owns(t,u)&&(l[u]=t[u])}return l};$jscomp.polyfill("Object.assign",function(l){return l||$jscomp.assign},"es6","es3");
$jscomp.findInternal=function(l,r,f){l instanceof String&&(l=String(l));for(var t=l.length,u=0;u<t;u++){var n=l[u];if(r.call(f,n,u,l))return{i:u,v:n}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(l){return l?l:function(r,f){return $jscomp.findInternal(this,r,f).v}},"es6","es3");
(function(){function l(p){f=p;t=p.fn.dataTable}function r(p){n=p;x=p.fn.dataTable}var f,t,u=function(){function p(b,d,c,g,m,a){void 0===g&&(g=void 0);void 0===m&&(m=!1);void 0===a&&(a=function(){return null});if(!t||!t.versionCheck||!t.versionCheck("1.10.0"))throw Error("StateRestore requires DataTables 1.10 or newer");if(!t.Buttons)throw Error("StateRestore requires Buttons");b=new t.Api(b);this.classes=f.extend(!0,{},p.classes);this.c=f.extend(!0,{},p.defaults,d);this.s={dt:b,identifier:c,isPreDefined:m,
savedState:null,tableId:g&&g.stateRestore?g.stateRestore.tableId:void 0};this.dom={background:f('<div class="'+this.classes.background+'"/>'),closeButton:f('<div class="'+this.classes.closeButton+'">x</div>'),confirmation:f('<div class="'+this.classes.confirmation+'"/>'),confirmationButton:f('<button class="'+this.classes.confirmationButton+" "+this.classes.dtButton+'">'),confirmationTitleRow:f('<div class="'+this.classes.confirmationTitleRow+'"></div>'),dtContainer:f(this.s.dt.table().container()),
duplicateError:f('<span class="'+this.classes.modalError+'">'+this.s.dt.i18n("stateRestore.duplicateError",this.c.i18n.duplicateError)+"</span>"),emptyError:f('<span class="'+this.classes.modalError+'">'+this.s.dt.i18n("stateRestore.emptyError",this.c.i18n.emptyError)+"</span>"),removeContents:f('<div class="'+this.classes.confirmationText+'"><span>'+this.s.dt.i18n("stateRestore.removeConfirm",this.c.i18n.removeConfirm).replace(/%s/g,this.s.identifier)+"</span></div>"),removeError:f('<span class="'+
this.classes.modalError+'">'+this.s.dt.i18n("stateRestore.removeError",this.c.i18n.removeError)+"</span>"),removeTitle:f('<h2 class="'+this.classes.confirmationTitle+'">'+this.s.dt.i18n("stateRestore.removeTitle",this.c.i18n.removeTitle)+"</h2>"),renameContents:f('<div class="'+this.classes.confirmationText+" "+this.classes.renameModal+'"><label class="'+this.classes.confirmationMessage+'">'+this.s.dt.i18n("stateRestore.renameLabel",this.c.i18n.renameLabel).replace(/%s/g,this.s.identifier)+"</label></div>"),
renameInput:f('<input class="'+this.classes.input+'" type="text"></input>'),renameTitle:f('<h2 class="'+this.classes.confirmationTitle+'">'+this.s.dt.i18n("stateRestore.renameTitle",this.c.i18n.renameTitle)+"</h2>")};this.save(g,a)}p.prototype.remove=function(b){var d,c=this;void 0===b&&(b=!1);if(!this.c.remove)return!1;var g,m={action:"remove",stateRestore:(d={},d[this.s.identifier]=this.s.savedState,d)},a=function(){c.dom.confirmation.trigger("dtsr-remove");f(c.s.dt.table().node()).trigger("stateRestore-change");
c.dom.background.click();c.dom.confirmation.remove();f(document).unbind("keyup",function(e){return c._keyupFunction(e)});c.dom.confirmationButton.off("click")};this.c.ajax?"string"===typeof this.c.ajax&&this.s.dt.settings()[0]._bInitComplete?g=function(){f.ajax({data:m,success:a,type:"POST",url:c.c.ajax});return!0}:"function"===typeof this.c.ajax&&(g=function(){"function"===typeof c.c.ajax&&c.c.ajax.call(c.s.dt,m,a);return!0}):g=function(){try{localStorage.removeItem("DataTables_stateRestore_"+c.s.identifier+
"_"+location.pathname+(c.s.tableId?"_"+c.s.tableId:"")),a()}catch(e){return c.dom.confirmation.children("."+c.classes.modalError).remove(),c.dom.confirmation.append(c.dom.removeError),"remove"}return!0};b?(this.dom.confirmation.appendTo(this.dom.dtContainer),f(this.s.dt.table().node()).trigger("dtsr-modal-inserted"),g(),this.dom.confirmation.remove()):this._newModal(this.dom.removeTitle,this.s.dt.i18n("stateRestore.removeSubmit",this.c.i18n.removeSubmit),g,this.dom.removeContents);return!0};p.prototype.compare=
function(b){this.c.saveState.order||(b.order=void 0);this.c.saveState.search||(b.search=void 0);if(this.c.saveState.columns&&b.columns)for(var d=0,c=b.columns.length;d<c;d++)"boolean"===typeof this.c.saveState.columns||this.c.saveState.columns.visible||(b.columns[d].visible=void 0),"boolean"===typeof this.c.saveState.columns||this.c.saveState.columns.search||(b.columns[d].search=void 0);else this.c.saveState.columns||(b.columns=void 0);this.c.saveState.paging||(b.page=void 0);this.c.saveState.searchBuilder||
(b.searchBuilder=void 0);this.c.saveState.searchPanes||(b.searchPanes=void 0);this.c.saveState.select||(b.select=void 0);this.c.saveState.colReorder||(b.ColReorder=void 0);this.c.saveState.scroller||(b.scroller=void 0,void 0!==t.Scroller&&(b.start=0));this.c.saveState.paging||(b.start=0);this.c.saveState.length||(b.length=void 0);delete b.time;d=this.s.savedState;delete d.time;delete d.c;delete d.stateRestore;return this._deepCompare(b,d)};p.prototype.destroy=function(){Object.values(this.dom).forEach(function(b){return b.off().remove()})};
p.prototype.load=function(){var b=this,d=this.s.savedState,c=this.s.dt.settings()[0];d.time=+new Date;c.oLoadedState=f.extend(!0,{},d);f("div.dt-button-background").click();f.fn.dataTable.ext.oApi._fnImplementState(c,d,function(){b.s.dt.one("preDraw",function(g,m){setTimeout(function(){var a=m._iDisplayStart/m._iDisplayLength,e=d.start/d.length;0<=a&&0<=e&&a!==e&&b.s.dt.page(e).draw(!1)},50)});b.s.dt.draw(!1)});return d};p.prototype.rename=function(b,d){var c=this;void 0===b&&(b=null);if(this.c.rename){var g=
function(){var m;if(null===b){var a=f("input."+c.classes.input.replace(/ /g,".")).val();if(0===a.length)return c.dom.confirmation.children("."+c.classes.modalError).remove(),c.dom.confirmation.append(c.dom.emptyError),"empty";if(d.includes(a))return c.dom.confirmation.children("."+c.classes.modalError).remove(),c.dom.confirmation.append(c.dom.duplicateError),"duplicate";b=a}a={action:"rename",stateRestore:(m={},m[c.s.identifier]=b,m)};m=function(){c.s.identifier=b;c.save(c.s.savedState,function(){return null},
!1);c.dom.removeContents=f('<div class="'+c.classes.confirmationText+'"><span>'+c.s.dt.i18n("stateRestore.removeConfirm",c.c.i18n.removeConfirm).replace(/%s/g,c.s.identifier)+"</span></div>");c.dom.confirmation.trigger("dtsr-rename");c.dom.background.click();c.dom.confirmation.remove();f(document).unbind("keyup",function(e){return c._keyupFunction(e)});c.dom.confirmationButton.off("click")};if(c.c.ajax)"string"===typeof c.c.ajax&&c.s.dt.settings()[0]._bInitComplete?f.ajax({data:a,success:m,type:"POST",
url:c.c.ajax}):"function"===typeof c.c.ajax&&c.c.ajax.call(c.s.dt,a,m);else try{localStorage.removeItem("DataTables_stateRestore_"+c.s.identifier+"_"+location.pathname+(c.s.tableId?"_"+c.s.tableId:"")),m()}catch(e){return c.dom.confirmation.children("."+c.classes.modalError).remove(),c.dom.confirmation.append(c.dom.removeError),!1}return!0};if(null!==b){if(d.includes(b))throw Error(this.s.dt.i18n("stateRestore.duplicateError",this.c.i18n.duplicateError));if(0===b.length)throw Error(this.s.dt.i18n("stateRestore.emptyError",
this.c.i18n.emptyError));this.dom.confirmation.appendTo(this.dom.dtContainer);f(this.s.dt.table().node()).trigger("dtsr-modal-inserted");g();this.dom.confirmation.remove()}else this.dom.renameInput.val(this.s.identifier),this.dom.renameContents.append(this.dom.renameInput),this._newModal(this.dom.renameTitle,this.s.dt.i18n("stateRestore.renameButton",this.c.i18n.renameButton),g,this.dom.renameContents)}};p.prototype.save=function(b,d,c){var g,m=this;void 0===c&&(c=!0);if(this.c.save){this.s.dt.state.save();
if(void 0===b)b=this.s.dt.state();else if("object"!==typeof b)return;b.stateRestore?(b.stateRestore.isPreDefined=this.s.isPreDefined,b.stateRestore.state=this.s.identifier,b.stateRestore.tableId=this.s.tableId):b.stateRestore={isPreDefined:this.s.isPreDefined,state:this.s.identifier,tableId:this.s.tableId};this.s.savedState=b;this.c.saveState.order||(this.s.savedState.order=void 0);this.c.saveState.search||(this.s.savedState.search=void 0);if(this.c.saveState.columns&&this.s.savedState.columns){b=
0;for(var a=this.s.savedState.columns.length;b<a;b++)"boolean"===typeof this.c.saveState.columns||this.c.saveState.columns.visible||(this.s.savedState.columns[b].visible=void 0),"boolean"===typeof this.c.saveState.columns||this.c.saveState.columns.search||(this.s.savedState.columns[b].search=void 0)}else this.c.saveState.columns||(this.s.savedState.columns=void 0);this.c.saveState.searchBuilder||(this.s.savedState.searchBuilder=void 0);this.c.saveState.searchPanes||(this.s.savedState.searchPanes=
void 0);this.c.saveState.select||(this.s.savedState.select=void 0);this.c.saveState.colReorder||(this.s.savedState.ColReorder=void 0);this.c.saveState.scroller||(this.s.savedState.scroller=void 0,void 0!==t.Scroller&&(this.s.savedState.start=0));this.c.saveState.paging||(this.s.savedState.start=0);this.c.saveState.length||(this.s.savedState.length=void 0);this.s.savedState.c=this.c;if(this.s.savedState.c.splitSecondaries.length)for(b=0,a=this.s.savedState.c.splitSecondaries;b<a.length;b++){var e=
a[b];e.parent&&(e.parent=void 0)}if(this.s.isPreDefined)d&&d.call(this);else{var h={action:"save",stateRestore:(g={},g[this.s.identifier]=this.s.savedState,g)},q=function(){d&&d.call(m);m.dom.confirmation.trigger("dtsr-save");f(m.s.dt.table().node()).trigger("stateRestore-change")};if(this.c.ajax)if("string"===typeof this.c.ajax&&c)if(this.s.dt.settings()[0]._bInitComplete)f.ajax({data:h,success:q,type:"POST",url:this.c.ajax});else this.s.dt.one("init",function(){f.ajax({data:h,success:q,type:"POST",
url:m.c.ajax})});else"function"===typeof this.c.ajax&&c&&this.c.ajax.call(this.s.dt,h,q);else localStorage.setItem("DataTables_stateRestore_"+this.s.identifier+"_"+location.pathname+(this.s.tableId?"_"+this.s.tableId:""),JSON.stringify(this.s.savedState)),q()}}else d&&d.call(this)};p.prototype._deepCompare=function(b,d){var c=[b,d];b=[Object.keys(b).sort(),Object.keys(d).sort()];b[0].includes("scroller")&&(d=b[0].indexOf("start"))&&b[0].splice(d,1);b[1].includes("scroller")&&(d=b[1].indexOf("start"))&&
b[1].splice(d,1);for(d=0;d<b[0].length;d++)if(0===b[0][d].indexOf("_"))b[0].splice(d,1),d--;else if("baseRowTop"===b[0][d]||"baseScrollTop"===b[0][d]||"scrollTop"===b[0][d]||!this.c.saveState.paging&&"page"===b[0][d])b[0].splice(d,1),d--;for(d=0;d<b[1].length;d++)if(0===b[1][d].indexOf("_"))b[1].splice(d,1),d--;else if("baseRowTop"===b[1][d]||"baseScrollTop"===b[1][d]||"scrollTop"===b[1][d]||!this.c.saveState.paging&&"page"===b[0][d])b[1].splice(d,1),d--;if(0===b[0].length&&0<b[1].length||0===b[1].length&&
0<b[0].length)return!1;for(d=0;d<b[0].length;d++)b[1].includes(b[0][d])||(b[0].splice(d,1),d--);for(d=0;d<b[1].length;d++)b[0].includes(b[1][d])||(b[1].splice(d,1),d--);for(d=0;d<b[0].length;d++){if(b[0][d]!==b[1][d]||typeof c[0][b[0][d]]!==typeof c[1][b[1][d]])return!1;if("object"===typeof c[0][b[0][d]]){if(!this._deepCompare(c[0][b[0][d]],c[1][b[1][d]]))return!1}else if("number"===typeof c[0][b[0][d]]&&"number"===typeof c[1][b[1][d]]){if(Math.round(c[0][b[0][d]])!==Math.round(c[1][b[1][d]]))return!1}else if(c[0][b[0][d]]!==
c[1][b[1][d]])return!1}return!0};p.prototype._keyupFunction=function(b){"Enter"===b.key?this.dom.confirmationButton.click():"Escape"===b.key&&f("div."+this.classes.background.replace(/ /g,".")).click()};p.prototype._newModal=function(b,d,c,g){var m=this;this.dom.background.appendTo(this.dom.dtContainer);this.dom.confirmationTitleRow.empty().append(b);this.dom.confirmationButton.html(d);this.dom.confirmation.empty().append(this.dom.confirmationTitleRow).append(g).append(f('<div class="'+this.classes.confirmationButtons+
'"></div>').append(this.dom.confirmationButton)).appendTo(this.dom.dtContainer);f(this.s.dt.table().node()).trigger("dtsr-modal-inserted");b=g.children("input");0<b.length?f(b[0]).focus():this.dom.confirmationButton.focus();var a=f("div."+this.classes.background.replace(/ /g,"."));this.c.modalCloseButton&&(this.dom.confirmation.append(this.dom.closeButton),this.dom.closeButton.on("click",function(){return a.click()}));this.dom.confirmationButton.on("click",function(){return c()});this.dom.confirmation.on("click",
function(e){e.stopPropagation()});a.one("click",function(){m.dom.background.remove();m.dom.confirmation.remove();f(document).unbind("keyup",function(e){return m._keyupFunction(e)})});f(document).on("keyup",function(e){return m._keyupFunction(e)})};p.prototype._searchToHung=function(b){return{bCaseInsensitive:b.caseInsensitive,bRegex:b.regex,bSmart:b.smart,sSearch:b.search}};p.version="1.1.1";p.classes={background:"dtsr-background",closeButton:"dtsr-popover-close",confirmation:"dtsr-confirmation",
confirmationButton:"dtsr-confirmation-button",confirmationButtons:"dtsr-confirmation-buttons",confirmationMessage:"dtsr-confirmation-message dtsr-name-label",confirmationText:"dtsr-confirmation-text",confirmationTitle:"dtsr-confirmation-title",confirmationTitleRow:"dtsr-confirmation-title-row",dtButton:"dt-button",input:"dtsr-input",modalError:"dtsr-modal-error",renameModal:"dtsr-rename-modal"};p.defaults={_createInSaved:!1,ajax:!1,create:!0,creationModal:!1,i18n:{creationModal:{button:"Create",colReorder:"Column Order:",
columns:{search:"Column Search:",visible:"Column Visibility:"},length:"Page Length:",name:"Name:",order:"Sorting:",paging:"Paging:",scroller:"Scroll Position:",search:"Search:",searchBuilder:"SearchBuilder:",searchPanes:"SearchPanes:",select:"Select:",title:"Create New State",toggleLabel:"Includes:"},duplicateError:"A state with this name already exists.",emptyError:"Name cannot be empty.",emptyStates:"No saved states",removeConfirm:"Are you sure you want to remove %s?",removeError:"Failed to remove state.",
removeJoiner:" and ",removeSubmit:"Remove",removeTitle:"Remove State",renameButton:"Rename",renameLabel:"New Name for %s:",renameTitle:"Rename State"},modalCloseButton:!0,remove:!0,rename:!0,save:!0,saveState:{colReorder:!0,columns:{search:!0,visible:!0},length:!0,order:!0,paging:!0,scroller:!0,search:!0,searchBuilder:!0,searchPanes:!0,select:!0},splitSecondaries:["updateState","renameState","removeState"],toggle:{colReorder:!1,columns:{search:!1,visible:!1},length:!1,order:!1,paging:!1,scroller:!1,
search:!1,searchBuilder:!1,searchPanes:!1,select:!1}};return p}(),n,x,C=function(){function p(b,d){var c=this;if(!x||!x.versionCheck||!x.versionCheck("1.10.0"))throw Error("StateRestore requires DataTables 1.10 or newer");if(!x.Buttons)throw Error("StateRestore requires Buttons");b=new x.Api(b);this.classes=n.extend(!0,{},p.classes);if(void 0===b.settings()[0]._stateRestore){this.c=n.extend(!0,{},p.defaults,d);this.s={dt:b,hasColReorder:void 0!==x.ColReorder,hasScroller:void 0!==x.Scroller,hasSearchBuilder:void 0!==
x.SearchBuilder,hasSearchPanes:void 0!==x.SearchPanes,hasSelect:void 0!==x.select,states:[]};this.s.dt.on("xhr",function(a,e,h){h&&h.stateRestore&&c._addPreDefined(h.stateRestore)});this.dom={background:n('<div class="'+this.classes.background+'"/>'),closeButton:n('<div class="'+this.classes.closeButton+'">x</div>'),colReorderToggle:n('<div class="'+this.classes.formRow+" "+this.classes.checkRow+'"><input type="checkbox" class="'+this.classes.colReorderToggle+" "+this.classes.checkBox+'" checked><label class="'+
this.classes.checkLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.colReorder",this.c.i18n.creationModal.colReorder)+"</label></div>"),columnsSearchToggle:n('<div class="'+this.classes.formRow+" "+this.classes.checkRow+'"><input type="checkbox" class="'+this.classes.columnsSearchToggle+" "+this.classes.checkBox+'" checked><label class="'+this.classes.checkLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.columns.search",this.c.i18n.creationModal.columns.search)+"</label></div>"),columnsVisibleToggle:n('<div class="'+
this.classes.formRow+" "+this.classes.checkRow+' "><input type="checkbox" class="'+this.classes.columnsVisibleToggle+" "+this.classes.checkBox+'" checked><label class="'+this.classes.checkLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.columns.visible",this.c.i18n.creationModal.columns.visible)+"</label></div>"),confirmation:n('<div class="'+this.classes.confirmation+'"/>'),confirmationTitleRow:n('<div class="'+this.classes.confirmationTitleRow+'"></div>'),createButtonRow:n('<div class="'+this.classes.formRow+
" "+this.classes.modalFoot+'"><button class="'+this.classes.creationButton+" "+this.classes.dtButton+'">'+this.s.dt.i18n("stateRestore.creationModal.button",this.c.i18n.creationModal.button)+"</button></div>"),creation:n('<div class="'+this.classes.creation+'"/>'),creationForm:n('<div class="'+this.classes.creationForm+'"/>'),creationTitle:n('<div class="'+this.classes.creationText+'"><h2 class="'+this.classes.creationTitle+'">'+this.s.dt.i18n("stateRestore.creationModal.title",this.c.i18n.creationModal.title)+
"</h2></div>"),dtContainer:n(this.s.dt.table().container()),duplicateError:n('<span class="'+this.classes.modalError+'">'+this.s.dt.i18n("stateRestore.duplicateError",this.c.i18n.duplicateError)+"</span>"),emptyError:n('<span class="'+this.classes.modalError+'">'+this.s.dt.i18n("stateRestore.emptyError",this.c.i18n.emptyError)+"</span>"),lengthToggle:n('<div class="'+this.classes.formRow+" "+this.classes.checkRow+'"><input type="checkbox" class="'+this.classes.lengthToggle+" "+this.classes.checkBox+
'" checked><label class="'+this.classes.checkLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.length",this.c.i18n.creationModal.length)+"</label></div>"),nameInputRow:n('<div class="'+this.classes.formRow+'"><label class="'+this.classes.nameLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.name",this.c.i18n.creationModal.name)+'</label><input class="'+this.classes.nameInput+'" type="text"></div>'),orderToggle:n('<div class="'+this.classes.formRow+" "+this.classes.checkRow+'"><input type="checkbox" class="'+
this.classes.orderToggle+" "+this.classes.checkBox+'" checked><label class="'+this.classes.checkLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.order",this.c.i18n.creationModal.order)+"</label></div>"),pagingToggle:n('<div class="'+this.classes.formRow+" "+this.classes.checkRow+'"><input type="checkbox" class="'+this.classes.pagingToggle+" "+this.classes.checkBox+'" checked><label class="'+this.classes.checkLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.paging",this.c.i18n.creationModal.paging)+
"</label></div>"),removeContents:n('<div class="'+this.classes.confirmationText+'"><span></span></div>'),removeTitle:n('<div class="'+this.classes.creationText+'"><h2 class="'+this.classes.creationTitle+'">'+this.s.dt.i18n("stateRestore.removeTitle",this.c.i18n.removeTitle)+"</h2></div>"),scrollerToggle:n('<div class="'+this.classes.formRow+" "+this.classes.checkRow+'"><input type="checkbox" class="'+this.classes.scrollerToggle+" "+this.classes.checkBox+'" checked><label class="'+this.classes.checkLabel+
'">'+this.s.dt.i18n("stateRestore.creationModal.scroller",this.c.i18n.creationModal.scroller)+"</label></div>"),searchBuilderToggle:n('<div class="'+this.classes.formRow+" "+this.classes.checkRow+'"><input type="checkbox" class="'+this.classes.searchBuilderToggle+" "+this.classes.checkBox+'" checked><label class="'+this.classes.checkLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.searchBuilder",this.c.i18n.creationModal.searchBuilder)+"</label></div>"),searchPanesToggle:n('<div class="'+this.classes.formRow+
" "+this.classes.checkRow+'"><input type="checkbox" class="'+this.classes.searchPanesToggle+" "+this.classes.checkBox+'" checked><label class="'+this.classes.checkLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.searchPanes",this.c.i18n.creationModal.searchPanes)+"</label></div>"),searchToggle:n('<div class="'+this.classes.formRow+" "+this.classes.checkRow+'"><input type="checkbox" class="'+this.classes.searchToggle+" "+this.classes.checkBox+'" checked><label class="'+this.classes.checkLabel+
'">'+this.s.dt.i18n("stateRestore.creationModal.search",this.c.i18n.creationModal.search)+"</label></div>"),selectToggle:n('<div class="'+this.classes.formRow+" "+this.classes.checkRow+'"><input type="checkbox" class="'+this.classes.selectToggle+" "+this.classes.checkBox+'" checked><label class="'+this.classes.checkLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.select",this.c.i18n.creationModal.select)+"</label></div>"),toggleLabel:n('<label class="'+this.classes.nameLabel+" "+this.classes.toggleLabel+
'">'+this.s.dt.i18n("stateRestore.creationModal.toggleLabel",this.c.i18n.creationModal.toggleLabel)+"</label>")};b.settings()[0]._stateRestore=this;this._searchForStates();this._addPreDefined(this.c.preDefined);var g,m={action:"load"};"function"===typeof this.c.ajax?g=function(){"function"===typeof c.c.ajax&&c.c.ajax.call(c.s.dt,m,function(a){return c._addPreDefined(a)})}:"string"===typeof this.c.ajax&&(g=function(){n.ajax({data:m,success:function(a){c._addPreDefined(a)},type:"POST",url:c.c.ajax})});
if("function"===typeof g)if(this.s.dt.settings()[0]._bInitComplete)g();else this.s.dt.one("preInit.dtsr",function(){g()});this.s.dt.on("destroy.dtsr",function(){c.destroy()});this.s.dt.on("draw.dtsr buttons-action.dtsr",function(){return c.findActive()});return this}}p.prototype.addState=function(b,d,c){var g=this;if(this.c.create&&this.c.save){var m=function(a,e){if(0===a.length)return"empty";if(d.includes(a))return"duplicate";g.s.dt.state.save();var h=g.s.dt.state();h.stateRestore={isPredefined:!1,
state:a,tableId:g.s.dt.table().node().id};if(e.saveState){for(var q=g.c.saveState,k=0,v=Object.keys(e.saveState);k<v.length;k++){var w=v[k];e.saveState[w]||(q[w]=!1)}g.c.saveState=q}var A=new u(g.s.dt.settings()[0],n.extend(!0,{},g.c,c),a,h,!1,function(){g.s.states.push(this);g._collectionRebuild()});n(g.s.dt.table().node()).on("dtsr-modal-inserted",function(){A.dom.confirmation.one("dtsr-remove",function(){return g._removeCallback(A.s.identifier)});A.dom.confirmation.one("dtsr-rename",function(){return g._collectionRebuild()});
A.dom.confirmation.one("dtsr-save",function(){return g._collectionRebuild()})});return!0};if(null===this.getState(b))if(this.c.creationModal||void 0!==c&&c.creationModal)this._creationModal(m,b,c);else{b=m(b,{});if("empty"===b)throw Error(this.s.dt.i18n("stateRestore.emptyError",this.c.i18n.emptyError));if("duplicate"===b)throw Error(this.s.dt.i18n("stateRestore.duplicateError",this.c.i18n.duplicateError));}else throw Error(this.s.dt.i18n("stateRestore.duplicateError",this.c.i18n.duplicateError));
}};p.prototype.removeAll=function(b){if(0!==this.s.states.length){var d=this.s.states.map(function(g){return g.s.identifier}),c=d[0];1<d.length&&(c=d.slice(0,-1).join(", ")+this.s.dt.i18n("stateRestore.removeJoiner",this.c.i18n.removeJoiner)+d.slice(-1));n(this.dom.removeContents.children("span")).html(this.s.dt.i18n("stateRestore.removeConfirm",this.c.i18n.removeConfirm).replace(/%s/g,c));this._newModal(this.dom.removeTitle,this.s.dt.i18n("stateRestore.removeSubmit",this.c.i18n.removeSubmit),b,this.dom.removeContents)}};
p.prototype.destroy=function(){for(var b=0,d=this.s.states;b<d.length;b++)d[b].destroy();Object.values(this.dom).forEach(function(c){c.off();c.remove()});this.s.states=[];this.s.dt.off(".dtsr");n(this.s.dt.table().node()).off(".dtsr")};p.prototype.findActive=function(){this.s.dt.state.save();var b=this.s.dt.state(),d=n("button."+n.fn.DataTable.Buttons.defaults.dom.button.className.replace(/ /g,"."));0===d.length&&(d=n("a."+n.fn.DataTable.Buttons.defaults.dom.button.className.replace(/ /g,".")));for(var c=
0,g=d;c<g.length;c++){var m=g[c];this.s.dt.button(n(m).parent()[0]).active(!1)}c=[];g=0;for(var a=this.s.states;g<a.length;g++){var e=a[g];if(e.compare(b)){c.push({data:e.s.savedState,name:e.s.identifier});for(var h=0,q=d;h<q.length;h++)if(m=q[h],n(m).text()===e.s.identifier){this.s.dt.button(n(m).parent()[0]).active(!0);break}}}return c};p.prototype.getState=function(b){for(var d=0,c=this.s.states;d<c.length;d++){var g=c[d];if(g.s.identifier===b)return g}return null};p.prototype.getStates=function(b){if(void 0===
b)return this.s.states;for(var d=[],c=0;c<b.length;c++){for(var g=b[c],m=!1,a=0,e=this.s.states;a<e.length;a++){var h=e[a];if(g===h.s.identifier){d.push(h);m=!0;break}}m||d.push(void 0)}return d};p.prototype._addPreDefined=function(b){for(var d=this,c=function(e){for(var h=0;h<g.s.states.length;h++)g.s.states[h].s.identifier===e&&g.s.states.splice(h,1);var q=g;h=b[e];var k=new u(g.s.dt,n.extend(!0,{},g.c,void 0!==h.c?{saveState:h.c.saveState}:void 0,!0),e,h,!0,function(){q.s.states.push(this);q._collectionRebuild()});
k.s.savedState=h;n(g.s.dt.table().node()).on("dtsr-modal-inserted",function(){k.dom.confirmation.one("dtsr-remove",function(){return d._removeCallback(k.s.identifier)});k.dom.confirmation.one("dtsr-rename",function(){return d._collectionRebuild()});k.dom.confirmation.one("dtsr-save",function(){return d._collectionRebuild()})})},g=this,m=0,a=Object.keys(b).sort(function(e,h){return e>h?1:e<h?-1:0});m<a.length;m++)c(a[m])};p.prototype._collectionRebuild=function(){for(var b=this.s.dt.button("SaveStateRestore:name"),
d=void 0!==b[0]&&void 0!==b[0].inst.c.buttons[0].buttons?b[0].inst.c.buttons[0].buttons:[],c=0;c<d.length;c++)"stateRestore"===d[c].extend&&(d.splice(c,1),c--);this.c._createInSaved&&d.push("createState");c='<span class="'+this.classes.emptyStates+'">'+this.s.dt.i18n("stateRestore.emptyStates",this.c.i18n.emptyStates)+"</span>";if(0===this.s.states.length)d.includes(c)||d.push(c);else{for(;d.includes(c);)d.splice(d.indexOf(c),1);this.s.states=this.s.states.sort(function(e,h){e=e.s.identifier;h=h.s.identifier;
return e>h?1:e<h?-1:0});c=0;for(var g=this.s.states;c<g.length;c++){var m=g[c],a=Object.assign([],this.c.splitSecondaries);!a.includes("updateState")||this.c.save&&m.c.save||a.splice(a.indexOf("updateState"),1);!a.includes("renameState")||this.c.save&&m.c.save&&this.c.rename&&m.c.rename||a.splice(a.indexOf("renameState"),1);!a.includes("removeState")||this.c.remove&&m.c.remove||a.splice(a.indexOf("removeState"),1);0<a.length&&!a.includes("<h3>"+m.s.identifier+"</h3>")&&a.unshift("<h3>"+m.s.identifier+
"</h3>");d.push({_stateRestore:m,attr:{title:m.s.identifier},config:{split:a},extend:"stateRestore",text:m.s.identifier})}}b.collectionRebuild(d);b=0;for(d=this.s.dt.buttons();b<d.length;b++)c=d[b],n(c.node).hasClass("dtsr-removeAllStates")&&(0===this.s.states.length?this.s.dt.button(c.node).disable():this.s.dt.button(c.node).enable())};p.prototype._creationModal=function(b,d,c){var g=this;this.dom.creation.empty();this.dom.creationForm.empty();this.dom.nameInputRow.children("input").val(d);this.dom.creationForm.append(this.dom.nameInputRow);
var m=this.s.dt.settings()[0].oInit;d=[];var a=void 0!==c&&void 0!==c.toggle;((!a||void 0===c.toggle.order)&&this.c.toggle.order||a&&c.toggle.order)&&this.c.saveState.order&&(void 0===m.ordering||m.ordering)&&d.push(this.dom.orderToggle);((!a||void 0===c.toggle.search)&&this.c.toggle.search||a&&c.toggle.search)&&this.c.saveState.search&&(void 0===m.searching||m.searching)&&d.push(this.dom.searchToggle);((!a||void 0===c.toggle.paging)&&this.c.toggle.paging||a&&c.toggle.paging)&&this.c.saveState.paging&&
(void 0===m.paging||m.paging)&&d.push(this.dom.pagingToggle);((!a||void 0===c.toggle.length)&&this.c.toggle.length||a&&c.toggle.length)&&this.c.saveState.length&&(void 0===m.length||m.length)&&d.push(this.dom.lengthToggle);this.s.hasColReorder&&((!a||void 0===c.toggle.colReorder)&&this.c.toggle.colReorder||a&&c.toggle.colReorder)&&this.c.saveState.colReorder&&d.push(this.dom.colReorderToggle);this.s.hasScroller&&((!a||void 0===c.toggle.scroller)&&this.c.toggle.scroller||a&&c.toggle.scroller)&&this.c.saveState.scroller&&
d.push(this.dom.scrollerToggle);this.s.hasSearchBuilder&&((!a||void 0===c.toggle.searchBuilder)&&this.c.toggle.searchBuilder||a&&c.toggle.searchBuilder)&&this.c.saveState.searchBuilder&&d.push(this.dom.searchBuilderToggle);this.s.hasSearchPanes&&((!a||void 0===c.toggle.searchPanes)&&this.c.toggle.searchPanes||a&&c.toggle.searchPanes)&&this.c.saveState.searchPanes&&d.push(this.dom.searchPanesToggle);this.s.hasSelect&&((!a||void 0===c.toggle.select)&&this.c.toggle.select||a&&c.toggle.select)&&this.c.saveState.select&&
d.push(this.dom.selectToggle);"boolean"===typeof this.c.toggle.columns&&((!a||void 0===c.toggle.order)&&this.c.toggle.columns||a&&c.toggle.order)&&this.c.saveState.columns?(d.push(this.dom.columnsSearchToggle),d.push(this.dom.columnsVisibleToggle)):(a&&void 0!==c.toggle.columns||"boolean"===typeof this.c.toggle.columns)&&"boolean"===typeof c.toggle.order||("boolean"!==typeof this.c.saveState.columns&&this.c.saveState.columns?((a&&void 0!==c.toggle.columns&&"boolean"!==typeof c.toggle.columns&&c.toggle.columns.search||
(!a||void 0===c.toggle.columns||"boolean"!==typeof c.toggle.columns&&void 0===c.toggle.columns.search)&&"boolean"!==typeof this.c.toggle.columns&&this.c.toggle.columns.search)&&this.c.saveState.columns.search&&d.push(this.dom.columnsSearchToggle),(a&&void 0!==c.toggle.columns&&"boolean"!==typeof c.toggle.columns&&c.toggle.columns.visible||(!a||void 0===c.toggle.columns||"boolean"!==typeof c.toggle.columns&&void 0===c.toggle.columns.visible)&&"boolean"!==typeof this.c.toggle.columns&&this.c.toggle.columns.visible)&&
this.c.saveState.columns.visible&&d.push(this.dom.columnsVisibleToggle)):this.c.saveState.columns&&(d.push(this.dom.columnsSearchToggle),d.push(this.dom.columnsVisibleToggle)));d.sort(function(k,v){k=k.children("label.dtsr-check-label")[0].innerHTML;v=v.children("label.dtsr-check-label")[0].innerHTML;return k<v?-1:k>v?1:0});for(m=0;m<d.length;m++)c=d[m],this.dom.creationForm.append(c);n(this.dom.creationForm.children("div."+this.classes.checkRow)[0]).prepend(this.dom.toggleLabel);this.dom.background.appendTo(this.dom.dtContainer);
this.dom.creation.append(this.dom.creationTitle).append(this.dom.creationForm).append(this.dom.createButtonRow).appendTo(this.dom.dtContainer);n(this.s.dt.table().node()).trigger("dtsr-modal-inserted");m=function(k){n(k.children("label:last-child")).on("click",function(){k.children("input").prop("checked",!k.children("input").prop("checked"))})};for(a=0;a<d.length;a++)c=d[a],m(c);var e=n("button."+this.classes.creationButton.replace(/ /g,"."));d=this.dom.creationForm.find("input");0<d.length?n(d[0]).focus():
e.focus();var h=n("div."+this.classes.background.replace(/ /g,".")),q=function(k){"Enter"===k.key?e.click():"Escape"===k.key&&h.click()};this.c.modalCloseButton&&(this.dom.creation.append(this.dom.closeButton),this.dom.closeButton.on("click",function(){return h.click()}));e.on("click",function(){var k={colReorder:g.dom.colReorderToggle.children("input").is(":checked"),columns:{search:g.dom.columnsSearchToggle.children("input").is(":checked"),visible:g.dom.columnsVisibleToggle.children("input").is(":checked")},
length:g.dom.lengthToggle.children("input").is(":checked"),order:g.dom.orderToggle.children("input").is(":checked"),paging:g.dom.pagingToggle.children("input").is(":checked"),scroller:g.dom.scrollerToggle.children("input").is(":checked"),search:g.dom.searchToggle.children("input").is(":checked"),searchBuilder:g.dom.searchBuilderToggle.children("input").is(":checked"),searchPanes:g.dom.searchPanesToggle.children("input").is(":checked"),select:g.dom.selectToggle.children("input").is(":checked")};k=
b(n("input."+g.classes.nameInput.replace(/ /g,".")).val(),{saveState:k});!0===k?(g.dom.background.remove(),g.dom.creation.remove(),n(document).unbind("keyup",q)):(g.dom.creation.children("."+g.classes.modalError).remove(),g.dom.creation.append(g.dom[k+"Error"]))});h.one("click",function(){g.dom.background.remove();g.dom.creation.remove();n(document).unbind("keyup",q);g._collectionRebuild()});n(document).on("keyup",q);this.s.dt.state.save()};p.prototype._removeCallback=function(b){for(var d=0;d<this.s.states.length;d++)this.s.states[d].s.identifier===
b&&(this.s.states.splice(d,1),d--);this._collectionRebuild();return!0};p.prototype._newModal=function(b,d,c,g){var m=this;this.dom.background.appendTo(this.dom.dtContainer);this.dom.confirmationTitleRow.empty().append(b);var a=n('<button class="'+this.classes.confirmationButton+" "+this.classes.dtButton+'">'+d+"</button>");this.dom.confirmation.empty().append(this.dom.confirmationTitleRow).append(g).append(n('<div class="'+this.classes.confirmationButtons+'"></div>').append(a)).appendTo(this.dom.dtContainer);
n(this.s.dt.table().node()).trigger("dtsr-modal-inserted");b=g.children("input");0<b.length?n(b[0]).focus():a.focus();var e=n("div."+this.classes.background.replace(/ /g,".")),h=function(q){"Enter"===q.key?a.click():"Escape"===q.key&&e.click()};a.on("click",function(){var q=c(!0);!0===q?(m.dom.background.remove(),m.dom.confirmation.remove(),n(document).unbind("keyup",h),a.off("click")):(m.dom.confirmation.children("."+m.classes.modalError).remove(),m.dom.confirmation.append(m.dom[q+"Error"]))});this.dom.confirmation.on("click",
function(q){q.stopPropagation()});e.one("click",function(){m.dom.background.remove();m.dom.confirmation.remove();n(document).unbind("keyup",h)});n(document).on("keyup",h)};p.prototype._searchForStates=function(){for(var b=this,d=function(a){if(a.match(new RegExp("^DataTables_stateRestore_.*_"+location.pathname.replace(/\//g,"/")+"$"))||a.match(new RegExp("^DataTables_stateRestore_.*_"+location.pathname.replace(/\//g,"/")+"_"+c.s.dt.table().node().id+"$"))){var e=JSON.parse(localStorage.getItem(a));
if(e.stateRestore.isPreDefined||e.stateRestore.tableId&&e.stateRestore.tableId!==c.s.dt.table().node().id)return"continue";var h=c,q=new u(c.s.dt,n.extend(!0,{},c.c,{saveState:e.c.saveState}),e.stateRestore.state,e,!1,function(){this.s.savedState=e;h.s.states.push(this);h._collectionRebuild()});n(c.s.dt.table().node()).on("dtsr-modal-inserted",function(){q.dom.confirmation.one("dtsr-remove",function(){return b._removeCallback(q.s.identifier)});q.dom.confirmation.one("dtsr-rename",function(){return b._collectionRebuild()});
q.dom.confirmation.one("dtsr-save",function(){return b._collectionRebuild()})})}},c=this,g=0,m=Object.keys(localStorage);g<m.length;g++)d(m[g])};p.version="1.0.0";p.classes={background:"dtsr-background",checkBox:"dtsr-check-box",checkLabel:"dtsr-check-label",checkRow:"dtsr-check-row",closeButton:"dtsr-popover-close",colReorderToggle:"dtsr-colReorder-toggle",columnsSearchToggle:"dtsr-columns-search-toggle",columnsVisibleToggle:"dtsr-columns-visible-toggle",confirmation:"dtsr-confirmation",confirmationButton:"dtsr-confirmation-button",
confirmationButtons:"dtsr-confirmation-buttons",confirmationMessage:"dtsr-confirmation-message dtsr-name-label",confirmationText:"dtsr-confirmation-text",confirmationTitle:"dtsr-confirmation-title",confirmationTitleRow:"dtsr-confirmation-title-row",creation:"dtsr-creation",creationButton:"dtsr-creation-button",creationForm:"dtsr-creation-form",creationText:"dtsr-creation-text",creationTitle:"dtsr-creation-title",dtButton:"dt-button",emptyStates:"dtsr-emptyStates",formRow:"dtsr-form-row",leftSide:"dtsr-left",
lengthToggle:"dtsr-length-toggle",modalError:"dtsr-modal-error",modalFoot:"dtsr-modal-foot",nameInput:"dtsr-name-input",nameLabel:"dtsr-name-label",orderToggle:"dtsr-order-toggle",pagingToggle:"dtsr-paging-toggle",rightSide:"dtsr-right",scrollerToggle:"dtsr-scroller-toggle",searchBuilderToggle:"dtsr-searchBuilder-toggle",searchPanesToggle:"dtsr-searchPanes-toggle",searchToggle:"dtsr-search-toggle",selectToggle:"dtsr-select-toggle",toggleLabel:"dtsr-toggle-title"};p.defaults={_createInSaved:!1,ajax:!1,
create:!0,creationModal:!1,i18n:{creationModal:{button:"Create",colReorder:"Column Order",columns:{search:"Column Search",visible:"Column Visibility"},length:"Page Length",name:"Name:",order:"Sorting",paging:"Paging",scroller:"Scroll Position",search:"Search",searchBuilder:"SearchBuilder",searchPanes:"SearchPanes",select:"Select",title:"Create New State",toggleLabel:"Includes:"},duplicateError:"A state with this name already exists.",emptyError:"Name cannot be empty.",emptyStates:"No saved states",
removeConfirm:"Are you sure you want to remove %s?",removeError:"Failed to remove state.",removeJoiner:" and ",removeSubmit:"Remove",removeTitle:"Remove State",renameButton:"Rename",renameLabel:"New Name for %s:",renameTitle:"Rename State"},modalCloseButton:!0,preDefined:{},remove:!0,rename:!0,save:!0,saveState:{colReorder:!0,columns:{search:!0,visible:!0},length:!0,order:!0,paging:!0,scroller:!0,search:!0,searchBuilder:!0,searchPanes:!0,select:!0},splitSecondaries:["updateState","renameState","removeState"],
toggle:{colReorder:!1,columns:{search:!1,visible:!1},length:!1,order:!1,paging:!1,scroller:!1,search:!1,searchBuilder:!1,searchPanes:!1,select:!1}};return p}();(function(p){"function"===typeof define&&define.amd?define(["jquery","datatables.net"],function(b){return p(b,window,document)}):"object"===typeof exports?module.exports=function(b,d){b||(b=window);d&&d.fn.dataTable||(d=require("datatables.net")(b,d).$);return p(d,b,b.document)}:p(window.jQuery,window,document)})(function(p,b,d){function c(a,
e){e=new p.fn.dataTable.StateRestoreCollection(a,e.config);g(a,e)}function g(a,e){var h=a.stateRestore.states(),q=a.button("SaveStateRestore:name");q=void 0!==q[0]&&void 0!==q[0].inst.c.buttons[0].buttons?q[0].inst.c.buttons[0].buttons:[];for(var k=a.settings()[0]._stateRestore.c,v=0;v<q.length;v++)"stateRestore"===q[v].extend&&(q.splice(v,1),v--);k._createInSaved&&q.push("createState");if(void 0===h||0===h.length)q.push('<span class="'+e.classes.emptyStates+'">'+a.i18n("stateRestore.emptyStates",
e.c.i18n.emptyStates)+"</span>");else for(e=0;e<h.length;e++){v=h[e];var w=Object.assign([],k.splitSecondaries);w.includes("updateState")&&!k.save&&w.splice(w.indexOf("updateState"),1);!w.includes("renameState")||k.save&&k.rename||w.splice(w.indexOf("renameState"),1);w.includes("removeState")&&!k.remove&&w.splice(w.indexOf("removeState"),1);0<w.length&&!w.includes("<h3>"+v.s.identifier+"</h3>")&&w.unshift("<h3>"+v.s.identifier+"</h3>");q.push({_stateRestore:v,attr:{title:v.s.identifier},config:{split:w},
extend:"stateRestore",text:v.s.identifier})}a.button("SaveStateRestore:name").collectionRebuild(q);q=0;for(k=a.buttons();q<k.length;q++)e=k[q],p(e.node).hasClass("dtsr-removeAllStates")&&(0===h.length?a.button(e.node).disable():a.button(e.node).enable())}l(p);r(p);var m=p.fn.dataTable;p.fn.dataTable.StateRestore=u;p.fn.DataTable.StateRestore=u;p.fn.dataTable.StateRestoreCollection=C;p.fn.DataTable.StateRestoreCollection=C;b=p.fn.dataTable.Api.register;b("stateRestore()",function(){return this});b("stateRestore.state()",
function(a){var e=this.context[0];if(!e._stateRestore){var h=p.fn.DataTable.Api(e),q=new p.fn.dataTable.StateRestoreCollection(h,{});g(h,q)}this[0]=e._stateRestore.getState(a);return this});b("stateRestore.state.add()",function(a,e){var h=this.context[0];if(!h._stateRestore){var q=p.fn.DataTable.Api(h),k=new p.fn.dataTable.StateRestoreCollection(q,{});g(q,k)}if(!h._stateRestore.c.create)return this;if(h._stateRestore.addState){q=[];k=0;for(var v=h._stateRestore.s.states;k<v.length;k++)q.push(v[k].s.identifier);
h._stateRestore.addState(a,q,e);return this}});b("stateRestore.states()",function(a){var e=this.context[0];if(!e._stateRestore){var h=p.fn.DataTable.Api(e),q=new p.fn.dataTable.StateRestoreCollection(h,{});g(h,q)}this.length=0;this.push.apply(this,e._stateRestore.getStates(a));return this});b("stateRestore.state().save()",function(){var a=this[0];a.c.save&&a.save();return this});b("stateRestore.state().rename()",function(a){var e=this.context[0],h=this[0];if(h.c.save){var q=[],k=0;for(e=e._stateRestore.s.states;k<
e.length;k++)q.push(e[k].s.identifier);h.rename(a,q)}return this});b("stateRestore.state().load()",function(){this[0].load();return this});b("stateRestore.state().remove()",function(a){var e=this[0];e.c.remove&&e.remove(a);return this});b("stateRestore.states().remove()",function(a){var e=this,h=function(q){for(var k=!0,v=e.toArray();0<v.length;){var w=v[0];if(void 0!==w&&w.c.remove)w=w.remove(q),!0!==w?k=w:v.splice(0,1);else break}return k};this.context[0]._stateRestore.c.remove&&(a?h(a):this.context[0]._stateRestore.removeAll(h));
return this});b("stateRestore.activeStates()",function(){var a=this.context[0];this.length=0;if(!a._stateRestore){var e=p.fn.DataTable.Api(a),h=new p.fn.dataTable.StateRestoreCollection(e,{});g(e,h)}a._stateRestore&&this.push.apply(this,a._stateRestore.findActive());return this});p.fn.dataTable.ext.buttons.stateRestore={action:function(a,e,h,q){q._stateRestore.load();h.blur()},config:{split:["updateState","renameState","removeState"]},text:function(a){return a.i18n("buttons.stateRestore","State %d",
a.stateRestore.states()[0].length+1)}};p.fn.dataTable.ext.buttons.updateState={action:function(a,e,h,q){p("div.dt-button-background").click();q.parent._stateRestore.save()},text:function(a){return a.i18n("buttons.updateState","Update")}};p.fn.dataTable.ext.buttons.savedStates={buttons:[],extend:"collection",init:function(a,e,h){a.on("stateRestore-change",function(){a.button(e).text(a.i18n("buttons.savedStates","Saved States",a.stateRestore.states().length))});void 0===a.settings()[0]._stateRestore&&
c(a,h)},name:"SaveStateRestore",text:function(a){return a.i18n("buttons.savedStates","Saved States",0)}};p.fn.dataTable.ext.buttons.savedStatesCreate={buttons:[],extend:"collection",init:function(a,e,h){a.on("stateRestore-change",function(){a.button(e).text(a.i18n("buttons.savedStates","Saved States",a.stateRestore.states().length))});void 0===a.settings()[0]._stateRestore&&(void 0===h.config&&(h.config={}),h.config._createInSaved=!0,c(a,h))},name:"SaveStateRestore",text:function(a){return a.i18n("buttons.savedStates",
"Saved States",0)}};p.fn.dataTable.ext.buttons.createState={action:function(a,e,h,q){a.stopPropagation();a=e.settings()[0]._stateRestore.c;var k=e.settings()[0].oLanguage;if(a.create&&a.save){var v=e.stateRestore.states().toArray();k=void 0!==k.buttons&&void 0!==k.buttons.stateRestore?k.buttons.stateRestore:"State ";if(k.indexOf("%d")===k.length-3)var w=new RegExp(k.replace(/%d/g,""));else{var A=k.split("%d");w=[];for(var B=0;B<A.length;B++)k=A[B],w.push(new RegExp(k))}var E=function(z){if(Array.isArray(w)){var y=
z;for(var D=0,F=w;D<F.length;D++)y=y.replace(F[D],"")}else y=z.replace(w,"");return isNaN(+y)||y.length===z?0:+y};k=v.map(function(z){return E(z.s.identifier)}).sort(function(z,y){return+z<+y?1:+z>+y?-1:0})[0];e.stateRestore.state.add(e.i18n("buttons.stateRestore","State %d",void 0!==k?k+1:1),q.config);q=e.stateRestore.states().sort(function(z,y){z=+E(z.s.identifier);y=+E(y.s.identifier);return z>y?1:z<y?-1:0});k=e.button("SaveStateRestore:name");v=void 0!==k[0]&&void 0!==k[0].inst.c.buttons[0].buttons?
k[0].inst.c.buttons[0].buttons:[];for(k=0;k<v.length;k++)"stateRestore"===v[k].extend&&(v.splice(k,1),k--);a._createInSaved&&(v.push("createState"),v.push(""));for(A=0;A<q.length;A++)B=q[A],k=Object.assign([],a.splitSecondaries),k.includes("updateState")&&!a.save&&k.splice(k.indexOf("updateState"),1),!k.includes("renameState")||a.save&&a.rename||k.splice(k.indexOf("renameState"),1),k.includes("removeState")&&!a.remove&&k.splice(k.indexOf("removeState"),1),0<k.length&&!k.includes("<h3>"+B.s.identifier+
"</h3>")&&k.unshift("<h3>"+B.s.identifier+"</h3>"),v.push({_stateRestore:B,attr:{title:B.s.identifier},config:{split:k},extend:"stateRestore",text:B.s.identifier});e.button("SaveStateRestore:name").collectionRebuild(v);h.blur();h=0;for(a=e.buttons();h<a.length;h++)k=a[h],p(k.node).hasClass("dtsr-removeAllStates")&&(0===q.length?e.button(k.node).disable():e.button(k.node).enable())}},init:function(a,e,h){void 0===a.settings()[0]._stateRestore&&1<a.button("SaveStateRestore:name").length&&c(a,h)},text:function(a){return a.i18n("buttons.createState",
"Create State")}};p.fn.dataTable.ext.buttons.removeState={action:function(a,e,h,q){q.parent._stateRestore.remove();h.blur()},text:function(a){return a.i18n("buttons.removeState","Remove")}};p.fn.dataTable.ext.buttons.removeAllStates={action:function(a,e,h){e.stateRestore.states().remove(!0);h.blur()},className:"dt-button dtsr-removeAllStates",init:function(a,e){0===a.stateRestore.states().length&&p(e).addClass("disabled")},text:function(a){return a.i18n("buttons.removeAllStates","Remove All States")}};
p.fn.dataTable.ext.buttons.renameState={action:function(a,e,h,q){a=[];var k=0;for(e=e.settings()[0]._stateRestore.s.states;k<e.length;k++)a.push(e[k].s.identifier);q.parent._stateRestore.rename(void 0,a);h.blur()},text:function(a){return a.i18n("buttons.renameState","Rename")}};p(d).on("preInit.dt.dtsr",function(a,e){"dt"!==a.namespace||!e.oInit.stateRestore&&!m.defaults.stateRestore||e._stateRestore||(a=null,void 0===a&&(a=null),e=new m.Api(e),a=a?a:e.init().stateRestore||m.defaults.stateRestore,
a=new C(e,a),g(e,a))})})})();


/*!
 Bootstrap integration for DataTables' StateRestore
 Â©2016 SpryMedia Ltd - datatables.net/license
*/
(function(b){"function"===typeof define&&define.amd?define(["jquery","datatables.net-bs4","datatables.net-staterestore"],function(a){return b(a)}):"object"===typeof exports?module.exports=function(a,c){a||(a=window);c&&c.fn.dataTable||(c=require("datatables.net-bs4")(a,c).$);c.fn.dataTable.StateRestore||require("datatables.net-staterestore")(a,c);return b(c)}:b(jQuery)})(function(b){var a=b.fn.dataTable;b.extend(!0,a.StateRestoreCollection.classes,{checkBox:"dtsr-check-box form-check-input",creationButton:"dtsr-creation-button btn btn-secondary",
creationForm:"dtsr-creation-form modal-body",creationText:"dtsr-creation-text modal-header",creationTitle:"dtsr-creation-title modal-title",nameInput:"dtsr-name-input form-control"});b.extend(!0,a.StateRestore.classes,{confirmationButton:"dtsr-confirmation-button btn btn-secondary",input:"dtsr-input form-control"});return a.stateRestore});


